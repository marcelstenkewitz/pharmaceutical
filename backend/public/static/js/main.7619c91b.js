/*! For license information please see main.7619c91b.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach(function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}}),o})};var r,o=n(534),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,g(b,y.prototype),b.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+x(l,0):i,C(a)?(o="",null!=e&&(o=e.replace(N,"$&/")+"/"),O(a,t,o,"",function(e){return e})):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",C(e))for(var c=0;c<e.length;c++){var u=i+x(s=e[c],c);l+=O(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,o,u=i+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},k={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:k,ReactCurrentOwner:_};t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,k(E);else{var t=r(u);null!==t&&D(C,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var i=h;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&o(c),b(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&D(C,d.startTime-n),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,A=null,I=-1,N=5,x=-1;function O(){return!(t.unstable_now()-x<N)}function T(){if(null!==A){var e=t.unstable_now();x=e;var n=!0;try{n=A(!0,e)}finally{n?_():(S=!1,A=null)}}else S=!1}if("function"===typeof w)_=function(){w(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=T,_=function(){P.postMessage(null)}}else _=function(){y(T,0)};function k(e){A=e,S||(S=!0,_())}function D(e,n){I=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,k(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(v(I),I=-1):m=!0,D(C,i-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,k(E))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,s,i,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},579:(e,t,n)=>{"use strict";e.exports=n(153)},600:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function B(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case A:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Q(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,Se=null;function Ae(e){if(e=bo(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ne(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function xe(e,t){return e(t)}function Oe(){}var Te=!1;function Re(e,t,n){if(Te)return e(t,n);Te=!0;try{return xe(e,t,n)}finally{Te=!1,(null!==_e||null!==Se)&&(Oe(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var ke=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){ke=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){ke=!1}function je(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Be=!1,Fe=null,Ue={onError:function(e){Me=!0,Le=e}};function ze(e,t,n,r,o,i,a,s,l){Me=!1,Le=null,je.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return We(o),e;if(a===r)return We(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,qe=o.unstable_shouldYield,Ze=o.unstable_requestPaint,$e=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,Et,_t,St,At,It=!1,Nt=[],xt=null,Ot=null,Tt=null,Rt=new Map,Pt=new Map,kt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=wo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void At(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){It=!1,null!==xt&&Bt(xt)&&(xt=null),null!==Ot&&Bt(Ot)&&(Ot=null),null!==Tt&&Bt(Tt)&&(Tt=null),Rt.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Nt.length){zt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Ot&&zt(Ot,e),null!==Tt&&zt(Tt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Lt(n),null===n.blockedOn&&kt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=1,Yt(e,t,n,r)}finally{wt=o,Ht.transition=i}}function Xt(e,t,n,r){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=4,Yt(e,t,n,r)}finally{wt=o,Ht.transition=i}}function Yt(e,t,n,r){if(Wt){var o=qt(e,t,n,r);if(null===o)Wr(e,t,r,Kt,n),jt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,o),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,o),!0;case"mouseover":return Tt=Mt(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Mt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,Mt(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&Ct(i),null===(i=qt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function qt(e,t,n,r){if(Kt=null,null!==(e=wo(e=Ce(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),fn=on(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),gn=on(L({},hn,{dataTransfer:0})),mn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(L({},cn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function An(){return Sn}var In=L({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(In),xn=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),kn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Mn=u&&"TextEvent"in window&&!jn,Ln=u&&(!Dn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Xr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Kn(e){Br(e,0)}function qn(e){if(Y(Co(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Yn=Xn=null)}function nr(e){if("value"===e.propertyName&&qn(Yn)){var t=[];Gn(t,Yn,e,Ce(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Yn)}function ir(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Xr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},_r={},Sr={};function Ar(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=Ar("animationend"),Nr=Ar("animationiteration"),xr=Ar("animationstart"),Or=Ar("transitionend"),Tr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var kr=0;kr<Rr.length;kr++){var Dr=Rr[kr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=Le;Me=!1,Le=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var o=Gt;break;case 4:o=Xt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=wo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Re(function(){var r=i,o=Ce(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Ir:case Nr:case xr:l=yn;break;case Or:l=Tn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Pe(p,f))&&u.push(Gr(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!wo(c)&&!c[go])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wo(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:Co(l),h=null==c?s:Co(c),(s=new u(g,p+"leave",l,n,o)).target=d,s.relatedTarget=h,g=null,wo(o)===r&&((u=new u(f,p+"enter",c,n,o)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Yr(h))p++;for(h=0,g=f;g;g=Yr(g))h++;for(;0<p-h;)u=Yr(u),p--;for(;0<h-p;)f=Yr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Yr(u),f=Yr(f)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?Co(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(Wn(s))if($n)m=ar;else{m=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Gn(a,m,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?Co(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,o)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(v=en()):(Qt="value"in($t=o)?$t.value:$t.textContent,Vn=!0)),0<(y=Xr(r,w)).length&&(w=new bn(w,e,null,n,o),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Jt=Qt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Br(a,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Pe(e,n))&&r.unshift(Gr(e,i,o)),null!=(i=Pe(e,t))&&r.push(Gr(e,i,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Pe(n,i))&&a.unshift(Gr(n,l,s)):o||null!=(l=Pe(n,i))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,go="__reactContainer$"+fo,mo="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function wo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[ho])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[ho]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Eo(e){return e[po]||null}var _o=[],So=-1;function Ao(e){return{current:e}}function Io(e){0>So||(e.current=_o[So],_o[So]=null,So--)}function No(e,t){So++,_o[So]=e.current,e.current=t}var xo={},Oo=Ao(xo),To=Ao(!1),Ro=xo;function Po(e,t){var n=e.type.contextTypes;if(!n)return xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ko(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Do(){Io(To),Io(Oo)}function jo(e,t,n){if(Oo.current!==xo)throw Error(i(168));No(Oo,t),No(To,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Ro=Oo.current,No(Oo,e),No(To,To.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Io(To),Io(Oo),No(Oo,e)):Io(To),No(To,n)}var Fo=null,Uo=!1,zo=!1;function Vo(e){null===Fo?Fo=[e]:Fo.push(e)}function Ho(){if(!zo&&null!==Fo){zo=!0;var e=0,t=wt;try{var n=Fo;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Uo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ye(Je,Ho),o}finally{wt=t,zo=!1}}return null}var Wo=[],Go=0,Xo=null,Yo=0,Ko=[],qo=0,Zo=null,$o=1,Qo="";function Jo(e,t){Wo[Go++]=Yo,Wo[Go++]=Xo,Xo=e,Yo=t}function ei(e,t,n){Ko[qo++]=$o,Ko[qo++]=Qo,Ko[qo++]=Zo,Zo=e;var r=$o;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,$o=1<<32-at(t)+o|n<<o|r,Qo=i+e}else $o=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Xo;)Xo=Wo[--Go],Wo[Go]=null,Yo=Wo[--Go],Wo[Go]=null;for(;e===Zo;)Zo=Ko[--qo],Ko[qo]=null,Qo=Ko[--qo],Ko[qo]=null,$o=Ko[--qo],Ko[qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zo?{id:$o,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=b.ReactCurrentBatchConfig;function yi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vi=Ao(null),wi=null,bi=null,Ci=null;function Ei(){Ci=bi=wi=null}function _i(e){var t=vi.current;Io(vi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){wi=e,Ci=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===wi)throw Error(i(308));bi=e,wi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ni=null;function xi(e){null===Ni?Ni=[e]:Ni.push(e)}function Oi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,xi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ti(e,r)}function Ti(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ti(e,n)}return null===(o=r.interleaved)?(t.next=t,xi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ti(e,n)}function Mi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var o=e.updateQueue;Ri=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Ri=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ui=(new r.Component).refs;function zi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Di(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ji(e,i,o))&&(rc(t,e,o,r),Mi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Di(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ji(e,i,o))&&(rc(t,e,o,r),Mi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Di(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=ji(e,o,r))&&(rc(t,e,r,n),Mi(t,e,r))}};function Hi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function Wi(e,t,n){var r=!1,o=xo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(o=ko(t)?Ro:Oo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):xo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Xi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ui,Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ii(i):(i=ko(t)?Ro:Oo.current,o.context=Po(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),Bi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===Ui&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qi(e){return(0,e._init)(e._payload)}function Zi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&qi(i)===t.type)?((r=o(t,n.props)).ref=Yi(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Yi(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?c(e,t,n,r):null;case E:return n.key===o?u(e,t,n,r):null;case P:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||j(n))return null!==o?null:d(e,t,n,r,null);Ki(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,o,null);Ki(t,r)}return null}function g(o,i,s,l){for(var c=null,u=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(o,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(o,d),ii&&Jo(o,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(o,s[g],l))&&(i=a(d,i,g),null===u?c=d:u.sibling=d,u=d);return ii&&Jo(o,g),c}for(d=r(o,d);g<s.length;g++)null!==(m=p(d,o,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=a(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(o,e)}),ii&&Jo(o,g),c}function m(o,s,l,c){var u=j(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=h(o,g,v.value,c);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(o,g),s=a(w,s,m),null===d?u=w:d.sibling=w,d=w,g=y}if(v.done)return n(o,g),ii&&Jo(o,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=f(o,v.value,c))&&(s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return ii&&Jo(o,m),u}for(g=r(o,g);!v.done;m++,v=l.next())null!==(v=p(g,o,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(o,e)}),ii&&Jo(o,m),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case C:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&qi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=Yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((i=Mc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=Yi(r,i,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case P:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return g(r,i,a,l);if(j(a))return m(r,i,a,l);Ki(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Bc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var $i=Zi(!0),Qi=Zi(!1),Ji={},ea=Ao(Ji),ta=Ao(Ji),na=Ao(Ji);function ra(e){if(e===Ji)throw Error(i(174));return e}function oa(e,t){switch(No(na,t),No(ta,e),No(ea,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(ea),No(ea,t)}function ia(){Io(ea),Io(ta),Io(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(No(ta,e),No(ea,n))}function sa(e){ta.current===e&&(Io(ea),Io(ta))}var la=Ao(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var fa=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,ya=null,va=!1,wa=!1,ba=0,Ca=0;function Ea(){throw Error(i(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,o,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,o),wa){a=0;do{if(wa=!1,ba=0,25<=a)throw Error(i(301));a+=1,ya=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,o)}while(wa)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,ya=ma=ga=null,va=!1,t)throw Error(i(300));return e}function Aa(){var e=0!==ba;return ba=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=e:ya=ya.next=e,ya}function Na(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ya?ga.memoizedState:ya.next;if(null!==t)ya=t,ma=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ya?ga.memoizedState=ya=e:ya=ya.next=e}return ya}function xa(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=Na(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ma,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,ga.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ga.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Na(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function Pa(e,t){var n=ga,r=Na(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,Wa(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&pa)||ka(n,t,o)}return o}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&La(e)}function ja(e,t,n){return n(function(){Ma(t)&&La(e)})}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ti(e,1);null!==t&&rc(t,e,1,-1)}function Ba(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Na().memoizedState}function za(e,t,n,r){var o=Ia();ga.flags|=e,o.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var o=Na();r=void 0===r?null:r;var i=void 0;if(null!==ma){var a=ma.memoizedState;if(i=a.destroy,null!==r&&_a(r,a.deps))return void(o.memoizedState=Fa(t,n,i,r))}ga.flags|=e,o.memoizedState=Fa(1|t,n,i,r)}function Ha(e,t){return za(8390656,8,e,t)}function Wa(e,t){return Va(2048,8,e,t)}function Ga(e,t){return Va(4,2,e,t)}function Xa(e,t){return Va(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ya.bind(null,t,e),n)}function qa(){}function Za(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ja(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{wt=n,ha.transition=r}}function es(){return Na().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=Oi(e,t,n,r))){rc(n,e,r,tc()),is(n,t,r)}}function ns(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,xi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Oi(e,t,o,r))&&(rc(n,e,r,o=tc()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function os(e,t){wa=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:Ii,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:Ii,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Ba,useDebugValue:qa,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Ja.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,o=Ia();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&pa)||ka(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ha(ja.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Tl.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=($o&~(1<<32-at($o)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ca++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ii,useCallback:Za,useContext:Ii,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:Xa,useMemo:$a,useReducer:Oa,useRef:Ua,useState:function(){return Oa(xa)},useDebugValue:qa,useDeferredValue:function(e){return Qa(Na(),ma.memoizedState,e)},useTransition:function(){return[Oa(xa)[0],Na().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ii,useCallback:Za,useContext:Ii,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:Xa,useMemo:$a,useReducer:Ta,useRef:Ua,useState:function(){return Ta(xa)},useDebugValue:qa,useDeferredValue:function(e){var t=Na();return null===ma?t.memoizedState=e:Qa(t,ma.memoizedState,e)},useTransition:function(){return[Ta(xa)[0],Na().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Xl=r),fs(0,t)},n}function gs(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,ji(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ws=b.ReactCurrentOwner,bs=!1;function Cs(e,t,n,r){t.child=null===e?Qi(t,null,n,r):$i(t,e.child,n,r)}function Es(e,t,n,r,o){n=n.render;var i=t.ref;return Ai(t,o),r=Sa(e,t,n,r,i,o),n=Aa(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,Cs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function _s(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||kc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Gs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,o)}function As(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Dl,kl),kl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(Dl,kl),kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,No(Dl,kl),kl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,No(Dl,kl),kl|=r;return Cs(e,t,o,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,o){var i=ko(n)?Ro:Oo.current;return i=Po(t,i),Ai(t,o),n=Sa(e,t,n,r,i,o),r=Aa(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,Cs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function xs(e,t,n,r,o){if(ko(n)){var i=!0;Lo(t)}else i=!1;if(Ai(t,o),null===t.stateNode)Ws(e,t),Wi(t,n,r),Xi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Po(t,c=ko(n)?Ro:Oo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Gi(t,a,r,c),Ri=!1;var f=t.memoizedState;a.state=f,Bi(t,r,a,o),l=t.memoizedState,s!==r||f!==l||To.current||Ri?("function"===typeof u&&(zi(t,n,u,r),l=t.memoizedState),(s=Ri||Hi(t,n,s,r,f,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ki(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yi(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Po(t,l=ko(n)?Ro:Oo.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Gi(t,a,r,l),Ri=!1,f=t.memoizedState,a.state=f,Bi(t,r,a,o);var p=t.memoizedState;s!==d||f!==p||To.current||Ri?("function"===typeof h&&(zi(t,n,h,r),p=t.memoizedState),(c=Ri||Hi(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,i,o)}function Os(e,t,n,r,o,i){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Bo(t,n,!1),Gs(e,t,i);r=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,s,i)):Cs(e,t,s,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?jo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jo(0,t.context,!1),oa(e,t.containerInfo)}function Rs(e,t,n,r,o){return pi(),gi(o),t.flags|=256,Cs(e,t,n,r),t.child}var Ps,ks,Ds,js,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,o=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),No(la,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,o,0,null),e=Mc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Mc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ti(e,o),rc(r,e,o,-1))}return mc(),Us(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[qo++]=$o,Ko[qo++]=Qo,Ko[qo++]=Zo,$o=e.id,Qo=e.overflow,Zo=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,o}return e=(s=e.child).sibling,o=Dc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&gi(r),$i(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Vs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Cs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(No(la,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ca(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return ko(t.type)&&Do(),Ys(t),null;case 3:return r=t.stateNode,ia(),Io(To),Io(Oo),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(sc(ai),ai=null))),ks(e,t),Ys(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=ra(ea.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ho]=t,r[po]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<jr.length;o++)Fr(jr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":oe(r,a),Fr("invalid",r)}for(var l in ve(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":X(r),J(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ho]=t,e[po]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)Fr(jr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Z(e,r),o=q(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(a in ve(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Ys(t),null;case 13:if(Io(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==ai&&(sc(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return ia(),ks(e,t),null===e&&Vr(t.stateNode.containerInfo),Ys(t),null;case 10:return _i(t.type._context),Ys(t),null;case 19:if(Io(la),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Xs(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Xs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return No(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Hl&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Ys(t),null}else 2*$e()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=la.current,No(la,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&kl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function qs(e,t){switch(ni(t),t.tag){case 1:return ko(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Io(To),Io(Oo),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Io(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(la),null;case 4:return ia(),null;case 10:return _i(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ks=function(){},Ds=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=q(e,o),r=q(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[mo],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:$s||el(n,t);case 6:var r=dl,o=fl;dl=null,hl(e,t,n),fl=o,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=o;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tl(n,t,a),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!$s&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ac(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hl(e,t,n),$s=r):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(a,s,o),dl=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Ac(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(m){Ac(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(o,a),we(l,s);var u=we(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):w(o,d,f,u)}switch(l){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(m){Ac(e,e.return,m)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){Ac(e,e.return,m)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=$e())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(u=$s)||d,ml(t,e),$s=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){El(f);continue}}null!==p?(p.return=h,Js=p):El(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ac(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(i(161))}}catch(s){Ac(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Zs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Zs;var c=$s;if(Zs=a,($s=l)&&!c)for(Js=o;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?_l(o):null!==l?(l.return=a,Js=l):_l(o);for(;null!==i;)Js=i,bl(i,t,n),i=i.sibling;Js=o,Zs=s,$s=c}Cl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):Cl(e)}}function Cl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(i(163))}$s||512&t.flags&&il(t)}catch(h){Ac(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(l){Ac(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Ac(t,o,l)}}var i=t.return;try{il(t)}catch(l){Ac(t,i,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ac(t,a,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Al=Math.ceil,Il=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Ol=0,Tl=null,Rl=null,Pl=0,kl=0,Dl=Ao(0),jl=0,Ml=null,Ll=0,Bl=0,Fl=0,Ul=null,zl=null,Vl=0,Hl=1/0,Wl=null,Gl=!1,Xl=null,Yl=null,Kl=!1,ql=null,Zl=0,$l=0,Ql=null,Jl=-1,ec=0;function tc(){return 0!==(6&Ol)?$e():-1!==Jl?Jl:Jl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===ec&&(ec=gt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Ql=null,Error(i(185));yt(e,n,r),0!==(2&Ol)&&e===Tl||(e===Tl&&(0===(2&Ol)&&(Bl|=n),4===jl&&lc(e,Pl)),oc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Hl=$e()+500,Uo&&Ho()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Tl?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Uo=!0,Vo(e)}(cc.bind(null,e)):Vo(cc.bind(null,e)),ao(function(){0===(6&Ol)&&Ho()}),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,ec=0,0!==(6&Ol))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var o=Ol;Ol|=2;var a=gc();for(Tl===e&&Pl===t||(Wl=null,Hl=$e()+500,hc(e,t));;)try{wc();break}catch(l){pc(e,l)}Ei(),Il.current=a,Ol=o,null!==Rl?t=0:(Tl=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t)throw n=Ml,hc(e,0),lc(e,r),oc(e,$e()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,hc(e,0),lc(e,r),oc(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Ec.bind(null,e,zl,Wl),t);break}Ec(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ro(Ec.bind(null,e,zl,Wl),r);break}Ec(e,zl,Wl);break;default:throw Error(i(329))}}}return oc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ol))throw Error(i(327));_c();var t=ft(e,0);if(0===(1&t))return oc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,hc(e,0),lc(e,t),oc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Wl),oc(e,$e()),null}function uc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Hl=$e()+500,Uo&&Ho())}}function dc(e){null!==ql&&0===ql.tag&&0===(6&Ol)&&_c();var t=Ol;Ol|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Ol=t))&&Ho()}}function fc(){kl=Dl.current,Io(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Do();break;case 3:ia(),Io(To),Io(Oo),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:Io(la);break;case 10:_i(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Tl=e,Rl=e=Dc(e.current,null),Pl=kl=t,jl=0,Ml=null,Fl=Bl=Ll=0,zl=Ul=null,null!==Ni){for(t=0;t<Ni.length;t++)if(null!==(r=(n=Ni[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ni=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ei(),fa.current=as,va){for(var r=ga.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}va=!1}if(pa=0,ya=ma=ga=null,wa=!1,ba=0,Nl.current=null,null===n||null===n.return){jl=1,Ml=t,Rl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,t),gi(us(c,l));break e}}a=c=us(c,l),4!==jl&&(jl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ps(0,c,t));break e;case 1:l=c;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Yl||!Yl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}Cc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=Il.current;return Il.current=as,null===e?as:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Bl)||lc(Tl,Pl)}function yc(e,t){var n=Ol;Ol|=2;var r=gc();for(Tl===e&&Pl===t||(Wl=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ei(),Ol=n,Il.current=r,null!==Rl)throw Error(i(261));return Tl=null,Pl=0,jl}function vc(){for(;null!==Rl;)bc(Rl)}function wc(){for(;null!==Rl&&!qe();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,kl);e.memoizedProps=e.pendingProps,null===t?Cc(e):Rl=t,Nl.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,kl)))return void(Rl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return jl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===jl&&(jl=5)}function Ec(e,t,n){var r=wt,o=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{_c()}while(null!==ql);if(0!==(6&Ol))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(Rl=Tl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,function(){return _c(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var s=wt;wt=1;var l=Ol;Ol|=4,Nl.current=null,function(e,t){if(eo=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(C){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=s),h===a&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:yi(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(C){Ac(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=nl,nl=!1}(e,n),yl(n,e),pr(to),Wt=!!eo,to=eo=null,e.current=n,wl(n,e,o),Ze(),Ol=l,wt=s,xl.transition=a}else e.current=n;if(Kl&&(Kl=!1,ql=e,Zl=o),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gl)throw Gl=!1,e=Xl,Xl=null,e;0!==(1&Zl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Ql?$l++:($l=0,Ql=e):$l=0,Ho()}(e,t,n,r)}finally{xl.transition=o,wt=r}return null}function _c(){if(null!==ql){var e=bt(Zl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Zl=0,0!==(6&Ol))throw Error(i(331));var o=Ol;for(Ol|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var w=e.current;for(Js=w;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=w;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(E){Ac(l,l.return,E)}if(l===s){Js=null;break e}var C=l.sibling;if(null!==C){C.return=l.return,Js=C;break e}Js=l.return}}if(Ol=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Sc(e,t,n){e=ji(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),oc(e,t))}function Ac(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=ji(t,e=gs(t,e=us(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),oc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>$e()-Vl?hc(e,0):Fl|=n),oc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ti(e,t))&&(yt(e,t,n),oc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nc(e,n)}function Tc(e,t){return Ye(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function kc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)kc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,o,a,t);case S:s=8,o|=8;break;case A:return(e=Pc(12,n,t,2|o)).elementType=A,e.lanes=a,e;case O:return(e=Pc(13,n,t,o)).elementType=O,e.lanes=a,e;case T:return(e=Pc(19,n,t,o)).elementType=T,e.lanes=a,e;case k:return Lc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case N:s=9;break e;case x:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,o,i,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Vc(e){if(!e)return xo;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(ko(n))return Mo(e,n,t)}return t}function Hc(e,t,n,r,o,i,a,s,l){return(e=zc(n,r,!0,e,0,i,0,s,l)).context=Vc(null),n=e.current,(i=Di(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,ji(n,i,o),e.current.lanes=o,yt(e,o,r),oc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=tc(),a=nc(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ji(o,t,a))&&(rc(e,o,a,i),Mi(e,o,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),pi();break;case 5:aa(t);break;case 1:ko(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;No(vi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(No(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(No(la,1&la.current),null!==(e=Gs(e,t,n))?e.sibling:null);No(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var o=Po(t,Oo.current);Ai(t,n),o=Sa(null,t,r,e,o,n);var a=Aa();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ko(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Pi(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Xi(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),Cs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return kc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=yi(r,e),o){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=_s(null,t,r,yi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ns(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 1:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,ki(e,t),Bi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,o=us(Error(i(423)),t));break e}if(r!==o){t=Rs(e,t,r,n,o=us(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Gs(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Is(e,t),Cs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Bs(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,No(vi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!To.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Di(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Si(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Cs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ai(t,n),r=r(o=Ii(o)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return o=yi(r=t.type,t.pendingProps),_s(e,t,r,o=yi(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yi(r,o),Ws(e,t),t.tag=1,ko(r)?(e=!0,Lo(t)):e=!1,Ai(t,n),Wi(t,r,o),Xi(t,r,o,n),Os(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return As(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Gc(a);s.call(e)}}Wc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Gc(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[go]=a.current,Vr(8===e.nodeType?e.parentNode:e),dc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[go]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,o,r);return Gc(a)}Zc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Zc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[go]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&0!==t&&t<kt[n].priority;n++);kt.splice(n,0,e),0===n&&Lt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),oc(t,$e()),0===(6&Ol)&&(Hl=$e()+500,Ho()))}break;case 13:dc(function(){var t=Ti(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Yc(e,1)}},Et=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ti(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},St=function(){return wt},At=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Eo(r);if(!o)throw Error(i(90));Y(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Oe=dc;var tu={usingClientEntryPoint:!1,Events:[bo,Co,Eo,Ie,Ne,uc]},nu={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,o),e[go]=t.current,Vr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,a,s),e[go]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},734:()=>{!function(){"use strict"}()},740:e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>er,hasStandardBrowserEnv:()=>nr,hasStandardBrowserWebWorkerEnv:()=>rr,navigator:()=>tr,origin:()=>or});var t=n(43),r=n.t(t,2),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function d(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=n(600),h=n.n(f);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}n(740);function g(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function y(e,n,r){var o=(0,t.useRef)(void 0!==e),i=(0,t.useState)(n),a=i[0],s=i[1],l=void 0!==e,c=o.current;return o.current=l,!l&&c&&a!==n&&s(n),[l?e:a,(0,t.useCallback)(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),s(e)},[r])]}function v(e,t){return Object.keys(t).reduce(function(n,r){var o,i=n,a=i[g(r)],s=i[r],l=u(i,[g(r),r].map(m)),c=t[r],d=y(s,a,e[c]),f=d[0],h=d[1];return p({},l,((o={})[r]=f,o[c]=h,o))},e)}function w(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function b(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function C(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}w.__suppressDeprecationWarning=!0,b.__suppressDeprecationWarning=!0,C.__suppressDeprecationWarning=!0;const E=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)(function(){n.current=e},[e]),n};function _(e){var n=E(e);return(0,t.useCallback)(function(){return n.current&&n.current.apply(n,arguments)},[n])}"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product;new WeakMap;var S=n(579);const A=["as","disabled"];function I(e){let{tagName:t,disabled:n,href:r,target:o,rel:i,role:a,onClick:s,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=o||null!=i?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const N=t.forwardRef((e,t)=>{let{as:n,disabled:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,A);const[i,{tagName:a}]=I(Object.assign({tagName:n,disabled:r},o));return(0,S.jsx)(a,Object.assign({},o,i,{ref:t}))});N.displayName="Button";const x=N,O=["onKeyDown"];const T=t.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,O);const[o]=I(Object.assign({tagName:"a"},r)),i=_(e=>{o.onKeyDown(e),null==n||n(e)});return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,S.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,S.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:i}));var a});T.displayName="Anchor";const R=T,P=["xxl","xl","lg","md","sm","xs"],k="xs",D=t.createContext({prefixes:{},breakpoints:P,minBreakpoint:k}),{Consumer:j,Provider:M}=D;function L(e,n){const{prefixes:r}=(0,t.useContext)(D);return e||r[n]||n}function B(){const{breakpoints:e}=(0,t.useContext)(D);return e}function F(){const{minBreakpoint:e}=(0,t.useContext)(D);return e}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var z=n(950);const V=!1,H=t.createContext(null);var W="unmounted",G="exited",X="entering",Y="entered",K="exiting",q=function(e){var n,r;function o(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=G,r.appearStatus=X):o=Y:o=t.unmountOnExit||t.mountOnEnter?W:G,r.state={status:o},r.nextCallback=null,r}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,U(n,r),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===W?{status:G}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==X&&n!==Y&&(t=X):n!==X&&n!==Y||(t=K)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===X){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:z.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===G&&this.setState({status:W})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[z.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||V?this.safeSetState({status:Y},function(){t.props.onEntered(i)}):(this.props.onEnter(i,a),this.safeSetState({status:X},function(){t.props.onEntering(i,a),t.onTransitionEnd(l,function(){t.safeSetState({status:Y},function(){t.props.onEntered(i,a)})})}))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:z.findDOMNode(this);t&&!V?(this.props.onExit(r),this.safeSetState({status:K},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:G},function(){e.props.onExited(r)})})})):this.safeSetState({status:G},function(){e.props.onExited(r)})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:z.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===W)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,u(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(H.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},o}(t.Component);function Z(){}q.contextType=H,q.propTypes={},q.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Z,onEntering:Z,onEntered:Z,onExit:Z,onExiting:Z,onExited:Z},q.UNMOUNTED=W,q.EXITED=G,q.ENTERING=X,q.ENTERED=Y,q.EXITING=K;const $=q;function Q(e){return e&&e.ownerDocument||document}function J(e,t){return function(e){var t=Q(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ee=/([A-Z])/g;var te=/^ms-/;function ne(e){return function(e){return e.replace(ee,"-$1").toLowerCase()}(e).replace(te,"-ms-")}var re=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const oe=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(ne(t))||J(e).getPropertyValue(ne(t));Object.keys(t).forEach(function(o){var i=t[o];i||0===i?!function(e){return!(!e||!re.test(e))}(o)?n+=ne(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(ne(o))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},ie=!("undefined"===typeof window||!window.document||!window.document.createElement);var ae=!1,se=!1;try{var le={get passive(){return ae=!0},get once(){return se=ae=!0}};ie&&(window.addEventListener("test",le,le),window.removeEventListener("test",le,!0))}catch(Sv){}const ce=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!se){var o=r.once,i=r.capture,a=n;!se&&o&&(a=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=a),e.addEventListener(t,a,ae?r:i)}e.addEventListener(t,n,r)};const ue=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};const de=function(e,t,n,r){return ce(e,t,n,r),function(){ue(e,t,n,r)}};function fe(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)},t+n),i=de(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),i()}}function he(e,t,n,r){null==n&&(n=function(e){var t=oe(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=fe(e,n,r),i=de(e,"transitionend",t);return function(){o(),i()}}function pe(e,t){const n=oe(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ge(e,t){const n=pe(e,"transitionDuration"),r=pe(e,"transitionDelay"),o=he(e,n=>{n.target===e&&(o(),t(n))},n+r)}var me=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};const ye=function(e,n){return(0,t.useMemo)(function(){return function(e,t){var n=me(e),r=me(t);return function(e){n&&n(e),r&&r(e)}}(e,n)},[e,n])};const ve=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],we=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:o,onEntered:i,onExit:a,onExiting:s,onExited:l,addEndListener:u,children:f,childRef:h}=e,p=d(e,ve);const g=(0,t.useRef)(null),m=ye(g,h),y=e=>{var t;m((t=e)&&"setState"in t?z.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&g.current&&e(g.current,t)},w=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(o),[o]),C=(0,t.useCallback)(v(i),[i]),E=(0,t.useCallback)(v(a),[a]),_=(0,t.useCallback)(v(s),[s]),A=(0,t.useCallback)(v(l),[l]),I=(0,t.useCallback)(v(u),[u]);return(0,S.jsx)($,c(c({ref:n},p),{},{onEnter:w,onEntered:C,onEntering:b,onExit:E,onExited:A,onExiting:_,addEndListener:I,nodeRef:g,children:"function"===typeof f?(e,t)=>f(e,c(c({},t),{},{ref:y})):t.cloneElement(f,{ref:y})}))}),be=["className","children","transitionClasses"],Ce={[X]:"show",[Y]:"show"},Ee=t.forwardRef((e,n)=>{let{className:r,children:o,transitionClasses:i={}}=e,a=d(e,be);const s=(0,t.useCallback)((e,t)=>{!function(e){e.offsetHeight}(e),null==a.onEnter||a.onEnter(e,t)},[a]);return(0,S.jsx)(we,c(c({ref:n,addEndListener:ge},a),{},{onEnter:s,childRef:o.ref,children:(e,n)=>t.cloneElement(o,c(c({},n),{},{className:h()("fade",r,o.props.className,Ce[e],i[e])}))}))});Ee.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ee.displayName="Fade";const _e=Ee;var Se=n(173),Ae=n.n(Se);const Ie=["className","variant"],Ne={"aria-label":Ae().string,onClick:Ae().func,variant:Ae().oneOf(["white"])},xe=t.forwardRef((e,t)=>{let{className:n,variant:r}=e,o=d(e,Ie);return(0,S.jsx)("button",c({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n)},o))});xe.displayName="CloseButton",xe.propTypes=Ne,xe.defaultProps={"aria-label":"Close"};const Oe=xe,Te=e=>t.forwardRef((t,n)=>(0,S.jsx)("div",c(c({},t),{},{ref:n,className:h()(t.className,e)})));var Re=/-(.)/g;const Pe=["className","bsPrefix","as"],ke=e=>{return e[0].toUpperCase()+(t=e,t.replace(Re,function(e,t){return t.toUpperCase()})).slice(1);var t};function De(e){let{displayName:n=ke(e),Component:r,defaultProps:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.forwardRef((t,n)=>{let{className:o,bsPrefix:i,as:a=r||"div"}=t,s=d(t,Pe);const l=L(i,e);return(0,S.jsx)(a,c({ref:n,className:h()(o,l)},s))});return i.defaultProps=o,i.displayName=n,i}const je=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Me=Te("h4");Me.displayName="DivStyledAsH4";const Le=De("alert-heading",{Component:Me}),Be=De("alert-link",{Component:R}),Fe={variant:"primary",show:!0,transition:_e,closeLabel:"Close alert"},Ue=t.forwardRef((e,t)=>{const n=v(e,{show:"onClose"}),{bsPrefix:r,show:o,closeLabel:i,closeVariant:a,className:s,children:l,variant:u,onClose:f,dismissible:p,transition:g}=n,m=d(n,je),y=L(r,"alert"),w=_(e=>{f&&f(!1,e)}),b=!0===g?_e:g,C=(0,S.jsxs)("div",c(c({role:"alert"},b?void 0:m),{},{ref:t,className:h()(s,y,u&&"".concat(y,"-").concat(u),p&&"".concat(y,"-dismissible")),children:[p&&(0,S.jsx)(Oe,{onClick:w,"aria-label":i,variant:a}),l]}));return b?(0,S.jsx)(b,c(c({unmountOnExit:!0},m),{},{ref:void 0,in:o,children:C})):o?C:null});Ue.displayName="Alert",Ue.defaultProps=Fe;const ze=Object.assign(Ue,{Link:Be,Heading:Le}),Ve=["as","bsPrefix","variant","size","active","className"],He=t.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:o,size:i,active:a,className:s}=e,l=d(e,Ve);const u=L(r,"btn"),[f,{tagName:p}]=I(c({tagName:n},l)),g=p;return(0,S.jsx)(g,c(c(c({},f),l),{},{ref:t,className:h()(s,u,a&&"active",o&&"".concat(u,"-").concat(o),i&&"".concat(u,"-").concat(i),l.href&&l.disabled&&"disabled")}))});He.displayName="Button",He.defaultProps={variant:"primary",active:!1,disabled:!1};const We=He;var Ge;function Xe(e){if((!Ge&&0!==Ge||e)&&ie){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ge=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ge}function Ye(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(function(){return function(){return n.current()}},[])}function Ke(e){void 0===e&&(e=Q());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Sv){return e.body}}function qe(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ze(e){return"".concat("data-rr-ui-").concat(e)}const $e=Ze("modal-open");const Qe=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(oe(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute($e,""),oe(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute($e),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Je=(0,t.createContext)(ie?window:void 0);Je.Provider;function et(){return(0,t.useContext)(Je)}const tt=(e,t)=>ie?null==e?(t||Q()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const nt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let rt;function ot(e){const n=et(),r=e||function(e){return rt||(rt=new Qe({ownerDocument:null==e?void 0:e.document})),rt}(n),o=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>r.add(o.current),remove:()=>r.remove(o.current),isTopModal:()=>r.isTopModal(o.current),setDialogRef:(0,t.useCallback)(e=>{o.current.dialog=e},[]),setBackdropRef:(0,t.useCallback)(e=>{o.current.backdrop=e},[])})}const it=(0,t.forwardRef)((e,n)=>{let{show:r=!1,role:o="dialog",className:i,style:a,children:s,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:f,backdropTransition:h,autoFocus:p=!0,enforceFocus:g=!0,restoreFocus:m=!0,restoreFocusOptions:y,renderDialog:v,renderBackdrop:w=e=>(0,S.jsx)("div",Object.assign({},e)),manager:b,container:C,onShow:E,onHide:A=()=>{},onExit:I,onExited:N,onExiting:x,onEnter:O,onEntering:T,onEntered:R}=e,P=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,nt);const k=function(e,n){const r=et(),[o,i]=(0,t.useState)(()=>tt(e,null==r?void 0:r.document));if(!o){const t=tt(e);t&&i(t)}return(0,t.useEffect)(()=>{n&&o&&n(o)},[n,o]),(0,t.useEffect)(()=>{const t=tt(e);t!==o&&i(t)},[e,o]),o}(C),D=ot(b),j=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)(function(){return e.current});return(0,t.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),n.current}(),M=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)(function(){n.current=e}),n.current}(r),[L,B]=(0,t.useState)(!r),F=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>D,[D]),ie&&!M&&r&&(F.current=Ke()),f||r||L?r&&L&&B(!1):B(!0);const U=_(()=>{if(D.add(),Y.current=de(document,"keydown",G),X.current=de(document,"focus",()=>setTimeout(H),!0),E&&E(),p){const e=Ke(document);D.dialog&&e&&!qe(D.dialog,e)&&(F.current=e,D.dialog.focus())}}),V=_(()=>{var e;(D.remove(),null==Y.current||Y.current(),null==X.current||X.current(),m)&&(null==(e=F.current)||null==e.focus||e.focus(y),F.current=null)});(0,t.useEffect)(()=>{r&&k&&U()},[r,k,U]),(0,t.useEffect)(()=>{L&&V()},[L,V]),Ye(()=>{V()});const H=_(()=>{if(!g||!j()||!D.isTopModal())return;const e=Ke();D.dialog&&e&&!qe(D.dialog,e)&&D.dialog.focus()}),W=_(e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&A())}),G=_(e=>{c&&27===e.keyCode&&D.isTopModal()&&(null==d||d(e),e.defaultPrevented||A())}),X=(0,t.useRef)(),Y=(0,t.useRef)(),K=function(){B(!0),null==N||N(...arguments)},q=f;if(!k||!(r||q&&!L))return null;const Z=Object.assign({role:o,ref:D.setDialogRef,"aria-modal":"dialog"===o||void 0},P,{style:a,className:i,tabIndex:-1});let $=v?v(Z):(0,S.jsx)("div",Object.assign({},Z,{children:t.cloneElement(s,{role:"document"})}));q&&($=(0,S.jsx)(q,{appear:!0,unmountOnExit:!0,in:!!r,onExit:I,onExiting:x,onExited:K,onEnter:O,onEntering:T,onEntered:R,children:$}));let Q=null;if(l){const e=h;Q=w({ref:D.setBackdropRef,onClick:W}),e&&(Q=(0,S.jsx)(e,{appear:!0,in:!!r,children:Q}))}return(0,S.jsx)(S.Fragment,{children:z.createPortal((0,S.jsxs)(S.Fragment,{children:[Q,$]}),k)})});it.displayName="Modal";const at=Object.assign(it,{Manager:Qe});var st=Function.prototype.bind.call(Function.prototype.call,[].slice);function lt(e,t){return st(e.querySelectorAll(t))}function ct(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const ut=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dt=".sticky-top",ft=".navbar-toggler";class ht extends Qe{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,oe(t,{[e]:"".concat(parseFloat(oe(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],oe(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";lt(t,ut).forEach(t=>this.adjustAndStore(o,t,e.scrollBarWidth)),lt(t,dt).forEach(t=>this.adjustAndStore(i,t,-e.scrollBarWidth)),lt(t,ft).forEach(t=>this.adjustAndStore(i,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ct(n.className,r):n.setAttribute("class",ct(n.className&&n.className.baseVal||"",r));const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";lt(t,ut).forEach(e=>this.restore(o,e)),lt(t,dt).forEach(e=>this.restore(i,e)),lt(t,ft).forEach(e=>this.restore(i,e))}}let pt;const gt=De("modal-body"),mt=t.createContext({onHide(){}}),yt=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],vt=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,contentClassName:o,centered:i,size:a,fullscreen:s,children:l,scrollable:u}=e,f=d(e,yt);n=L(n,"modal");const p="".concat(n,"-dialog"),g="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,S.jsx)("div",c(c({},f),{},{ref:t,className:h()(p,r,a&&"".concat(n,"-").concat(a),i&&"".concat(p,"-centered"),u&&"".concat(p,"-scrollable"),s&&g),children:(0,S.jsx)("div",{className:h()("".concat(n,"-content"),o),children:l})}))});vt.displayName="ModalDialog";const wt=vt,bt=De("modal-footer"),Ct=["closeLabel","closeVariant","closeButton","onHide","children"],Et=t.forwardRef((e,n)=>{let{closeLabel:r,closeVariant:o,closeButton:i,onHide:a,children:s}=e,l=d(e,Ct);const u=(0,t.useContext)(mt),f=_(()=>{null==u||u.onHide(),null==a||a()});return(0,S.jsxs)("div",c(c({ref:n},l),{},{children:[s,i&&(0,S.jsx)(Oe,{"aria-label":r,variant:o,onClick:f})]}))});Et.defaultProps={closeLabel:"Close",closeButton:!1};const _t=Et,St=["bsPrefix","className"],At=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r}=e,o=d(e,St);return n=L(n,"modal-header"),(0,S.jsx)(_t,c(c({ref:t},o),{},{className:h()(r,n)}))});At.displayName="ModalHeader",At.defaultProps={closeLabel:"Close",closeButton:!1};const It=At,Nt=De("modal-title",{Component:Te("h4")}),xt=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Ot={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:wt};function Tt(e){return(0,S.jsx)(_e,c(c({},e),{},{timeout:null}))}function Rt(e){return(0,S.jsx)(_e,c(c({},e),{},{timeout:null}))}const Pt=t.forwardRef((e,n)=>{let{bsPrefix:r,className:o,style:i,dialogClassName:a,contentClassName:s,children:l,dialogAs:u,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:m,animation:y,backdrop:v,keyboard:w,onEscapeKeyDown:b,onShow:C,onHide:E,container:A,autoFocus:I,enforceFocus:N,restoreFocus:x,restoreFocusOptions:O,onEntered:T,onExit:R,onExiting:P,onEnter:k,onEntering:j,onExited:M,backdropClassName:B,manager:F}=e,U=d(e,xt);const[z,V]=(0,t.useState)({}),[H,W]=(0,t.useState)(!1),G=(0,t.useRef)(!1),X=(0,t.useRef)(!1),Y=(0,t.useRef)(null),[K,q]=(0,t.useState)(null),Z=ye(n,q),$=_(E),J=function(){const{dir:e}=(0,t.useContext)(D);return"rtl"===e}();r=L(r,"modal");const ee=(0,t.useMemo)(()=>({onHide:$}),[$]);function te(){return F||function(e){return pt||(pt=new ht(e)),pt}({isRTL:J})}function ne(e){if(!ie)return;const t=te().getScrollbarWidth()>0,n=e.scrollHeight>Q(e).documentElement.clientHeight;V({paddingRight:t&&!n?Xe():void 0,paddingLeft:!t&&n?Xe():void 0})}const re=_(()=>{K&&ne(K.dialog)});Ye(()=>{ue(window,"resize",re),null==Y.current||Y.current()});const oe=()=>{G.current=!0},ae=e=>{G.current&&K&&e.target===K.dialog&&(X.current=!0),G.current=!1},se=()=>{W(!0),Y.current=he(K.dialog,()=>{W(!1)})},le=e=>{"static"!==v?X.current||e.target!==e.currentTarget?X.current=!1:null==E||E():(e=>{e.target===e.currentTarget&&se()})(e)},de=(0,t.useCallback)(e=>(0,S.jsx)("div",c(c({},e),{},{className:h()("".concat(r,"-backdrop"),B,!y&&"show")})),[y,B,r]),fe=c(c({},i),z);fe.display="block";return(0,S.jsx)(mt.Provider,{value:ee,children:(0,S.jsx)(at,{show:m,ref:Z,backdrop:v,container:A,keyboard:!0,autoFocus:I,enforceFocus:N,restoreFocus:x,restoreFocusOptions:O,onEscapeKeyDown:e=>{w||"static"!==v?w&&b&&b(e):(e.preventDefault(),se())},onShow:C,onHide:E,onEnter:(e,t)=>{e&&ne(e),null==k||k(e,t)},onEntering:(e,t)=>{null==j||j(e,t),ce(window,"resize",re)},onEntered:T,onExit:e=>{null==Y.current||Y.current(),null==R||R(e)},onExiting:P,onExited:e=>{e&&(e.style.display=""),null==M||M(e),ue(window,"resize",re)},manager:te(),transition:y?Tt:void 0,backdropTransition:y?Rt:void 0,renderBackdrop:de,renderDialog:e=>(0,S.jsx)("div",c(c({role:"dialog"},e),{},{style:fe,className:h()(o,r,H&&"".concat(r,"-static"),!y&&"show"),onClick:v?le:void 0,onMouseUp:ae,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:(0,S.jsx)(u,c(c({},U),{},{onMouseDown:oe,className:a,contentClassName:s,children:l}))}))})})});Pt.displayName="Modal",Pt.defaultProps=Ot;const kt=Object.assign(Pt,{Body:gt,Header:It,Title:Nt,Footer:bt,Dialog:wt,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Dt=["color","size","title"];function jt(){return jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Lt=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Mt(e,Dt);return t.createElement("svg",jt({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z"}))});Lt.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Lt.defaultProps={color:"currentColor",size:"1em",title:null};const Bt=Lt;var Ft=["color","size","title"];function Ut(){return Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut.apply(this,arguments)}function zt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Vt=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=zt(e,Ft);return t.createElement("svg",Ut({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z"}))});Vt.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Vt.defaultProps={color:"currentColor",size:"1em",title:null};const Ht=Vt;function Wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;const r=[];return Object.entries(e).forEach(e=>{let[o,i]=e;null!=i&&("object"===typeof i?t.forEach(e=>{const t=i[e];if(null!=t){const i=e!==n?"-".concat(e):"";r.push("".concat(o).concat(i,"-").concat(t))}}):r.push("".concat(o,"-").concat(i)))}),r}const Gt=["as","bsPrefix","className","direction","gap"],Xt=t.forwardRef((e,t)=>{let{as:n="div",bsPrefix:r,className:o,direction:i,gap:a}=e,s=d(e,Gt);r=L(r,"horizontal"===i?"hstack":"vstack");const l=B(),u=F();return(0,S.jsx)(n,c(c({},s),{},{ref:t,className:h()(o,r,...Wt({gap:a,breakpoints:l,minBreakpoint:u}))}))});Xt.displayName="Stack";const Yt=Xt;function Kt(e,t){return function(){return e.apply(t,arguments)}}const{toString:qt}=Object.prototype,{getPrototypeOf:Zt}=Object,{iterator:$t,toStringTag:Qt}=Symbol,Jt=(en=Object.create(null),e=>{const t=qt.call(e);return en[t]||(en[t]=t.slice(8,-1).toLowerCase())});var en;const tn=e=>(e=e.toLowerCase(),t=>Jt(t)===e),nn=e=>t=>typeof t===e,{isArray:rn}=Array,on=nn("undefined");function an(e){return null!==e&&!on(e)&&null!==e.constructor&&!on(e.constructor)&&cn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sn=tn("ArrayBuffer");const ln=nn("string"),cn=nn("function"),un=nn("number"),dn=e=>null!==e&&"object"===typeof e,fn=e=>{if("object"!==Jt(e))return!1;const t=Zt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Qt in e)&&!($t in e)},hn=tn("Date"),pn=tn("File"),gn=tn("Blob"),mn=tn("FileList"),yn=tn("URLSearchParams"),[vn,wn,bn,Cn]=["ReadableStream","Request","Response","Headers"].map(tn);function En(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),rn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(an(e))return;const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function _n(e,t){if(an(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Sn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,An=e=>!on(e)&&e!==Sn;const In=(Nn="undefined"!==typeof Uint8Array&&Zt(Uint8Array),e=>Nn&&e instanceof Nn);var Nn;const xn=tn("HTMLFormElement"),On=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Tn=tn("RegExp"),Rn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};En(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)};const Pn=tn("AsyncFunction"),kn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Sn.addEventListener("message",e=>{let{source:t,data:o}=e;t===Sn&&o===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Sn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,cn(Sn.postMessage)),Dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Sn):"undefined"!==typeof process&&process.nextTick||kn,jn={isArray:rn,isArrayBuffer:sn,isBuffer:an,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||cn(e.append)&&("formdata"===(t=Jt(e))||"object"===t&&cn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&sn(e.buffer),t},isString:ln,isNumber:un,isBoolean:e=>!0===e||!1===e,isObject:dn,isPlainObject:fn,isEmptyObject:e=>{if(!dn(e)||an(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Sv){return!1}},isReadableStream:vn,isRequest:wn,isResponse:bn,isHeaders:Cn,isUndefined:on,isDate:hn,isFile:pn,isBlob:gn,isRegExp:Tn,isFunction:cn,isStream:e=>dn(e)&&cn(e.pipe),isURLSearchParams:yn,isTypedArray:In,isFileList:mn,forEach:En,merge:function e(){const{caseless:t}=An(this)&&this||{},n={},r=(r,o)=>{const i=t&&_n(n,o)||o;fn(n[i])&&fn(r)?n[i]=e(n[i],r):fn(r)?n[i]=e({},r):rn(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&En(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return En(t,(t,r)=>{n&&cn(t)?e[r]=Kt(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Zt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Jt,kindOfTest:tn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(rn(e))return e;let t=e.length;if(!un(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[$t]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:xn,hasOwnProperty:On,hasOwnProp:On,reduceDescriptors:Rn,freezeMethods:e=>{Rn(e,(t,n)=>{if(cn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];cn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return rn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_n,global:Sn,isContextDefined:An,isSpecCompliantForm:function(e){return!!(e&&cn(e.append)&&"FormData"===e[Qt]&&e[$t])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(dn(e)){if(t.indexOf(e)>=0)return;if(an(e))return e;if(!("toJSON"in e)){t[r]=e;const o=rn(e)?[]:{};return En(e,(e,t)=>{const i=n(e,r+1);!on(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Pn,isThenable:e=>e&&(dn(e)||cn(e))&&cn(e.then)&&cn(e.catch),setImmediate:kn,asap:Dn,isIterable:e=>null!=e&&cn(e[$t])};function Mn(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}jn.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jn.toJSONObject(this.config),code:this.code,status:this.status}}});const Ln=Mn.prototype,Bn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bn[e]={value:e}}),Object.defineProperties(Mn,Bn),Object.defineProperty(Ln,"isAxiosError",{value:!0}),Mn.from=(e,t,n,r,o,i)=>{const a=Object.create(Ln);return jn.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Mn.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Fn=Mn;function Un(e){return jn.isPlainObject(e)||jn.isArray(e)}function zn(e){return jn.endsWith(e,"[]")?e.slice(0,-2):e}function Vn(e,t,n){return e?e.concat(t).map(function(e,t){return e=zn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Hn=jn.toFlatObject(jn,{},null,function(e){return/^is[A-Z]/.test(e)});const Wn=function(e,t,n){if(!jn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=jn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!jn.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&jn.isSpecCompliantForm(t);if(!jn.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(jn.isDate(e))return e.toISOString();if(jn.isBoolean(e))return e.toString();if(!s&&jn.isBlob(e))throw new Fn("Blob is not supported. Use a Buffer instead.");return jn.isArrayBuffer(e)||jn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(jn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(jn.isArray(e)&&function(e){return jn.isArray(e)&&!e.some(Un)}(e)||(jn.isFileList(e)||jn.endsWith(n,"[]"))&&(s=jn.toArray(e)))return n=zn(n),s.forEach(function(e,r){!jn.isUndefined(e)&&null!==e&&t.append(!0===a?Vn([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!Un(e)||(t.append(Vn(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Hn,{defaultVisitor:c,convertValue:l,isVisitable:Un});if(!jn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!jn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),jn.forEach(n,function(n,i){!0===(!(jn.isUndefined(n)||null===n)&&o.call(t,n,jn.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Gn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Xn(e,t){this._pairs=[],e&&Wn(e,this,t)}const Yn=Xn.prototype;Yn.append=function(e,t){this._pairs.push([e,t])},Yn.toString=function(e){const t=e?function(t){return e.call(this,t,Gn)}:Gn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Kn=Xn;function qn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zn(e,t,n){if(!t)return e;const r=n&&n.encode||qn;jn.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):jn.isURLSearchParams(t)?t.toString():new Kn(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const $n=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){jn.forEach(this.handlers,function(t){null!==t&&e(t)})}},Qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Kn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},er="undefined"!==typeof window&&"undefined"!==typeof document,tr="object"===typeof navigator&&navigator||void 0,nr=er&&(!tr||["ReactNative","NativeScript","NS"].indexOf(tr.product)<0),rr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,or=er&&window.location.href||"http://localhost",ir=c(c({},e),Jn);const ar=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&jn.isArray(r)?r.length:i,s)return jn.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&jn.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&jn.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(jn.isFormData(e)&&jn.isFunction(e.entries)){const n={};return jn.forEachEntry(e,(e,r)=>{t(function(e){return jn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const sr={transitional:Qn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=jn.isObject(e);o&&jn.isHTMLForm(e)&&(e=new FormData(e));if(jn.isFormData(e))return r?JSON.stringify(ar(e)):e;if(jn.isArrayBuffer(e)||jn.isBuffer(e)||jn.isStream(e)||jn.isFile(e)||jn.isBlob(e)||jn.isReadableStream(e))return e;if(jn.isArrayBufferView(e))return e.buffer;if(jn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Wn(e,new ir.classes.URLSearchParams,c({visitor:function(e,t,n,r){return ir.isNode&&jn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=jn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Wn(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(jn.isString(e))try{return(t||JSON.parse)(e),jn.trim(e)}catch(Sv){if("SyntaxError"!==Sv.name)throw Sv}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||sr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(jn.isResponse(e)||jn.isReadableStream(e))return e;if(e&&jn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Sv){if(n){if("SyntaxError"===Sv.name)throw Fn.from(Sv,Fn.ERR_BAD_RESPONSE,this,null,this.response);throw Sv}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jn.forEach(["delete","get","head","post","put","patch"],e=>{sr.headers[e]={}});const lr=sr,cr=jn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ur=Symbol("internals");function dr(e){return e&&String(e).trim().toLowerCase()}function fr(e){return!1===e||null==e?e:jn.isArray(e)?e.map(fr):String(e)}function hr(e,t,n,r,o){return jn.isFunction(r)?r.call(this,t,n):(o&&(t=n),jn.isString(t)?jn.isString(r)?-1!==t.indexOf(r):jn.isRegExp(r)?r.test(t):void 0:void 0)}class pr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=dr(t);if(!o)throw new Error("header name must be a non-empty string");const i=jn.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=fr(e))}const i=(e,t)=>jn.forEach(e,(e,n)=>o(e,n,t));if(jn.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(jn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&cr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(jn.isObject(e)&&jn.isIterable(e)){let n,r,o={};for(const t of e){if(!jn.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?jn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=dr(e)){const n=jn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(jn.isFunction(t))return t.call(this,e,n);if(jn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dr(e)){const n=jn.findKey(this,e);return!(!n||void 0===this[n]||t&&!hr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=dr(e)){const o=jn.findKey(n,e);!o||t&&!hr(0,n[o],o,t)||(delete n[o],r=!0)}}return jn.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!hr(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return jn.forEach(this,(r,o)=>{const i=jn.findKey(n,o);if(i)return t[i]=fr(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=fr(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return jn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&jn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ur]=this[ur]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=dr(e);t[r]||(!function(e,t){const n=jn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return jn.isArray(e)?e.forEach(r):r(e),this}}pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),jn.reduceDescriptors(pr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),jn.freezeMethods(pr);const gr=pr;function mr(e,t){const n=this||lr,r=t||n,o=gr.from(r.headers);let i=r.data;return jn.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function yr(e){return!(!e||!e.__CANCEL__)}function vr(e,t,n){Fn.call(this,null==e?"canceled":e,Fn.ERR_CANCELED,t,n),this.name="CanceledError"}jn.inherits(vr,Fn,{__CANCEL__:!0});const wr=vr;function br(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Fn("Request failed with status code "+n.status,[Fn.ERR_BAD_REQUEST,Fn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Cr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const Er=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},i-t)))},()=>n&&a(n)]},_r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Cr(50,250);return Er(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},Sr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ar=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn.asap(()=>e(...n))},Ir=ir.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ir.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ir.origin),ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent)):()=>!0,Nr=ir.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];jn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),jn.isString(r)&&a.push("path="+r),jn.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Or=e=>e instanceof gr?c({},e):e;function Tr(e,t){t=t||{};const n={};function r(e,t,n,r){return jn.isPlainObject(e)&&jn.isPlainObject(t)?jn.merge.call({caseless:r},e,t):jn.isPlainObject(t)?jn.merge({},t):jn.isArray(t)?t.slice():t}function o(e,t,n,o){return jn.isUndefined(t)?jn.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!jn.isUndefined(t))return r(void 0,t)}function a(e,t){return jn.isUndefined(t)?jn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Or(e),Or(t),0,!0)};return jn.forEach(Object.keys(c(c({},e),t)),function(r){const i=l[r]||o,a=i(e[r],t[r],r);jn.isUndefined(a)&&i!==s||(n[r]=a)}),n}const Rr=e=>{const t=Tr({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=gr.from(s),t.url=Zn(xr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),jn.isFormData(r))if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ir.hasStandardBrowserEnv&&(o&&jn.isFunction(o)&&(o=o(t)),o||!1!==o&&Ir(t.url))){const e=i&&a&&Nr.read(a);e&&s.set(i,e)}return t},Pr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Rr(e);let o=r.data;const i=gr.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:h}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=gr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());br(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Fn("Request aborted",Fn.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Fn("Network Error",Fn.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Qn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Fn(t,o.clarifyTimeoutError?Fn.ETIMEDOUT:Fn.ECONNABORTED,e,g)),g=null},void 0===o&&i.setContentType(null),"setRequestHeader"in g&&jn.forEach(i.toJSON(),function(e,t){g.setRequestHeader(t,e)}),jn.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),h&&([l,u]=_r(h,!0),g.addEventListener("progress",l)),f&&g.upload&&([s,c]=_r(f),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{g&&(n(!t||t.type?new wr(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ir.protocols.indexOf(y)?n(new Fn("Unsupported protocol "+y+":",Fn.ERR_BAD_REQUEST,e)):g.send(o||null)})},kr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Fn?t:new wr(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new Fn("timeout ".concat(t," of ms exceeded"),Fn.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>jn.asap(a),s}};function Dr(e,t){this.v=e,this.k=t}function jr(e){return function(){return new Mr(e.apply(this,arguments))}}function Mr(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof Dr;Promise.resolve(s?a.v:a).then(function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise(function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))})},"function"!=typeof e.return&&(this.return=void 0)}function Lr(e){return new Dr(e,0)}function Br(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Dr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Fr(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ur(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ur(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ur=function(e){this.s=e,this.n=e.next},Ur.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ur(e)}Mr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mr.prototype.next=function(e){return this._invoke("next",e)},Mr.prototype.throw=function(e){return this._invoke("throw",e)},Mr.prototype.return=function(e){return this._invoke("return",e)};const zr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Vr=function(){var e=jr(function*(e,t){var n,r=!1,o=!1;try{for(var i,a=Fr(Hr(e));r=!(i=yield Lr(a.next())).done;r=!1){const e=i.value;yield*Br(Fr(zr(e,t)))}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&(yield Lr(a.return()))}finally{if(o)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Hr=function(){var e=jr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Br(Fr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Lr(t.read());if(e)break;yield n}}finally{yield Lr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Wr=(e,t,n,r)=>{const o=Vr(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Gr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Xr=Gr&&"function"===typeof ReadableStream,Yr=Gr&&("function"===typeof TextEncoder?(Kr=new TextEncoder,e=>Kr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Kr;const qr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Sv){return!1}},Zr=Xr&&qr(()=>{let e=!1;const t=new Request(ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$r=Xr&&qr(()=>jn.isReadableStream(new Response("").body)),Qr={stream:$r&&(e=>e.body)};var Jr;Gr&&(Jr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qr[e]&&(Qr[e]=jn.isFunction(Jr[e])?t=>t[e]():(t,n)=>{throw new Fn("Response type '".concat(e,"' is not supported"),Fn.ERR_NOT_SUPPORT,n)})}));const eo=async(e,t)=>{const n=jn.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(jn.isBlob(e))return e.size;if(jn.isSpecCompliantForm(e)){const t=new Request(ir.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return jn.isArrayBufferView(e)||jn.isArrayBuffer(e)?e.byteLength:(jn.isURLSearchParams(e)&&(e+=""),jn.isString(e)?(await Yr(e)).byteLength:void 0)})(t):n},to=Gr&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=Rr(e);u=u?(u+"").toLowerCase():"text";let p,g=kr([o,i&&i.toAbortSignal()],a);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(l&&Zr&&"get"!==n&&"head"!==n&&0!==(y=await eo(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(jn.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Sr(y,_r(Ar(l)));r=Wr(n.body,65536,e,t)}}jn.isString(f)||(f=f?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,c(c({},h),{},{signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:o?f:void 0}));let i=await fetch(p,h);const a=$r&&("stream"===u||"response"===u);if($r&&(s||a&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=jn.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Sr(t,_r(Ar(s),!0))||[];i=new Response(Wr(i.body,65536,n,()=>{r&&r(),m&&m()}),e)}u=u||"text";let v=await Qr[jn.findKey(Qr,u)||"text"](i,e);return!a&&m&&m(),await new Promise((t,n)=>{br(t,n,{data:v,headers:gr.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new Fn("Network Error",Fn.ERR_NETWORK,e,p),{cause:v.cause||v});throw Fn.from(v,v&&v.code,e,p)}}),no={http:null,xhr:Pr,fetch:to};jn.forEach(no,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Sv){}Object.defineProperty(e,"adapterName",{value:t})}});const ro=e=>"- ".concat(e),oo=e=>jn.isFunction(e)||null===e||!1===e,io=e=>{e=jn.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!oo(n)&&(r=no[(t=String(n)).toLowerCase()],void 0===r))throw new Fn("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(ro).join("\n"):" "+ro(e[0]):"as no adapter specified";throw new Fn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ao(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wr(null,e)}function so(e){ao(e),e.headers=gr.from(e.headers),e.data=mr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return io(e.adapter||lr.adapter)(e).then(function(t){return ao(e),t.data=mr.call(e,e.transformResponse,t),t.headers=gr.from(t.headers),t},function(t){return yr(t)||(ao(e),t&&t.response&&(t.response.data=mr.call(e,e.transformResponse,t.response),t.response.headers=gr.from(t.response.headers))),Promise.reject(t)})}const lo="1.11.0",co={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{co[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const uo={};co.transitional=function(e,t,n){function r(e,t){return"[Axios v"+lo+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Fn(r(o," has been removed"+(t?" in "+t:"")),Fn.ERR_DEPRECATED);return t&&!uo[o]&&(uo[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},co.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const fo={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Fn("options must be an object",Fn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Fn("option "+i+" must be "+n,Fn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Fn("Unknown option "+i,Fn.ERR_BAD_OPTION)}},validators:co},ho=fo.validators;class po{constructor(e){this.defaults=e||{},this.interceptors={request:new $n,response:new $n}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Sv){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Tr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&fo.assertOptions(n,{silentJSONParsing:ho.transitional(ho.boolean),forcedJSONParsing:ho.transitional(ho.boolean),clarifyTimeoutError:ho.transitional(ho.boolean)},!1),null!=r&&(jn.isFunction(r)?t.paramsSerializer={serialize:r}:fo.assertOptions(r,{encode:ho.function,serialize:ho.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fo.assertOptions(t,{baseUrl:ho.spelling("baseURL"),withXsrfToken:ho.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&jn.merge(o.common,o[t.method]);o&&jn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=gr.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[so.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let f=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{c=so.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Zn(xr((e=Tr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}jn.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(t,n){return this.request(Tr(n||{},{method:e,url:t,data:(n||{}).data}))}}),jn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(Tr(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}po.prototype[e]=t(),po.prototype[e+"Form"]=t(!0)});const go=po;class mo{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new wr(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new mo(function(t){e=t}),cancel:e}}}const yo=mo;const vo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vo).forEach(e=>{let[t,n]=e;vo[n]=t});const wo=vo;const bo=function e(t){const n=new go(t),r=Kt(go.prototype.request,n);return jn.extend(r,go.prototype,n,{allOwnKeys:!0}),jn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Tr(t,n))},r}(lr);bo.Axios=go,bo.CanceledError=wr,bo.CancelToken=yo,bo.isCancel=yr,bo.VERSION=lo,bo.toFormData=Wn,bo.AxiosError=Fn,bo.Cancel=bo.CanceledError,bo.all=function(e){return Promise.all(e)},bo.spread=function(e){return function(t){return e.apply(null,t)}},bo.isAxiosError=function(e){return jn.isObject(e)&&!0===e.isAxiosError},bo.mergeConfig=Tr,bo.AxiosHeaders=gr,bo.formToJSON=e=>ar(jn.isHTMLForm(e)?new FormData(e):e),bo.getAdapter=io,bo.HttpStatusCode=wo,bo.default=bo;const Co=bo;const Eo=new class{constructor(){this.baseURL="/api",this.client=Co.create({baseURL:this.baseURL,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{var t;return console.log("API Request: ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url)),e},e=>(console.error("API Request Error:",e),Promise.reject(e))),this.client.interceptors.response.use(e=>(console.log("API Response: ".concat(e.status," ").concat(e.config.url)),e),e=>{var t;return console.error("API Response Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject(e)})}async getClients(){try{return(await this.client.get("/clients")).data.clients}catch(e){throw this.handleError(e,"Failed to fetch clients")}}async createClient(e){try{return(await this.client.post("/clients",e)).data.client}catch(t){throw this.handleError(t,"Failed to create client")}}async updateClient(e,t){try{return(await this.client.put("/clients/".concat(e),t)).data.client}catch(n){throw this.handleError(n,"Failed to update client")}}async deleteClient(e){try{await this.client.delete("/clients/".concat(e))}catch(t){throw this.handleError(t,"Failed to delete client")}}async getClientReports(e){try{return(await this.client.get("/clients/".concat(e,"/reports"))).data.reports}catch(t){throw this.handleError(t,"Failed to fetch client reports")}}async createNewReport(e){try{return(await this.client.post("/clients/".concat(e,"/reports/new"),{})).data.report}catch(t){throw this.handleError(t,"Failed to create new report")}}async deleteClientReport(e,t){try{await this.client.delete("/clients/".concat(e,"/reports/").concat(t))}catch(n){throw this.handleError(n,"Failed to delete report")}}async addLineItemToReport(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(n){const r=await this.client.post("/clients/".concat(e,"/reports/").concat(n,"/items"),t);return{lineItem:r.data.lineItem,report:r.data.report,ok:r.data.ok}}{const n=await this.client.post("/clients/".concat(e,"/reports"),t);return{lineItem:n.data.lineItem,report:n.data.report,ok:n.data.ok}}}catch(r){throw this.handleError(r,"Failed to add line item to report")}}async updateLineItem(e,t,n,r){try{console.log("\ud83c\udf10 ApiService.updateLineItem - Making PUT request with:",{clientId:e,reportId:t,lineItemId:n,updateData:r});const o=await this.client.put("/clients/".concat(e,"/reports/").concat(t,"/items/").concat(n),r);return console.log("\ud83c\udf10 ApiService.updateLineItem - Raw response:",o.data),console.log("\ud83c\udf10 ApiService.updateLineItem - Returning item:",o.data.item),o.data.item}catch(o){throw console.error("\ud83c\udf10 ApiService.updateLineItem - Error:",o),this.handleError(o,"Failed to update line item")}}async deleteLineItemFromReport(e,t,n){try{await this.client.delete("/clients/".concat(e,"/reports/").concat(t,"/items/").concat(n))}catch(r){throw this.handleError(r,"Failed to delete line item")}}async login(e){try{return(await this.client.post("/users/login",e)).data}catch(t){throw this.handleError(t,"Login failed")}}async logout(){try{await this.client.get("/users/logout")}catch(e){throw this.handleError(e,"Logout failed")}}async getCurrentUser(){try{return(await this.client.get("/users/me")).data.user}catch(e){throw this.handleError(e,"Failed to get current user")}}handleError(e,t){let n;if(e.response){var r,o,i;n={message:(null===(r=e.response.data)||void 0===r?void 0:r.message)||(null===(o=e.response.data)||void 0===o?void 0:o.error)||t,status:e.response.status,errors:(null===(i=e.response.data)||void 0===i?void 0:i.errors)||[],isApiError:!0,originalError:e}}else n=e.request?{message:"Network error - please check your connection",status:0,errors:[],isApiError:!0,originalError:e}:{message:e.message||t,status:0,errors:[],isApiError:!0,originalError:e};const a=new Error(n.message);return Object.assign(a,n),a}async getManualEntry(e){try{return(await this.client.get("/manual-entries/".concat(encodeURIComponent(e)))).data.entry}catch(n){var t;if(404===(null===(t=n.response)||void 0===t?void 0:t.status))return null;throw this.handleError(n,"Failed to get manual entry")}}async saveManualEntry(e,t){try{return(await this.client.post("/manual-entries",{barcode:e,formData:t})).data.entry}catch(n){throw this.handleError(n,"Failed to save manual entry")}}async getAllManualEntries(){try{return(await this.client.get("/manual-entries")).data}catch(e){throw this.handleError(e,"Failed to get manual entries")}}async deleteManualEntry(e){try{return(await this.client.delete("/manual-entries/".concat(encodeURIComponent(e)))).data}catch(t){throw this.handleError(t,"Failed to delete manual entry")}}async getLabelers(){try{return(await this.client.get("/labelers")).data}catch(e){throw this.handleError(e,"Failed to get labelers")}}async saveLabeler(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;try{return(await this.client.post("/labelers",{labeler_name:e,return_instructions:t,address:n,city:r,state:o,zipCode:i})).data}catch(a){throw this.handleError(a,"Failed to save labeler")}}async getLabeler(e){try{return(await this.client.get("/labelers/".concat(encodeURIComponent(e)))).data}catch(n){var t;if(404===(null===(t=n.response)||void 0===t?void 0:t.status))return null;throw this.handleError(n,"Failed to get labeler")}}async deleteLabeler(e){try{return(await this.client.delete("/labelers/".concat(encodeURIComponent(e)))).data}catch(t){throw this.handleError(t,"Failed to delete labeler")}}async getWholesalers(){try{return(await this.client.get("/wholesalers")).data}catch(e){throw this.handleError(e,"Failed to get wholesalers")}}async saveWholesaler(e){try{return(await this.client.post("/wholesalers",e)).data}catch(t){throw this.handleError(t,"Failed to save wholesaler")}}async getWholesaler(e){try{return(await this.client.get("/wholesalers/".concat(encodeURIComponent(e)))).data}catch(n){var t;if(404===(null===(t=n.response)||void 0===t?void 0:t.status))return null;throw this.handleError(n,"Failed to get wholesaler")}}async deleteWholesaler(e){try{return(await this.client.delete("/wholesalers/".concat(encodeURIComponent(e)))).data}catch(t){throw this.handleError(t,"Failed to delete wholesaler")}}async getCompanySettings(){try{return(await this.client.get("/company-settings")).data}catch(e){throw this.handleError(e,"Failed to get company settings")}}async updateCompanySettings(e){try{return(await this.client.put("/company-settings",e)).data}catch(t){throw this.handleError(t,"Failed to update company settings")}}setAuthToken(e){e?this.client.defaults.headers.common.Authorization="Bearer ".concat(e):delete this.client.defaults.headers.common.Authorization}setBaseURL(e){this.baseURL=e,this.client.defaults.baseURL=e}},_o=Eo,So=(0,t.createContext)(null),Ao="loanbase_selectedClient",Io="loanbase_currentReport",No="loanbase_sessionReport",xo="loanbase_clientsCache",Oo="loanbase_reportsCache",To=(e,t)=>{try{null!==t&&void 0!==t?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)}catch(n){console.warn("Failed to save to localStorage:",n)}},Ro=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn("Failed to load from localStorage:",n),t}},Po=e=>{try{localStorage.removeItem(e)}catch(t){console.warn("Failed to clear localStorage:",t)}},ko=e=>{let{children:n}=e;const[r,o]=(0,t.useState)(()=>Ro(Ao,null)),[i,a]=(0,t.useState)(()=>Ro(Io,null)),[s,l]=(0,t.useState)(()=>Ro(No,null)),[u,d]=(0,t.useState)(()=>Ro(xo,[])),[f,h]=(0,t.useState)(()=>Ro(Oo,[])),[p,g]=(0,t.useState)(!1),[m,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{To(Ao,r)},[r]),(0,t.useEffect)(()=>{To(Io,i)},[i]),(0,t.useEffect)(()=>{To(No,s)},[s]),(0,t.useEffect)(()=>{To(xo,u)},[u]),(0,t.useEffect)(()=>{To(Oo,f)},[f]),(0,t.useEffect)(()=>{if(r&&u.length>0){u.some(e=>e.id===r.id)||(console.warn("Selected client ".concat(r.id," no longer exists. Clearing selection.")),o(null),a(null),h([]),Po(Ao),Po(Io),Po(No),Po(Oo))}},[u,r]);const v=(0,t.useCallback)(async()=>{g(!0),y(null);try{const e=await _o.getClients();return d(e),e}catch(e){throw y(e.message),e}finally{g(!1)}},[]),w=(0,t.useCallback)(async e=>{g(!0),y(null);try{const t=await _o.createClient(e);return d(e=>[...e,t]),t}catch(t){throw y(t.message),t}finally{g(!1)}},[]),b=(0,t.useCallback)(async(e,t)=>{g(!0),y(null);try{const n=await _o.updateClient(e,t);return d(t=>t.map(t=>t.id===e?n:t)),r&&r.id===e&&o(n),n}catch(n){throw y(n.message),n}finally{g(!1)}},[r]),C=(0,t.useCallback)(async e=>{g(!0),y(null);try{await _o.deleteClient(e),d(t=>t.filter(t=>t.id!==e)),(r===e||r&&r.id===e)&&(o(null),a(null),h([]),Po(Ao),Po(Io),Po(No),Po(Oo))}catch(t){throw y(t.message),t}finally{g(!1)}},[r]),E=(0,t.useCallback)(async e=>{if(e){g(!0),y(null);try{const t=(await _o.getClientReports(e)).map(e=>c(c({},e),{},{lineItems:e.lineItems||[]}));return h(t),t}catch(t){throw y(t.message),t}finally{g(!1)}}},[]),_=(0,t.useCallback)(async e=>{g(!0),y(null);try{const t=await _o.createNewReport(e),n=c(c({},t),{},{items:t.lineItems||t.items||[]});return a(n),l(n),n}catch(t){throw y(t.message),t}finally{g(!1)}},[]),A=(0,t.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(!0),y(null);try{const r=await _o.addLineItemToReport(e,t,n);if(r&&r.report){const e=c(c({},r.report),{},{items:r.report.lineItems||r.report.items||[]});a(e),s&&s.id===r.report.id&&l(e)}else i&&r.lineItem&&a(e=>c(c({},e),{},{items:[...e.items||[],r.lineItem]}));return r}catch(r){throw y(r.message),r}finally{g(!1)}},[i,s]),I=(0,t.useCallback)(async(e,t,n,r)=>{console.log("\ud83d\ude80 ClientContext.updateLineItem called with:",{clientId:e,reportId:t,lineItemId:n,updateData:r}),g(!0),y(null);try{console.log("\ud83d\udce1 Making API call to updateLineItem...");const o=await _o.updateLineItem(e,t,n,r);return console.log("\ud83d\udce1 API call completed, got updatedItem:",o),a(e=>{if(console.log("\ud83d\udd0d setCurrentReport callback - prev state:",e),console.log("\ud83d\udd0d Checking: prev exists?",!!e,"prev.id === reportId?",(null===e||void 0===e?void 0:e.id)===t,"prev.items exists?",!(null===e||void 0===e||!e.items)),e&&e.id===t&&e.items){console.log("\ud83d\udd04 Condition passed - Updating currentReport with new item:",o);const t=e.items.map(e=>e.id===n?o:e);console.log("\ud83d\udd04 New items array:",t);const r=c(c({},e),{},{items:t});return console.log("\ud83d\udd04 New currentReport state:",r),r}return console.log("\u274c Condition failed - NOT updating currentReport. Prev ID:",null===e||void 0===e?void 0:e.id,"Target ID:",t),e}),console.log("\u2705 updateLineItem operation completed successfully"),o}catch(o){throw console.error("\u274c updateLineItem failed:",o),y(o.message),o}finally{g(!1)}},[]),N=(0,t.useCallback)(async(e,t,n)=>{g(!0),y(null);try{await _o.deleteLineItemFromReport(e,t,n),i&&a(e=>c(c({},e),{},{items:e.items.filter(e=>e.id!==n)})),await E(e)}catch(r){throw y(r.message),r}finally{g(!1)}},[i,E]),x=(0,t.useCallback)(async(e,t)=>{g(!0),y(null);try{await _o.deleteClientReport(e,t),h(e=>e.filter(e=>e.id!==t)),i&&i.id===t&&a(null)}catch(n){throw y(n.message),n}finally{g(!1)}},[i]),O=(0,t.useCallback)(()=>{y(null)},[]),T=(0,t.useCallback)(()=>{a(null),l(null),Po(Io),Po(No)},[]),R=(0,t.useCallback)(async e=>{if(!e)return o(null),h([]),void T();let t=u.find(t=>t.id===e);if(!t)try{t=(await v()).find(t=>t.id===e)}catch(n){console.error("Failed to load clients:",n)}o(t||null),T(),await E(e)},[u,v,E,T]),P=(0,t.useMemo)(()=>({selectedClient:r,currentReport:i,sessionReport:s,clients:u,reports:f,loading:p,error:m,loadClients:v,createClient:w,updateClient:b,deleteClient:C,selectClient:R,loadReports:E,createNewReport:_,addLineItemToReport:A,updateLineItem:I,deleteLineItem:N,deleteReport:x,setSelectedClient:o,setCurrentReport:a,setSessionReport:l,setError:y,clearError:O,resetSession:T}),[r,i,s,u,f,p,m,v,w,b,C,R,E,_,A,I,N,x,y,O,T]);return(0,S.jsx)(So.Provider,{value:P,children:n})};function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}var jo;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(jo||(jo={}));const Mo="popstate";function Lo(e){return{usr:e.state,key:e.key}}function Bo(e,t,n,r){return void 0===n&&(n=null),Do({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Uo(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Fo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Uo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zo(e){let t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:Fo(e);return new URL(n,t)}function Vo(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=jo.Pop,l=null;function c(){s=jo.Pop,l&&l({action:s,location:u.location})}let u={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Mo,c),l=e,()=>{o.removeEventListener(Mo,c),l=null}},createHref:e=>t(o,e),encodeLocation(e){let t=zo("string"===typeof e?e:Fo(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=jo.Push;let r=Bo(u.location,e,t);n&&n(r,e);let c=Lo(r),d=u.createHref(r);try{a.pushState(c,"",d)}catch(f){o.location.assign(d)}i&&l&&l({action:s,location:u.location})},replace:function(e,t){s=jo.Replace;let r=Bo(u.location,e,t);n&&n(r,e);let o=Lo(r),c=u.createHref(r);a.replaceState(o,"",c),i&&l&&l({action:s,location:u.location})},go:e=>a.go(e)};return u}var Ho;function Wo(e,t,n){void 0===n&&(n="/");let r=ri(("string"===typeof t?Uo(t):t).pathname||"/",n);if(null==r)return null;let o=Go(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a)i=ei(o[a],ni(r));return i}function Go(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((e,o)=>{let i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(oi(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let a=ci([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(oi(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Go(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:Jo(a,e.index),routesMeta:s})}),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ho||(Ho={}));const Xo=/^:\w+$/,Yo=3,Ko=2,qo=1,Zo=10,$o=-2,Qo=e=>"*"===e;function Jo(e,t){let n=e.split("/"),r=n.length;return n.some(Qo)&&(r+=$o),t&&(r+=Ko),n.filter(e=>!Qo(e)).reduce((e,t)=>e+(Xo.test(t)?Yo:""===t?qo:Zo),r)}function ei(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=ti({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;i.push({params:r,pathname:ci([o,c.pathname]),pathnameBase:ui(ci([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=ci([o,c.pathnameBase]))}return i}function ti(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ii("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(e,t)=>(r.push(t),"([^\\/]+)"));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{if("*"===t){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ii(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e},{}),pathname:i,pathnameBase:a,pattern:e}}function ni(e){try{return decodeURI(e)}catch(t){return ii(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ri(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function oi(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ii(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Sv){}}}function ai(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function si(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function li(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=Uo(e):(o=Do({},e),oi(!o.pathname||!o.pathname.includes("?"),ai("?","pathname","search",o)),oi(!o.pathname||!o.pathname.includes("#"),ai("#","pathname","hash",o)),oi(!o.search||!o.search.includes("#"),ai("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(r||null==s)i=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?Uo(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:di(r),hash:fi(o)}}(o,i),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),ui=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),di=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",fi=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class hi{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function pi(e){return e instanceof hi}const gi=["post","put","patch","delete"],mi=(new Set(gi),["get",...gi]);new Set(mi),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(this,arguments)}const vi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:wi,useEffect:bi,useLayoutEffect:Ci,useDebugValue:Ei}=r;function _i(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!vi(n,e)}catch(r){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;const Si=t.createContext(null);const Ai=t.createContext(null);const Ii=t.createContext(null);const Ni=t.createContext(null);const xi=t.createContext(null);const Oi=t.createContext({outlet:null,matches:[]});const Ti=t.createContext(null);function Ri(){return null!=t.useContext(xi)}function Pi(){return Ri()||oi(!1),t.useContext(xi).location}function ki(){Ri()||oi(!1);let{basename:e,navigator:n}=t.useContext(Ni),{matches:r}=t.useContext(Oi),{pathname:o}=Pi(),i=JSON.stringify(si(r).map(e=>e.pathnameBase)),a=t.useRef(!1);t.useEffect(()=>{a.current=!0});let s=t.useCallback(function(t,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof t)return void n.go(t);let s=li(t,JSON.parse(i),o,"path"===r.relative);"/"!==e&&(s.pathname="/"===s.pathname?e:ci([e,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)},[e,n,i,o]);return s}const Di=t.createContext(null);function ji(){let{matches:e}=t.useContext(Oi),n=e[e.length-1];return n?n.params:{}}function Mi(){let e=function(){var e;let n=t.useContext(Ti),r=Vi(zi.UseRouteError),o=t.useContext(Oi),i=o.matches[o.matches.length-1];if(n)return n;return o||oi(!1),!i.route.id&&oi(!1),null==(e=r.errors)?void 0:e[i.route.id]}(),n=pi(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}class Li extends t.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Ti.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Bi(e){let{routeContext:n,match:r,children:o}=e,i=t.useContext(Si);return i&&r.route.errorElement&&(i._deepestRenderedBoundaryId=r.route.id),t.createElement(Oi.Provider,{value:n},o)}function Fi(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let o=e,i=null==r?void 0:r.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&(null==i?void 0:i[e.route.id]));e>=0||oi(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight((e,a,s)=>{let l=a.route.id?null==i?void 0:i[a.route.id]:null,c=r?a.route.errorElement||t.createElement(Mi,null):null,u=()=>t.createElement(Bi,{match:a,routeContext:{outlet:e,matches:n.concat(o.slice(0,s+1))}},l?c:void 0!==a.route.element?a.route.element:e);return r&&(a.route.errorElement||0===s)?t.createElement(Li,{location:r.location,component:c,error:l,children:u()}):u()},null)}var Ui,zi;function Vi(e){let n=t.useContext(Ii);return n||oi(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Ui||(Ui={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(zi||(zi={}));function Hi(e){return function(e){let n=t.useContext(Oi).outlet;return n?t.createElement(Di.Provider,{value:e},n):n}(e.context)}function Wi(e){oi(!1)}function Gi(e){let{basename:n="/",children:r=null,location:o,navigationType:i=jo.Pop,navigator:a,static:s=!1}=e;Ri()&&oi(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:a,static:s}),[l,a,s]);"string"===typeof o&&(o=Uo(o));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=o,g=t.useMemo(()=>{let e=ri(u,l);return null==e?null:{pathname:e,search:d,hash:f,state:h,key:p}},[l,u,d,f,h,p]);return null==g?null:t.createElement(Ni.Provider,{value:c},t.createElement(xi.Provider,{children:r,value:{location:g,navigationType:i}}))}function Xi(e){let{children:n,location:r}=e,o=t.useContext(Ai);return function(e,n){Ri()||oi(!1);let{navigator:r}=t.useContext(Ni),o=t.useContext(Ii),{matches:i}=t.useContext(Oi),a=i[i.length-1],s=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,u=Pi();if(n){var d;let e="string"===typeof n?Uo(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||oi(!1),c=e}else c=u;let f=c.pathname||"/",h=Wo(e,{pathname:"/"===l?f:f.slice(l.length)||"/"}),p=Fi(h&&h.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ci([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ci([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,o||void 0);return n&&p?t.createElement(xi.Provider,{value:{location:yi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jo.Pop}},p):p}(o&&!n?o.router.routes:Ki(n),r)}var Yi;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Yi||(Yi={}));new Promise(()=>{});t.Component;function Ki(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,o)=>{if(!t.isValidElement(e))return;if(e.type===t.Fragment)return void r.push.apply(r,Ki(e.props.children,n));e.type!==Wi&&oi(!1),e.props.index&&e.props.children&&oi(!1);let i=[...n,o],a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Ki(e.props.children,i)),r.push(a)}),r}const qi=e=>{let{children:t,centerText:n=!0}=e;const r=n?"mx-auto text-center position-relative":"mx-auto";return(0,S.jsx)("div",{className:r,children:t})},Zi=["as","className","type","tooltip"],$i={type:Ae().string,tooltip:Ae().bool,as:Ae().elementType},Qi=t.forwardRef((e,t)=>{let{as:n="div",className:r,type:o="valid",tooltip:i=!1}=e,a=d(e,Zi);return(0,S.jsx)(n,c(c({},a),{},{ref:t,className:h()(r,"".concat(o,"-").concat(i?"tooltip":"feedback"))}))});Qi.displayName="Feedback",Qi.propTypes=$i;const Ji=Qi,ea=t.createContext({}),ta=["id","bsPrefix","className","type","isValid","isInvalid","as"],na=t.forwardRef((e,n)=>{let{id:r,bsPrefix:o,className:i,type:a="checkbox",isValid:s=!1,isInvalid:l=!1,as:u="input"}=e,f=d(e,ta);const{controlId:p}=(0,t.useContext)(ea);return o=L(o,"form-check-input"),(0,S.jsx)(u,c(c({},f),{},{ref:n,type:a,id:r||p,className:h()(i,o,s&&"is-valid",l&&"is-invalid")}))});na.displayName="FormCheckInput";const ra=na,oa=["bsPrefix","className","htmlFor"],ia=t.forwardRef((e,n)=>{let{bsPrefix:r,className:o,htmlFor:i}=e,a=d(e,oa);const{controlId:s}=(0,t.useContext)(ea);return r=L(r,"form-check-label"),(0,S.jsx)("label",c(c({},a),{},{ref:n,htmlFor:i||s,className:h()(o,r)}))});ia.displayName="FormCheckLabel";const aa=ia;function sa(e,n){let r=0;return t.Children.map(e,e=>t.isValidElement(e)?n(e,r++):e)}const la=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],ca=t.forwardRef((e,n)=>{let{id:r,bsPrefix:o,bsSwitchPrefix:i,inline:a=!1,reverse:s=!1,disabled:l=!1,isValid:u=!1,isInvalid:f=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:m,className:y,style:v,title:w="",type:b="checkbox",label:C,children:E,as:_="input"}=e,A=d(e,la);o=L(o,"form-check"),i=L(i,"form-switch");const{controlId:I}=(0,t.useContext)(ea),N=(0,t.useMemo)(()=>({controlId:r||I}),[I,r]),x=!E&&null!=C&&!1!==C||function(e,n){return t.Children.toArray(e).some(e=>t.isValidElement(e)&&e.type===n)}(E,aa),O=(0,S.jsx)(ra,c(c({},A),{},{type:"switch"===b?"checkbox":b,ref:n,isValid:u,isInvalid:f,disabled:l,as:_}));return(0,S.jsx)(ea.Provider,{value:N,children:(0,S.jsx)("div",{style:v,className:h()(y,x&&o,a&&"".concat(o,"-inline"),s&&"".concat(o,"-reverse"),"switch"===b&&i),children:E||(0,S.jsxs)(S.Fragment,{children:[O,x&&(0,S.jsx)(aa,{title:w,children:C}),g&&(0,S.jsx)(Ji,{type:m,tooltip:p,children:g})]})})})});ca.displayName="FormCheck";const ua=Object.assign(ca,{Input:ra,Label:aa});n(440);const da=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],fa=t.forwardRef((e,n)=>{let{bsPrefix:r,type:o,size:i,htmlSize:a,id:s,className:l,isValid:u=!1,isInvalid:f=!1,plaintext:p,readOnly:g,as:m="input"}=e,y=d(e,da);const{controlId:v}=(0,t.useContext)(ea);let w;return r=L(r,"form-control"),w=p?{["".concat(r,"-plaintext")]:!0}:{[r]:!0,["".concat(r,"-").concat(i)]:i},(0,S.jsx)(m,c(c({},y),{},{type:o,size:a,ref:n,readOnly:g,id:s||v,className:h()(l,w,u&&"is-valid",f&&"is-invalid","color"===o&&"".concat(r,"-color"))}))});fa.displayName="FormControl";const ha=Object.assign(fa,{Feedback:Ji}),pa=De("form-floating"),ga=["controlId","as"],ma=t.forwardRef((e,n)=>{let{controlId:r,as:o="div"}=e,i=d(e,ga);const a=(0,t.useMemo)(()=>({controlId:r}),[r]);return(0,S.jsx)(ea.Provider,{value:a,children:(0,S.jsx)(o,c(c({},i),{},{ref:n}))})});ma.displayName="FormGroup";const ya=ma,va=["as","bsPrefix","className"],wa=["className"];const ba=t.forwardRef((e,t)=>{const[n,{as:r="div",bsPrefix:o,spans:i}]=function(e){let{as:t,bsPrefix:n,className:r}=e,o=d(e,va);n=L(n,"col");const i=B(),a=F(),s=[],l=[];return i.forEach(e=>{const t=o[e];let r,i,c;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:c}=t):r=t;const u=e!==a?"-".concat(e):"";r&&s.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=i&&l.push("offset".concat(u,"-").concat(i))}),[c(c({},o),{},{className:h()(r,...s,...l)}),{as:t,bsPrefix:n,spans:s}]}(e),{className:a}=n,s=d(n,wa);return(0,S.jsx)(r,c(c({},s),{},{ref:t,className:h()(a,!i.length&&o)}))});ba.displayName="Col";const Ca=ba,Ea=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],_a=t.forwardRef((e,n)=>{let{as:r="label",bsPrefix:o,column:i,visuallyHidden:a,className:s,htmlFor:l}=e,u=d(e,Ea);const{controlId:f}=(0,t.useContext)(ea);o=L(o,"form-label");let p="col-form-label";"string"===typeof i&&(p="".concat(p," ").concat(p,"-").concat(i));const g=h()(s,o,a&&"visually-hidden",i&&p);return l=l||f,i?(0,S.jsx)(Ca,c({ref:n,as:"label",className:g,htmlFor:l},u)):(0,S.jsx)(r,c({ref:n,className:g,htmlFor:l},u))});_a.displayName="FormLabel",_a.defaultProps={column:!1,visuallyHidden:!1};const Sa=_a,Aa=["bsPrefix","className","id"],Ia=t.forwardRef((e,n)=>{let{bsPrefix:r,className:o,id:i}=e,a=d(e,Aa);const{controlId:s}=(0,t.useContext)(ea);return r=L(r,"form-range"),(0,S.jsx)("input",c(c({},a),{},{type:"range",ref:n,className:h()(o,r),id:i||s}))});Ia.displayName="FormRange";const Na=Ia,xa=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Oa=t.forwardRef((e,n)=>{let{bsPrefix:r,size:o,htmlSize:i,className:a,isValid:s=!1,isInvalid:l=!1,id:u}=e,f=d(e,xa);const{controlId:p}=(0,t.useContext)(ea);return r=L(r,"form-select"),(0,S.jsx)("select",c(c({},f),{},{size:i,ref:n,className:h()(a,r,o&&"".concat(r,"-").concat(o),s&&"is-valid",l&&"is-invalid"),id:u||p}))});Oa.displayName="FormSelect";const Ta=Oa,Ra=["bsPrefix","className","as","muted"],Pa=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o="small",muted:i}=e,a=d(e,Ra);return n=L(n,"form-text"),(0,S.jsx)(o,c(c({},a),{},{ref:t,className:h()(r,n,i&&"text-muted")}))});Pa.displayName="FormText";const ka=Pa,Da=t.forwardRef((e,t)=>(0,S.jsx)(ua,c(c({},e),{},{ref:t,type:"switch"})));Da.displayName="Switch";const ja=Object.assign(Da,{Input:ua.Input,Label:ua.Label}),Ma=["bsPrefix","className","children","controlId","label"],La=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,children:o,controlId:i,label:a}=e,s=d(e,Ma);return n=L(n,"form-floating"),(0,S.jsxs)(ya,c(c({ref:t,className:h()(r,n),controlId:i},s),{},{children:[o,(0,S.jsx)("label",{htmlFor:i,children:a})]}))});La.displayName="FloatingLabel";const Ba=La,Fa=["className","validated","as"],Ua={_ref:Ae().any,validated:Ae().bool,as:Ae().elementType},za=t.forwardRef((e,t)=>{let{className:n,validated:r,as:o="form"}=e,i=d(e,Fa);return(0,S.jsx)(o,c(c({},i),{},{ref:t,className:h()(n,r&&"was-validated")}))});za.displayName="Form",za.propTypes=Ua;const Va=Object.assign(za,{Group:ya,Control:ha,Floating:pa,Check:ua,Switch:ja,Label:Sa,Text:ka,Range:Na,Select:Ta,FloatingLabel:Ba}),Ha=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unnamed Business";return(null===e||void 0===e?void 0:e.businessName)||t},Wa=e=>{let{selectedClient:n,setSelectedClient:r}=e;const{clients:o,loadClients:i,loading:a}=(0,t.useContext)(So),[s,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{0===o.length?(async()=>{try{await i()}catch(e){console.error("Failed to fetch clients:",e.message||e)}finally{l(!1)}})():l(!1)},[i,o.length]),(0,S.jsx)("div",{className:"client-selector-container",children:(0,S.jsxs)(Va.Group,{className:"client-selector-form-group",controlId:"clientSelect",children:[(0,S.jsx)(Va.Label,{className:"client-selector-label",children:"Select Client"}),(0,S.jsxs)(Va.Select,{className:"client-selector-select",value:n||"",onChange:e=>r(e.target.value),disabled:a||s,children:[(0,S.jsx)("option",{value:"",disabled:!0,children:a?"Loading clients...":"Select a client..."}),o.map(e=>(0,S.jsx)("option",{value:e.id,children:Ha(e)},e.id))]})]})})},Ga=e=>{let{show:n,onHide:r,onSave:o,title:i,formFields:a=[],initialData:s=null,error:l=null,submitButtonText:u=null}=e;const[d,f]=(0,t.useState)({}),[h,p]=(0,t.useState)({});(0,t.useEffect)(()=>{if(n){const e={};a.forEach(t=>{s&&void 0!==s[t.name]?e[t.name]=s[t.name]:e[t.name]=t.defaultValue||""}),f(e),p({})}},[n,s,a]);const g=(e,t)=>{f(n=>c(c({},n),{},{[e]:t})),h[e]&&p(t=>c(c({},t),{},{[e]:null}))},m=e=>{if(e.preventDefault(),!(()=>{const e={};return a.forEach(t=>{const n=d[t.name];if(!t.required||n&&""!==n.toString().trim()){if(t.validate&&n){const r=t.validate(n);r&&!r.isValid&&(e[t.name]=r.error||r.message)}n&&"email"===t.type&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(e[t.name]="Please enter a valid email address")),n&&"number"===t.type&&isNaN(n)&&(e[t.name]="Please enter a valid number")}else e[t.name]="".concat(t.label," is required")}),p(e),0===Object.keys(e).length})())return;const t={};a.forEach(e=>{const n=d[e.name];(e.required||n&&""!==n.toString().trim())&&(t[e.name]=n)}),o(t)},y=e=>{var t;const n=null!==(t=d[e.name])&&void 0!==t?t:"",r=h[e.name],o=!!s,i={value:n,onChange:t=>g(e.name,t.target.value),required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.disableOnEdit&&o,isInvalid:!!r};switch(e.type){case"textarea":return(0,S.jsx)(Va.Control,c({as:"textarea",rows:e.rows||3},i));case"select":return(0,S.jsxs)(Va.Select,c(c({},i),{},{children:[e.placeholder&&(0,S.jsx)("option",{value:"",children:e.placeholder}),e.options&&e.options.map((e,t)=>(0,S.jsx)("option",{value:e.value,children:e.label},t))]}));case"checkbox":return(0,S.jsx)(Va.Check,{type:"checkbox",checked:!!n,onChange:t=>g(e.name,t.target.checked),label:e.checkboxLabel||e.label,disabled:e.disabled});default:return(0,S.jsx)(Va.Control,c(c({type:e.type||"text"},i),{},{value:n||""}))}},v=!!s?"Save Changes":"Add";return(0,S.jsxs)(kt,{show:n,onHide:r,size:"lg",scrollable:!0,children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:i})}),(0,S.jsxs)(kt.Body,{children:[l&&(0,S.jsx)(ze,{variant:"danger",className:"mb-3",children:l}),(0,S.jsx)(Va,{onSubmit:m,children:a.map((e,t)=>(0,S.jsxs)(Va.Group,{className:"mb-3",children:["checkbox"!==e.type&&(0,S.jsxs)(Va.Label,{children:[e.label,e.required&&(0,S.jsx)("span",{className:"text-danger",children:" *"})]}),y(e),h[e.name]&&(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:h[e.name]}),e.helpText&&(0,S.jsx)(Va.Text,{className:"text-muted",children:e.helpText})]},t))})]}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:r,children:"Cancel"}),(0,S.jsx)(We,{variant:"primary",onClick:m,children:u||v})]})]})},Xa=function(){return[{name:"businessName",label:"Business Name",type:"text",required:!0},{name:"stateLicenseNumber",label:"State License Number",type:"text",required:!1},{name:"wholesaler",label:"Wholesaler",type:"select",required:!1,placeholder:"Select a wholesaler",options:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({value:e.name,label:e.name}))},{name:"accountNumber",label:"Account Number",type:"text",required:!1},{name:"streetAddress",label:"Street Address",type:"text",required:!0},{name:"city",label:"City",type:"text",required:!0},{name:"state",label:"State",type:"text",required:!0},{name:"zipCode",label:"ZIP Code",type:"text",required:!0},{name:"phoneNumber",label:"Phone Number",type:"text",required:!1},{name:"contactName",label:"Contact Name",type:"text",required:!1},{name:"invoicePercentage",label:"Invoice Percentage (%)",type:"number",required:!1,min:0,max:100,step:.01}]},Ya=()=>{const{clients:e,selectedClient:n,selectClient:r,setSelectedClient:o,createClient:i,updateClient:a,deleteClient:s,loadClients:l,error:c,clearError:u,resetSession:d}=(0,t.useContext)(So),f=ki(),[h,p]=(0,t.useState)((null===n||void 0===n?void 0:n.id)||""),[g,m]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[w,b]=(0,t.useState)(0),[C,E]=(0,t.useState)(null),[_,A]=(0,t.useState)(!1),[I,N]=(0,t.useState)([]),[x,O]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{O(!0);try{var e;const t=await _o.getWholesalers();console.log("Wholesalers API response:",t),console.log("Wholesalers array:",t.wholesalers),console.log("Wholesalers count:",(null===(e=t.wholesalers)||void 0===e?void 0:e.length)||0),N(t.wholesalers||[])}catch(c){console.error("Failed to load wholesalers:",c),N([])}finally{O(!1)}})()},[]),(0,t.useEffect)(()=>{l().catch(console.error)},[l]),(0,t.useEffect)(()=>{null!==n&&void 0!==n&&n.id&&p(n.id)},[n]);const T=async e=>{p(e),await r(e)};return(0,S.jsx)(qi,{centerText:!0,children:(0,S.jsxs)("div",{className:"scanning-container",children:[c&&(0,S.jsxs)(ze,{variant:"danger",className:"text-center mb-3",children:[(0,S.jsx)(ze.Heading,{children:"Oh snap! You got an error!"}),(0,S.jsx)("p",{children:c})]}),(0,S.jsxs)(Yt,{gap:3,className:"mt-5",children:[(0,S.jsx)(Wa,{selectedClient:h,setSelectedClient:T},w),(0,S.jsxs)("div",{className:"d-flex flex-wrap gap-3 mb-3 justify-content-center action-buttons-group",children:[(0,S.jsx)(We,{variant:"success",onClick:()=>m(!0),className:"scanning-action-btn",disabled:x,children:x?"Loading...":"Add Client"}),(h||n)&&(0,S.jsx)(We,{variant:"warning",onClick:()=>{if(!h&&!n)return void alert("Please select a client to edit.");const t=h||n&&n.id,r=e.find(e=>e.id===t);r?(E(r),v(!0),u()):alert("Unable to find client data for editing.")},className:"scanning-action-btn",disabled:x,children:x?"Loading...":"Edit Client"}),(0,S.jsx)(We,{variant:"primary",onClick:()=>f("/admin"),className:"scanning-action-btn",children:"Admin Panel"})]}),(0,S.jsxs)("div",{className:"icon-action-container",children:[(0,S.jsx)("h2",{children:"Create a New Report"}),(0,S.jsx)(Bt,{onClick:()=>{if(!h&&!n)return void alert("Please select a client before creating a new report.");u(),d();const e=h||n&&n.id;f("/scanning/client/".concat(e))},className:"check-btn p-2 mobile-icon action-icon ".concat(h||n?"action-icon-enabled":"action-icon-disabled"),size:200}),!h&&!n&&(0,S.jsx)("p",{className:"text-muted mt-2",children:"Please select a client first"})]}),(0,S.jsxs)("div",{className:"icon-action-container",children:[(0,S.jsx)("h2",{children:"View Reports"}),(0,S.jsx)(Ht,{onClick:()=>{if(!h&&!n)return void alert("Please select a client to view their reports.");u();const e=h||n&&n.id;f("/reports/client/".concat(e))},className:"check-btn p-2 mobile-icon action-icon ".concat(h||n?"action-icon-enabled":"action-icon-disabled"),size:200}),!h&&!n&&(0,S.jsx)("p",{className:"text-muted mt-2",children:"Please select a client first"})]})]}),(0,S.jsx)(Ga,{show:g,onHide:()=>m(!1),onSave:async e=>{try{u();const t=await i(e);await T(t.id),m(!1),b(e=>e+1)}catch(c){console.error("Failed to add client:",c.message||c)}},title:"Add New Client",formFields:Xa(I),error:c,submitButtonText:"Add Client"}),(0,S.jsx)(Ga,{show:y,onHide:()=>{v(!1),E(null),u()},onSave:async e=>{if(C)try{u(),await a(C.id,e),v(!1),E(null),b(e=>e+1)}catch(c){console.error("Failed to update client:",c.message||c)}},title:"Edit Client",formFields:Xa(I),initialData:C,error:c,submitButtonText:"Update Client"}),(0,S.jsxs)(kt,{show:_,onHide:()=>A(!1),children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:"Confirm Delete"})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsxs)("p",{children:["Are you sure you want to delete the client ",(0,S.jsx)("strong",{children:null===C||void 0===C?void 0:C.businessName}),"?"]}),(0,S.jsx)("p",{className:"text-muted",children:"This action cannot be undone. All associated reports will also be deleted."})]}),(0,S.jsxs)(kt.Footer,{className:"modal-footer-mobile",children:[(0,S.jsx)(We,{variant:"secondary",onClick:()=>A(!1),className:"modal-footer-btn",children:"Cancel"}),(0,S.jsx)(We,{variant:"danger",onClick:async()=>{if(C)try{u(),await s(C.id),v(!1),A(!1),E(null),h===C.id&&p(""),n&&n.id===C.id&&o(null),b(e=>e+1)}catch(c){console.error("Failed to delete client:",c.message||c),A(!1)}},className:"modal-footer-btn",children:"Delete Client"})]})]})]})})},Ka=()=>(0,S.jsx)(Ya,{}),qa=()=>{const e=ki(),t=t=>{t&&t.preventDefault(),e("/")};return console.log(window.innerWidth),(0,S.jsxs)(Yt,{gap:2,className:"mx-auto",children:[(0,S.jsx)("div",{className:"header-container mx-auto",onClick:t,onTouchEnd:e=>{e.preventDefault(),t(e)},role:"button",tabIndex:"0","aria-label":"Navigate to home",children:(0,S.jsx)("h3",{className:"website-header",children:"\ud83d\udc8a DIRECT RETURNS"})}),(0,S.jsx)(Hi,{})]})};function Za(e){let{basename:n,children:r,window:o}=e,i=t.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),Vo(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return Bo("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Fo(t)},null,e)}({window:o,v5Compat:!0}));let a=i.current,[s,l]=t.useState({action:a.action,location:a.location});return t.useLayoutEffect(()=>a.listen(l),[a]),t.createElement(Gi,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:a})}var $a,Qa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($a||($a={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Qa||(Qa={}));const Ja=["bsPrefix","className","variant","as"],es=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,variant:o,as:i="img"}=e,a=d(e,Ja);const s=L(n,"card-img");return(0,S.jsx)(i,c({ref:t,className:h()(o?"".concat(s,"-").concat(o):s,r)},a))});es.displayName="CardImg";const ts=es,ns=t.createContext(null);ns.displayName="CardHeaderContext";const rs=ns,os=["bsPrefix","className","as"],is=t.forwardRef((e,n)=>{let{bsPrefix:r,className:o,as:i="div"}=e,a=d(e,os);const s=L(r,"card-header"),l=(0,t.useMemo)(()=>({cardHeaderBsPrefix:s}),[s]);return(0,S.jsx)(rs.Provider,{value:l,children:(0,S.jsx)(i,c(c({ref:n},a),{},{className:h()(o,s)}))})});is.displayName="CardHeader";const as=is,ss=["bsPrefix","className","bg","text","border","body","children","as"],ls=Te("h5"),cs=Te("h6"),us=De("card-body"),ds=De("card-title",{Component:ls}),fs=De("card-subtitle",{Component:cs}),hs=De("card-link",{Component:"a"}),ps=De("card-text",{Component:"p"}),gs=De("card-footer"),ms=De("card-img-overlay"),ys=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,bg:o,text:i,border:a,body:s,children:l,as:u="div"}=e,f=d(e,ss);const p=L(n,"card");return(0,S.jsx)(u,c(c({ref:t},f),{},{className:h()(r,p,o&&"bg-".concat(o),i&&"text-".concat(i),a&&"border-".concat(a)),children:s?(0,S.jsx)(us,{children:l}):l}))});ys.displayName="Card",ys.defaultProps={body:!1};const vs=Object.assign(ys,{Img:ts,Title:ds,Subtitle:fs,Body:us,Link:hs,Text:ps,Header:as,Footer:gs,ImgOverlay:ms}),ws=["bsPrefix","className","as"],bs=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o="div"}=e,i=d(e,ws);const a=L(n,"row"),s=B(),l=F(),u="".concat(a,"-cols"),f=[];return s.forEach(e=>{const t=i[e];let n;delete i[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&f.push("".concat(u).concat(r,"-").concat(n))}),(0,S.jsx)(o,c(c({ref:t},i),{},{className:h()(r,a,...f)}))});bs.displayName="Row";const Cs=bs,Es=["bsPrefix","bg","pill","text","className","as"],_s=t.forwardRef((e,t)=>{let{bsPrefix:n,bg:r,pill:o,text:i,className:a,as:s="span"}=e,l=d(e,Es);const u=L(n,"badge");return(0,S.jsx)(s,c(c({ref:t},l),{},{className:h()(a,u,o&&"rounded-pill",i&&"text-".concat(i),r&&"bg-".concat(r))}))});_s.displayName="Badge",_s.defaultProps={bg:"primary",pill:!1};const Ss=_s;var As=["color","size","title"];function Is(){return Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(this,arguments)}function Ns(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xs=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Ns(e,As);return t.createElement("svg",Is({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}),t.createElement("path",{fillRule:"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}))});xs.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},xs.defaultProps={color:"currentColor",size:"1em",title:null};const Os=xs;var Ts=["color","size","title"];function Rs(){return Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs.apply(this,arguments)}function Ps(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ks=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Ps(e,Ts);return t.createElement("svg",Rs({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}))});ks.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},ks.defaultProps={color:"currentColor",size:"1em",title:null};const Ds=ks,js=e=>{var n;let{clientId:r,reportId:o,report:i,variant:a="outline-danger",size:s="sm",className:l=""}=e;const[c,u]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(null),y=i&&i.lineItems?i.lineItems.filter(e=>"CI"===e.dea_schedule||"CII"===e.dea_schedule):[],v=y.length>0,w=(null===i||void 0===i?void 0:i.lineItems)&&i.lineItems.length>y.length,b=async()=>{u(!0),m(null),p(!1);try{const e=(await _o.client.post("/generate-form222/".concat(r,"/").concat(o),{filterCII:!0},{responseType:"blob"})).data,t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t;const a=Ha(null===i||void 0===i?void 0:i.client,"Client"),s=(new Date).toISOString().split("T")[0];n.download="DEA-Form-222-".concat(a.replace(/[^a-zA-Z0-9]/g,"-"),"-").concat(o,"-").concat(s,".pdf"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t),document.body.removeChild(n),f(!1)}catch(g){var e;if(console.error("Error generating PDF:",g),null!==(e=g.response)&&void 0!==e&&e.data)try{const e=await g.response.data.text(),t=JSON.parse(e);m(t.error||t.details||"Failed to generate PDF")}catch(t){m(g.response.statusText||"Failed to generate PDF")}else m(g.message||"Failed to generate PDF")}finally{u(!1)}};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(We,{variant:a,size:s,onClick:()=>i&&i.lineItems&&0!==i.lineItems.length?v?void(async()=>{if(r&&o)return v?void(w?p(!0):b()):(m("No Schedule I or II controlled substances found in this report."),void f(!0));m("Missing client or report information")})():(m("Cannot generate Form 222: No Schedule I or II controlled substances found in this report. Form 222 is only required for Schedule I and II drugs."),void f(!0)):(m("Cannot generate Form 222: No items found in this report."),void f(!0)),disabled:c,className:l,title:v?"Generate DEA Form 222 (".concat(y.length," CI/CII items)"):"No Schedule I or II items in report",children:c?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Generating..."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Os,{className:"me-1"}),"Form 222",v&&(0,S.jsxs)(Ss,{bg:"light",text:"dark",className:"ms-1",children:["CI/CII: ",y.length]})]})}),(0,S.jsxs)(kt,{show:d,onHide:()=>f(!1),children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsxs)(kt.Title,{children:[(0,S.jsx)(Os,{className:"me-2"}),"Cannot Generate Form 222"]})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsxs)(ze,{variant:"danger",children:[(0,S.jsx)("strong",{children:"Error:"})," ",g||"This report has no Schedule I or II items. Form 222 is required only for Schedule I and II controlled substances."]}),(null===i||void 0===i?void 0:i.lineItems)&&i.lineItems.length>0&&(0,S.jsxs)("div",{className:"mt-3",children:[(0,S.jsx)("p",{children:(0,S.jsx)("strong",{children:"Report Summary:"})}),(0,S.jsxs)("ul",{children:[(0,S.jsxs)("li",{children:["Total items: ",i.lineItems.length]}),(0,S.jsxs)("li",{children:["Schedule I/II items: ",y.length]}),i.lineItems.length-y.length>0&&(0,S.jsxs)("li",{children:["Non-CI/CII items: ",i.lineItems.length-y.length]})]}),0===y.length&&(0,S.jsxs)(ze,{variant:"info",className:"mt-2",children:[(0,S.jsx)("strong",{children:"Note:"})," DEA Form 222 is only required for Schedule I and II controlled substances. Use the Inventory Report button for general inventory tracking."]})]})]}),(0,S.jsx)(kt.Footer,{children:(0,S.jsx)(We,{variant:"secondary",onClick:()=>f(!1),children:"Close"})})]}),(0,S.jsxs)(kt,{show:h,onHide:()=>p(!1),children:[(0,S.jsx)(kt.Header,{closeButton:!0,className:"bg-warning",children:(0,S.jsxs)(kt.Title,{children:[(0,S.jsx)(Ds,{className:"me-2"}),"Form 222 - Schedule II Items Only"]})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsxs)(ze,{variant:"warning",children:[(0,S.jsx)("strong",{children:"Important:"})," This report contains both Form 222 required items and other items."]}),(0,S.jsxs)("p",{children:["DEA Form 222 will only include the ",(0,S.jsxs)("strong",{children:[y.length," Schedule I and II"]})," controlled substances. The remaining ",(0,S.jsxs)("strong",{children:[(null===i||void 0===i||null===(n=i.lineItems)||void 0===n?void 0:n.length)-y.length," non-CI/CII items"]})," will be excluded."]}),(0,S.jsx)("p",{className:"mb-0",children:(0,S.jsx)("strong",{children:"Do you want to proceed with generating Form 222 for CII items only?"})})]}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),(0,S.jsx)(We,{variant:"danger",onClick:b,children:"Generate Form 222 (CI/CII Only)"})]})]})]})};var Ms=["color","size","title"];function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function Bs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Fs=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Bs(e,Ms);return t.createElement("svg",Ls({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1z"}))});Fs.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Fs.defaultProps={color:"currentColor",size:"1em",title:null};const Us=Fs,zs=e=>{let{clientId:n,reportId:r,report:o,variant:i="outline-success",size:a="sm",className:s=""}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[f,h]=(0,t.useState)(null),p=(()=>{if(!o||!o.lineItems)return{total:0,controlled:0,cii:0,nonControlled:0};const e={total:o.lineItems.length,controlled:0,cii:0,ciii:0,civ:0,cv:0,nonControlled:0};return o.lineItems.forEach(t=>{if(t.dea_schedule)switch(e.controlled++,t.dea_schedule){case"CII":e.cii++;break;case"CIII":e.ciii++;break;case"CIV":e.civ++;break;case"CV":e.cv++}else e.nonControlled++}),e})(),g="Generate Inventory Report (".concat(p.total," items").concat(p.controlled>0?", ".concat(p.controlled," controlled"):"",")");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(We,{variant:i,size:a,onClick:()=>{if(!o||!o.lineItems||0===o.lineItems.length)return h("Cannot generate inventory report: No items found in this report."),void d(!0);(async()=>{if(n&&r){c(!0),h(null);try{const e=(await _o.client.post("/generate-inventory/".concat(n,"/").concat(r),{},{responseType:"blob"})).data,t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t;const a=Ha(null===o||void 0===o?void 0:o.client,"Client"),s=(new Date).toISOString().split("T")[0];i.download="Inventory-Report-".concat(a.replace(/[^a-zA-Z0-9]/g,"-"),"-").concat(r,"-").concat(s,".pdf"),document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(t),document.body.removeChild(i),d(!1)}catch(f){var e;if(console.error("Error generating inventory PDF:",f),null!==(e=f.response)&&void 0!==e&&e.data)try{const e=await f.response.data.text(),t=JSON.parse(e);h(t.error||t.details||"Failed to generate inventory PDF")}catch(t){h(f.response.statusText||"Failed to generate inventory PDF")}else h(f.message||"Failed to generate inventory PDF")}finally{c(!1)}}else h("Missing client or report information")})()},disabled:l||!o||!o.lineItems||0===o.lineItems.length,className:s,title:o&&o.lineItems&&0!==o.lineItems.length?g:"No items in report",children:l?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Generating..."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Us,{className:"me-1"}),"Inventory",p.total>0&&(0,S.jsx)(Ss,{bg:"light",text:"dark",className:"ms-1",children:p.total})]})}),(0,S.jsxs)(kt,{show:u,onHide:()=>d(!1),children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsxs)(kt.Title,{children:[(0,S.jsx)(Us,{className:"me-2"}),"Cannot Generate Inventory Report"]})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsxs)(ze,{variant:"warning",children:[(0,S.jsx)("strong",{children:"Error:"})," ",f||"This report has no items. Please add items to this report before generating the inventory PDF."]}),p.total>0&&(0,S.jsxs)("div",{className:"mt-3",children:[(0,S.jsx)("h6",{children:"Report Statistics:"}),(0,S.jsxs)("ul",{children:[(0,S.jsxs)("li",{children:["Total Items: ",p.total]}),p.controlled>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("li",{children:["Controlled Substances: ",p.controlled]}),p.cii>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule II (CII): ",p.cii]}),p.ciii>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule III (CIII): ",p.ciii]}),p.civ>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule IV (CIV): ",p.civ]}),p.cv>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule V (CV): ",p.cv]})]}),(0,S.jsxs)("li",{children:["Non-Controlled: ",p.nonControlled]})]})]})]}),(0,S.jsx)(kt.Footer,{children:(0,S.jsx)(We,{variant:"secondary",onClick:()=>d(!1),children:"Close"})})]})]})};var Vs=["color","size","title"];function Hs(){return Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}function Ws(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Gs=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Ws(e,Vs);return t.createElement("svg",Hs({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"}),t.createElement("path",{d:"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"}))});Gs.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Gs.defaultProps={color:"currentColor",size:"1em",title:null};const Xs=Gs,Ys=e=>{let{clientId:n,reportId:r,report:o,variant:i="outline-info",size:a="sm",className:s=""}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[f,h]=(0,t.useState)(null),p=(()=>{if(!o||!o.lineItems)return{total:0,controlled:0,cii:0,nonControlled:0};const e={total:o.lineItems.length,controlled:0,cii:0,ciii:0,civ:0,cv:0,nonControlled:0};return o.lineItems.forEach(t=>{if(t.dea_schedule)switch(e.controlled++,t.dea_schedule){case"CII":e.cii++;break;case"CIII":e.ciii++;break;case"CIV":e.civ++;break;case"CV":e.cv++}else e.nonControlled++}),e})(),g="Generate Invoice (".concat(p.total," items").concat(p.controlled>0?", ".concat(p.controlled," controlled"):"",")");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(We,{variant:i,size:a,onClick:()=>{if(!o||!o.lineItems||0===o.lineItems.length)return h("Cannot generate invoice: No items found in this report."),void d(!0);(async()=>{if(n&&r){c(!0),h(null);try{const e=(await _o.client.post("/generate-invoice/".concat(n,"/").concat(r),{},{responseType:"blob"})).data,t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t;const a=Ha(null===o||void 0===o?void 0:o.client,"Client"),s=(new Date).toISOString().split("T")[0];i.download="Invoice-".concat(a.replace(/[^a-zA-Z0-9]/g,"-"),"-").concat(r,"-").concat(s,".pdf"),document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(t),document.body.removeChild(i),d(!1)}catch(f){var e;if(console.error("Error generating invoice PDF:",f),null!==(e=f.response)&&void 0!==e&&e.data)try{const e=await f.response.data.text(),t=JSON.parse(e);h(t.error||t.details||"Failed to generate invoice PDF")}catch(t){h(f.response.statusText||"Failed to generate invoice PDF")}else h(f.message||"Failed to generate invoice PDF")}finally{c(!1)}}else h("Missing client or report information")})()},disabled:l||!o||!o.lineItems||0===o.lineItems.length,className:s,title:o&&o.lineItems&&0!==o.lineItems.length?g:"No items in report",children:l?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Generating..."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Xs,{className:"me-1"}),"Invoice",p.total>0&&(0,S.jsx)(Ss,{bg:"light",text:"dark",className:"ms-1",children:p.total})]})}),(0,S.jsxs)(kt,{show:u,onHide:()=>d(!1),children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsxs)(kt.Title,{children:[(0,S.jsx)(Xs,{className:"me-2"}),"Cannot Generate Invoice"]})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsxs)(ze,{variant:"warning",children:[(0,S.jsx)("strong",{children:"Error:"})," ",f||"This report has no items. Please add items to this report before generating the invoice PDF."]}),p.total>0&&(0,S.jsxs)("div",{className:"mt-3",children:[(0,S.jsx)("h6",{children:"Report Statistics:"}),(0,S.jsxs)("ul",{children:[(0,S.jsxs)("li",{children:["Total Items: ",p.total]}),p.controlled>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("li",{children:["Controlled Substances: ",p.controlled]}),p.cii>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule II (CII): ",p.cii]}),p.ciii>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule III (CIII): ",p.ciii]}),p.civ>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule IV (CIV): ",p.civ]}),p.cv>0&&(0,S.jsxs)("li",{className:"ms-3",children:["Schedule V (CV): ",p.cv]})]}),(0,S.jsxs)("li",{children:["Non-Controlled: ",p.nonControlled]})]})]})]}),(0,S.jsx)(kt.Footer,{children:(0,S.jsx)(We,{variant:"secondary",onClick:()=>d(!1),children:"Close"})})]})]})},Ks=e=>{let{client:t,placeholder:n="Unnamed Business"}=e;return(0,S.jsx)(S.Fragment,{children:(null===t||void 0===t?void 0:t.businessName)||n})},qs=e=>{let{client:t,variant:n="primary",className:r="",placeholder:o="Unnamed Business"}=e;return(0,S.jsx)(Ss,{bg:n,className:r,children:(0,S.jsx)(Ks,{client:t,placeholder:o})})},Zs=()=>{var e,n;const{selectedClient:r,clients:o,reports:i,setCurrentReport:a,loadReports:s,loadClients:l,deleteReport:u,setSelectedClient:d}=(0,t.useContext)(So),[f,h]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[m,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(null),[b,C]=(0,t.useState)([]),[E,_]=(0,t.useState)(""),[A,I]=(0,t.useState)(""),[N,x]=(0,t.useState)(""),O=ki(),{clientId:T}=ji(),R=T||(r&&"object"===typeof r?r.id:r),P=R?o.find(e=>e.id===R):null,k=R,D=(0,t.useCallback)(()=>{k&&s(k)},[k,s]),j=(0,t.useCallback)(async()=>{try{const e=await _o.getLabelers();C(e.labelers||[])}catch(e){console.error("Failed to load labelers:",e),C([])}},[]),M=(0,t.useCallback)(e=>{if(!e||!b.length)return"N/A";const t=b.find(t=>t.labeler_name===e);return t?t.return_instructions:"Contact manufacturer for return instructions"},[b]);(0,t.useEffect)(()=>{l(),j(),k&&D()},[k,D,l,j]),(0,t.useEffect)(()=>{if(T&&o.length>0&&(!r||"string"===typeof r&&r!==T)){const e=o.find(e=>e.id===T);e&&d(e)}},[T,o,r,d]),(0,t.useEffect)(()=>{const e=()=>{D()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[D]);const L=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),B=i.map((e,t)=>c(c({},e),{},{originalReportNumber:i.length-t})).filter(e=>{const t=String(e.originalReportNumber),n=String(e.id).toLowerCase(),r=E.toLowerCase(),o=/^\d+$/.test(E),i=""===E||(o?t===E:t.includes(E)||n.includes(r)),a=new Date(e.createdAt),s=A?new Date(A):null,l=N?new Date(N+"T23:59:59"):null;return i&&((!s||a>=s)&&(!l||a<=l))}),F=e=>{h(e),g(!0)},U=e=>{a({id:e.id,clientId:k,items:e.lineItems||[]}),O("/scanning/client/".concat(k,"/report/").concat(e.id))},z=e=>{w(e),y(!0)},V=()=>{y(!1),w(null)};return k?(0,S.jsx)(qi,{centerText:!1,children:(0,S.jsxs)("div",{className:"reports-container",children:[(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4 report-header",children:[(0,S.jsx)("h1",{children:"Inventory Reports"}),(0,S.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[P&&(0,S.jsx)(qs,{client:P,className:"report-badge me-2 fs-5 px-3 py-2"}),(0,S.jsx)(We,{variant:"success",size:"sm",onClick:()=>{a(null),O("/scanning/client/".concat(k))},children:"Create New Report"})]})]}),(0,S.jsxs)(vs,{className:"mb-4",children:[(0,S.jsx)(vs.Header,{children:(0,S.jsx)("h5",{className:"mb-0",children:"Search Reports"})}),(0,S.jsx)(vs.Body,{children:(0,S.jsxs)(Cs,{children:[(0,S.jsx)(Ca,{md:4,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Search Reports"}),(0,S.jsx)(Va.Control,{type:"text",placeholder:"Enter report ID...",value:E,onChange:e=>_(e.target.value)})]})}),(0,S.jsx)(Ca,{md:3,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"From Date"}),(0,S.jsx)(Va.Control,{type:"date",value:A,onChange:e=>I(e.target.value)})]})}),(0,S.jsx)(Ca,{md:3,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"To Date"}),(0,S.jsx)(Va.Control,{type:"date",value:N,onChange:e=>x(e.target.value)})]})}),(0,S.jsx)(Ca,{md:2,className:"d-flex align-items-end",children:(0,S.jsx)(We,{variant:"outline-secondary",onClick:()=>{_(""),I(""),x("")},className:"mb-3",disabled:!E&&!A&&!N,children:"Clear Filters"})})]})})]}),0===i.length?(0,S.jsx)(ze,{variant:"info",children:"No reports available for this client."}):(0,S.jsxs)("div",{children:[(0,S.jsx)(ze,{variant:0===B.length?"warning":"success",className:"mb-4",children:0===B.length?"No reports match your search criteria.":"Found ".concat(B.length," of ").concat(i.length," report").concat(1!==B.length?"s":""," for this client.")}),B.map((e,t)=>{var n;return(0,S.jsxs)(vs,{className:"mb-4",children:[(0,S.jsx)(vs.Header,{children:(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("h5",{className:"mb-1",children:["Report #",e.originalReportNumber]}),(0,S.jsxs)("div",{className:"report-meta text-muted small",children:[(0,S.jsx)("strong",{children:"Created:"})," ",L(e.createdAt)," |",(0,S.jsx)("strong",{children:" ID:"})," ",e.id," |",(0,S.jsx)("strong",{children:" Items:"})," ",(null===(n=e.lineItems)||void 0===n?void 0:n.length)||0]})]}),(0,S.jsxs)("div",{className:"d-flex flex-wrap gap-3 justify-content-end report-action-buttons",children:[(0,S.jsx)(We,{variant:"outline-success",size:"sm",onClick:()=>U(e),className:"report-btn",children:"Edit Items"}),(0,S.jsx)(We,{variant:"outline-primary",size:"sm",onClick:()=>F(e),className:"report-btn",children:"View Details"}),(0,S.jsx)(zs,{clientId:k,reportId:e.id,report:e,variant:"outline-success",size:"sm",className:"report-btn"}),(0,S.jsx)(Ys,{clientId:k,reportId:e.id,report:e,variant:"outline-info",size:"sm",className:"report-btn"}),(0,S.jsx)(js,{clientId:k,reportId:e.id,report:e,variant:"outline-danger",size:"sm",className:"report-btn"}),(0,S.jsx)(We,{variant:"outline-danger",size:"sm",onClick:()=>z(e),className:"report-btn",children:"Delete"})]})]})}),(0,S.jsx)(vs.Body,{children:e.lineItems&&e.lineItems.length>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"table-responsive",children:(0,S.jsxs)("table",{className:"table table-striped table-hover mb-0",children:[(0,S.jsx)("thead",{className:"table-dark",children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Line #"}),(0,S.jsx)("th",{children:"Item Name"}),(0,S.jsx)("th",{children:"NDC-11"}),(0,S.jsx)("th",{className:"hide-mobile",children:"Package Details"}),(0,S.jsx)("th",{children:"Qty"}),(0,S.jsx)("th",{children:"Pricing"}),(0,S.jsx)("th",{children:"Total Price"}),(0,S.jsx)("th",{children:"DEA"}),(0,S.jsx)("th",{className:"hide-mobile fw-bold",children:"Wholesaler"}),(0,S.jsx)("th",{className:"hide-mobile fw-bold",children:"Manufacturer"}),(0,S.jsx)("th",{className:"hide-mobile fw-bold",children:"Notes for Return"})]})}),(0,S.jsx)("tbody",{children:e.lineItems.slice(0,10).map(e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"fw-bold",children:e.lineNo}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{className:"text-truncate d-flex align-items-center item-name-truncate",title:e.itemName,children:[e.itemName,e.isManualEntry&&(0,S.jsx)("span",{className:"manual-entry-badge",title:"Manual Entry",children:"\ud83d\udd27 Manual"})]})}),(0,S.jsx)("td",{children:(0,S.jsx)("code",{className:"small",children:e.ndc11})}),(0,S.jsx)("td",{className:"hide-mobile",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units/pkg"]})]})}),(0,S.jsx)("td",{className:"text-center",children:(0,S.jsx)(Ss,{bg:"secondary",children:e.packages})}),(0,S.jsxs)("td",{className:"text-end",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("strong",{children:["$",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"]}),(0,S.jsx)("small",{className:"text-muted d-block",children:(0,S.jsxs)("strong",{children:["per ",e.pricingUnit||"unit"]})})]}),(0,S.jsxs)("div",{className:"mt-1",children:[(0,S.jsxs)("strong",{className:"text-info",children:["$",e.pricePerPackage?e.pricePerPackage.toFixed(2):"0.00"]}),(0,S.jsx)("small",{className:"text-muted d-block",children:(0,S.jsx)("strong",{children:"per package"})})]})]}),(0,S.jsx)("td",{className:"text-end",children:(0,S.jsxs)("strong",{className:"text-success",children:["$",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]})}),(0,S.jsx)("td",{children:e.dea_schedule?(0,S.jsx)(Ss,{bg:"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",title:"CII"===e.dea_schedule?"Schedule II - Requires Form 222":"Schedule ".concat(e.dea_schedule.substring(1)," Controlled Substance"),children:e.dea_schedule}):(0,S.jsx)("span",{className:"text-muted",children:"-"})}),(0,S.jsx)("td",{className:"hide-mobile",children:(null===P||void 0===P?void 0:P.wholesaler)||"N/A"}),(0,S.jsx)("td",{className:"hide-mobile",children:e.labeler_name||"N/A"}),(0,S.jsx)("td",{className:"hide-mobile return-instructions-column",children:(0,S.jsx)("div",{className:"text-truncate",title:M(e.labeler_name),children:M(e.labeler_name)})})]},e.id))})]})}),(0,S.jsx)("div",{className:"mobile-table-card",children:e.lineItems.slice(0,10).map(e=>(0,S.jsxs)("div",{className:"mobile-item-card",children:[(0,S.jsxs)("div",{className:"mobile-item-header",children:["Line #",e.lineNo,": ",e.itemName,e.isManualEntry&&(0,S.jsx)("span",{className:"manual-entry-badge",children:"\ud83d\udd27 Manual"})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"NDC:"}),(0,S.jsx)("code",{className:"small",children:e.ndc11})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Package:"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units per package"]})]})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Quantity:"}),(0,S.jsx)(Ss,{bg:"secondary",children:e.packages})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Price/Unit:"}),(0,S.jsxs)("strong",{children:["$",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"," per ",e.pricingUnit||"unit"]})]}),e.dea_schedule&&(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"DEA Schedule:"}),(0,S.jsx)(Ss,{bg:"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",children:e.dea_schedule})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Wholesaler:"}),(0,S.jsx)("span",{children:(null===P||void 0===P?void 0:P.wholesaler)||"N/A"})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Manufacturer:"}),(0,S.jsx)("span",{children:e.labeler_name||"N/A"})]}),(0,S.jsxs)("div",{className:"mobile-item-detail",children:[(0,S.jsx)("span",{className:"mobile-item-label",children:"Return Notes:"}),(0,S.jsx)("span",{className:"return-instructions-text",children:M(e.labeler_name)})]})]},e.id))}),e.lineItems.length>10&&(0,S.jsxs)("div",{className:"text-center mt-3",children:[(0,S.jsxs)(We,{variant:"outline-primary",onClick:()=>F(e),children:["View All ",e.lineItems.length," Items"]}),(0,S.jsxs)("div",{className:"text-muted small mt-2",children:["Showing first 10 of ",e.lineItems.length," items"]})]})]}):(0,S.jsx)(ze,{variant:"warning",className:"mb-0",children:'This report has no line items yet. Click "Edit Items" to start scanning.'})})]},e.id)})]}),"      ",(0,S.jsxs)(kt,{show:p,onHide:()=>g(!1),size:"xl",children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsxs)(kt.Title,{children:["Report Details - ",null===f||void 0===f?void 0:f.id]})}),(0,S.jsx)(kt.Body,{children:f&&(0,S.jsxs)("div",{children:[(0,S.jsxs)(vs,{className:"mb-3",children:[(0,S.jsx)(vs.Header,{children:(0,S.jsx)("h5",{className:"mb-0",children:"Report Overview"})}),(0,S.jsxs)(vs.Body,{children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsxs)("div",{className:"col-md-6",children:[(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Report:"})," #",f.originalReportNumber||i.findIndex(e=>e.id===f.id)+1]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Report ID:"})," ",(0,S.jsx)("code",{className:"small",children:f.id})]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Created:"})," ",L(f.createdAt)]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Total Line Items:"})," ",(0,S.jsx)(Ss,{bg:"primary",children:(null===(e=f.lineItems)||void 0===e?void 0:e.length)||0})]})]}),(0,S.jsxs)("div",{className:"col-md-6",children:[(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Client:"})," ",(0,S.jsx)(Ks,{client:P})]}),(null===P||void 0===P?void 0:P.streetAddress)&&(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Address:"})," ",P.streetAddress,", ",P.city,", ",P.state," ",P.zipCode]}),(null===P||void 0===P?void 0:P.phoneNumber)&&(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"Phone:"})," ",P.phoneNumber]})]})]}),f.lineItems&&f.lineItems.length>0&&(()=>{const e=f.lineItems.reduce((e,t)=>e+(t.totalPrice||0),0),t=(null===P||void 0===P?void 0:P.invoicePercentage)||0,n=e*(t/100),r=e+n;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("hr",{}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("div",{className:"h4 text-primary mb-0",children:f.lineItems.reduce((e,t)=>e+(t.packages||0),0)}),(0,S.jsx)("small",{className:"text-muted",children:"Total Packages"})]})}),(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsxs)("div",{className:"h4 text-success mb-0",children:["$",e.toFixed(2)]}),(0,S.jsx)("small",{className:"text-muted",children:"Subtotal"})]})}),t>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsxs)("div",{className:"h4 text-info mb-0",children:["$",n.toFixed(2)]}),(0,S.jsxs)("small",{className:"text-muted",children:["Invoice Profit (",t,"%)"]})]})}),(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsxs)("div",{className:"h4 text-success mb-0 fw-bold",children:["$",r.toFixed(2)]}),(0,S.jsx)("small",{className:"text-muted fw-bold",children:"Grand Total"})]})})]}),(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("div",{className:"h4 text-danger mb-0",children:f.lineItems.filter(e=>"CII"===e.dea_schedule||"CI"===e.dea_schedule).length}),(0,S.jsxs)("small",{className:"text-muted schedule-text d-block",children:[(0,S.jsx)("span",{className:"d-none d-md-inline",children:"Schedule I/II"}),(0,S.jsx)("span",{className:"d-md-none",children:"CI/CII"})]})]})}),(0,S.jsx)("div",{className:"col-lg-2 col-md-4 col-6 mb-3",children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("div",{className:"h4 text-warning mb-0",children:f.lineItems.filter(e=>e.isManualEntry).length}),(0,S.jsx)("small",{className:"text-muted",children:"Manual Entries"})]})})]})]})})()]})]}),f.lineItems&&f.lineItems.length>0&&(0,S.jsxs)(vs,{children:[(0,S.jsx)(vs.Header,{children:(0,S.jsx)("h6",{className:"mb-0",children:"Line Items"})}),(0,S.jsxs)(vs.Body,{children:[(0,S.jsx)("div",{className:"table-responsive d-none d-md-block",children:(0,S.jsxs)("table",{className:"table table-sm table-hover",children:[(0,S.jsx)("thead",{className:"table-light",children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{style:{minWidth:"50px"},children:"Line #"}),(0,S.jsx)("th",{style:{minWidth:"200px"},children:"Item Name"}),(0,S.jsx)("th",{style:{minWidth:"110px"},children:"NDC-11"}),(0,S.jsx)("th",{style:{minWidth:"100px"},children:"Strength"}),(0,S.jsx)("th",{style:{minWidth:"180px",maxWidth:"220px"},children:"Dosage Form"}),(0,S.jsx)("th",{style:{minWidth:"120px"},children:"Package Details"}),(0,S.jsx)("th",{style:{minWidth:"70px"},children:"Qty"}),(0,S.jsx)("th",{style:{minWidth:"90px"},className:"text-end",children:"Price/Unit"}),(0,S.jsx)("th",{style:{minWidth:"100px"},className:"text-end",children:"Total Price"}),(0,S.jsx)("th",{style:{minWidth:"70px"},children:"DEA"}),(0,S.jsx)("th",{style:{minWidth:"120px"},className:"fw-bold",children:"Wholesaler"}),(0,S.jsx)("th",{style:{minWidth:"150px"},className:"fw-bold",children:"Manufacturer"}),(0,S.jsx)("th",{style:{minWidth:"200px"},className:"fw-bold",children:"Notes for Return"})]})}),(0,S.jsx)("tbody",{children:f.lineItems.map(e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:e.lineNo}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)("span",{children:e.itemName}),e.isManualEntry&&(0,S.jsx)("span",{className:"manual-entry-badge ms-2",title:"Manual Entry",children:"\ud83d\udd27 Manual"})]})}),(0,S.jsx)("td",{children:(0,S.jsx)("code",{className:"small",children:e.ndc11})}),(0,S.jsx)("td",{children:e.strength?(0,S.jsx)("span",{className:"text-primary fw-semibold",children:e.strength}):(0,S.jsx)("span",{className:"text-muted",children:"-"})}),(0,S.jsx)("td",{style:{minWidth:"180px",maxWidth:"220px"},children:e.dosageForm?(0,S.jsx)("span",{className:"text-secondary",title:e.dosageForm,children:e.dosageForm}):(0,S.jsx)("span",{className:"text-muted",children:"-"})}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units/pkg"]})]})}),(0,S.jsx)("td",{children:e.packages}),(0,S.jsx)("td",{className:"text-end",children:(0,S.jsxs)("strong",{children:["$",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"]})}),(0,S.jsx)("td",{className:"text-end",children:(0,S.jsxs)("strong",{className:"text-success",children:["$",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]})}),(0,S.jsx)("td",{children:e.dea_schedule?(0,S.jsx)(Ss,{bg:"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",title:"CII"===e.dea_schedule?"Schedule II - Requires Form 222":"Schedule ".concat(e.dea_schedule.substring(1)," Controlled Substance"),children:e.dea_schedule}):(0,S.jsx)("span",{className:"text-muted",children:"-"})}),(0,S.jsx)("td",{children:(null===P||void 0===P?void 0:P.wholesaler)||"N/A"}),(0,S.jsx)("td",{children:e.labeler_name||"N/A"}),(0,S.jsx)("td",{className:"return-instructions-modal",children:M(e.labeler_name)})]},e.id))})]})}),(0,S.jsx)("div",{className:"d-md-none",children:f.lineItems.map(e=>(0,S.jsxs)("div",{className:"border rounded p-3 mb-3 bg-light",children:[(0,S.jsxs)("div",{className:"mb-2",children:[(0,S.jsxs)("strong",{children:["Line #",e.lineNo,": "]}),(0,S.jsx)("span",{children:e.itemName}),e.isManualEntry&&(0,S.jsx)("span",{className:"badge bg-warning text-dark ms-2 manual-entry-badge",title:"Manual Entry",children:"\ud83d\udd27 Manual"})]}),(0,S.jsxs)("div",{className:"small",children:[(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"NDC:"})," ",(0,S.jsx)("code",{children:e.ndc11})]}),e.strength&&(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Strength:"})," ",(0,S.jsx)("span",{className:"text-primary fw-semibold",children:e.strength})]}),e.dosageForm&&(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Dosage Form:"})," ",(0,S.jsx)("span",{className:"text-secondary",children:e.dosageForm})]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Package:"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units per package"]})]})]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Quantity:"})," ",e.packages]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Price/Unit:"})," ",(0,S.jsxs)("strong",{children:["$",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"," per ",e.pricingUnit||"unit"]})]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Total Price:"})," ",(0,S.jsxs)("strong",{className:"text-success",children:["$",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]})]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"DEA Schedule:"})," ",e.dea_schedule?(0,S.jsx)(Ss,{bg:"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",className:"ms-1",children:e.dea_schedule}):(0,S.jsx)("span",{className:"text-muted",children:"Not Controlled"})]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Wholesaler:"})," ",(null===P||void 0===P?void 0:P.wholesaler)||"N/A"]}),(0,S.jsxs)("div",{className:"mb-1",children:[(0,S.jsx)("strong",{children:"Manufacturer:"})," ",e.labeler_name||"N/A"]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Return Notes:"})," ",M(e.labeler_name)]})]})]},e.id))})]})]})]})}),(0,S.jsx)(kt.Footer,{children:(0,S.jsxs)("div",{className:"d-flex justify-content-between w-100 flex-wrap gap-3 modal-footer-buttons",children:[(0,S.jsx)("div",{className:"d-flex gap-3 flex-wrap",children:f&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(We,{variant:"outline-success",size:"sm",onClick:()=>{g(!1),U(f)},className:"modal-action-btn",children:"Edit Items"}),f.lineItems&&f.lineItems.length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(zs,{clientId:k,reportId:f.id,report:f,variant:"outline-success",size:"sm",className:"modal-action-btn"}),(0,S.jsx)(Ys,{clientId:k,reportId:f.id,report:f,variant:"outline-info",size:"sm",className:"modal-action-btn"}),f.lineItems.some(e=>"CI"===e.dea_schedule||"CII"===e.dea_schedule)&&(0,S.jsx)(js,{clientId:k,reportId:f.id,report:c(c({},f),{},{client:P}),variant:"outline-danger",size:"sm",className:"modal-action-btn"})]}),(0,S.jsx)(We,{variant:"outline-danger",size:"sm",onClick:()=>{g(!1),z(f)},className:"modal-action-btn",children:"Delete Report"})]})}),(0,S.jsx)(We,{variant:"secondary",onClick:()=>g(!1),className:"modal-close-btn",children:"Close"})]})})]}),(0,S.jsxs)(kt,{show:m,onHide:V,children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:"Confirm Delete Report"})}),(0,S.jsx)(kt.Body,{children:v&&(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{children:"Are you sure you want to delete this report?"}),(0,S.jsxs)("div",{className:"alert alert-warning",children:[(0,S.jsx)("strong",{children:"Report Details:"}),(0,S.jsx)("br",{}),(0,S.jsx)("strong",{children:"ID:"})," ",v.id,(0,S.jsx)("br",{}),(0,S.jsx)("strong",{children:"Created:"})," ",L(v.createdAt),(0,S.jsx)("br",{}),(0,S.jsx)("strong",{children:"Line Items:"})," ",(null===(n=v.lineItems)||void 0===n?void 0:n.length)||0]}),(0,S.jsxs)("p",{className:"text-danger",children:[(0,S.jsx)("strong",{children:"Warning:"})," This action cannot be undone. All line items in this report will be permanently deleted."]})]})}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:V,children:"Cancel"}),(0,S.jsx)(We,{variant:"danger",onClick:async()=>{if(v&&k)try{await u(k,v.id),y(!1),w(null)}catch(e){console.error("Failed to delete report:",e)}},children:"Delete Report"})]})]})]})}):(0,S.jsx)(qi,{children:(0,S.jsx)(ze,{variant:"warning",children:"No client selected. Please select a client first."})})};function $s(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var Qs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Js=function(e){function t(t,n){var r=this.constructor,o=e.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:r.name,enumerable:!1,configurable:!0}),function(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}(o,r.prototype),$s(o),o}return Qs(t,e),t}(Error);var el=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tl=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,t)||this;return n.message=t,n}return el(t,e),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(Js);var nl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const rl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nl(t,e),t.kind="ArgumentException",t}(tl);var ol=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ol(t,e),t.kind="IllegalArgumentException",t}(tl);const al=function(){function e(e){if(this.binarizer=e,null===e)throw new il("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,r,o){var i=this.binarizer.getLuminanceSource().crop(t,n,r,o);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(Sv){return""}},e}();var sl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sl(t,e),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(tl);const cl=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}();const ul=function(){function e(){}return e.arraycopy=function(e,t,n,r,o){for(;o--;)n[r++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}();var dl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dl(t,e),t.kind="IndexOutOfBoundsException",t}(tl);var hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pl=function(e){function t(t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var r=e.call(this,n)||this;return r.index=t,r.message=n,r}return hl(t,e),t.kind="ArrayIndexOutOfBoundsException",t}(fl);var gl=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ml=function(){function e(){}return e.fill=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n]=t},e.fillWithin=function(t,n,r,o){e.rangeCheck(t.length,n,r);for(var i=n;i<r;i++)t[i]=o},e.rangeCheck=function(e,t,n){if(t>n)throw new il("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new pl(t);if(n>e)throw new pl(n)},e.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.create=function(e,t,n){return Array.from({length:e}).map(function(e){return Array.from({length:t}).fill(n)})},e.createInt32Array=function(e,t,n){return Array.from({length:e}).map(function(e){return Int32Array.from({length:t}).fill(n)})},e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},e.hashCode=function(e){var t,n;if(null===e)return 0;var r=1;try{for(var o=gl(e),i=o.next();!i.done;i=o.next()){r=31*r+i.value}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},e.copyOf=function(e,t){return e.slice(0,t)},e.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},e.copyOfRange=function(e,t,n){var r=n-t,o=new Int32Array(r);return ul.arraycopy(e,t,o,0,r),o},e.binarySearch=function(t,n,r){void 0===r&&(r=e.numberComparator);for(var o=0,i=t.length-1;o<=i;){var a=i+o>>1,s=r(n,t[a]);if(s>0)o=a+1;else{if(!(s<0))return a;i=a-1}}return-o-1},e.numberComparator=function(e,t){return e-t},e}();const yl=ml;const vl=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var n=31;return 0!==(t=e<<16)&&(n-=16,e=t),0!==(t=e<<8)&&(n-=8,e=t),0!==(t=e<<4)&&(n-=4,e=t),0!==(t=e<<2)&&(n-=2,e=t),n-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.toBinaryString=function(e){return String(parseInt(String(e),2))},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.truncDivision=function(e,t){return Math.trunc(e/t)},e.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();var wl=function(){function e(t,n){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=void 0===n||null===n?e.makeArray(t):n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var n=e.makeArray(t);ul.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),o=n[r];o&=~((1<<(31&e))-1);for(var i=n.length;0===o;){if(++r===i)return t;o=n[r]}var a=32*r+vl.numberOfTrailingZeros(o);return a>t?t:a},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),o=~n[r];o&=~((1<<(31&e))-1);for(var i=n.length;0===o;){if(++r===i)return t;o=~n[r]}var a=32*r+vl.numberOfTrailingZeros(o);return a>t?t:a},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new il;if(t!==e){t--;for(var n=Math.floor(e/32),r=Math.floor(t/32),o=this.bits,i=n;i<=r;i++){var a=(2<<(i<r?31:31&t))-(1<<(i>n?0:31&e));o[i]|=a}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},e.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new il;if(t===e)return!0;t--;for(var r=Math.floor(e/32),o=Math.floor(t/32),i=this.bits,a=r;a<=o;a++){var s=(2<<(a<o?31:31&t))-(1<<(a>r?0:31&e))&4294967295;if((i[a]&s)!==(n?s:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new il("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},e.prototype.xor=function(e){if(this.size!==e.size)throw new il("Sizes don't match");for(var t=this.bits,n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]},e.prototype.toBytes=function(e,t,n,r){for(var o=0;o<r;o++){for(var i=0,a=0;a<8;a++)this.get(e)&&(i|=1<<7-a),e++;t[n+o]=i}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits,o=0;o<n;o++){var i=r[o];i=(i=(i=(i=(i=i>>1&1431655765|(1431655765&i)<<1)>>2&858993459|(858993459&i)<<2)>>4&252645135|(252645135&i)<<4)>>8&16711935|(16711935&i)<<8)>>16&65535|(65535&i)<<16,e[t-o]=i}if(this.size!==32*n){var a=32*n-this.size,s=e[0]>>>a;for(o=1;o<n;o++){var l=e[o];s|=l<<32-a,e[o-1]=s,s=l>>>a}e[n-1]=s}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&yl.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+yl.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},e}();const bl=wl;var Cl;!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"}(Cl||(Cl={}));const El=Cl;var _l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _l(t,e),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(tl);var Al,Il=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(Al||(Al={}));var Nl=function(){function e(t,n,r){for(var o,i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,this.values="number"===typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var d=l[c];e.VALUES_TO_ECI.set(d,this)}try{for(var f=Il(a),h=f.next();!h.done;h=f.next()){var p=h.value;e.NAME_TO_ECI.set(p,this)}}catch(g){o={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new Sl("incorect value");var n=e.VALUES_TO_ECI.get(t);if(void 0===n)throw new Sl("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(void 0===n)throw new Sl("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Al.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Al.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Al.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Al.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Al.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Al.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Al.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Al.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Al.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Al.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Al.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Al.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Al.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Al.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Al.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Al.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Al.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Al.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Al.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Al.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Al.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Al.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Al.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Al.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Al.Big5,28,"Big5"),e.GB18030=new e(Al.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Al.EUC_KR,30,"EUC_KR","EUC-KR"),e}();const xl=Nl;var Ol=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ol(t,e),t.kind="UnsupportedOperationException",t}(tl);const Rl=function(){function e(){}return e.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&"ISO-8859-1"===t},e.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)},e.isBrowser=function(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"===typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return e instanceof xl?e:xl.getCharacterSetECIByName(e)},e.decodeFallback=function(t,n){var r=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(r)){for(var o="",i=0,a=t.length;i<a;i++){var s=t[i].toString(16);s.length<2&&(s="0"+s),o+="%"+s}return decodeURIComponent(o)}if(r.equals(xl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Tl("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(e){return e.equals(xl.UTF8)||e.equals(xl.ISO8859_1)||e.equals(xl.ASCII)},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),n=[],r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)},e}();var Pl=function(){function e(){}return e.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var n=t?t.getName():this.ISO88591;return Rl.decode(new Uint8Array([e]),n)},e.guessEncoding=function(t,n){if(null!==n&&void 0!==n&&void 0!==n.get(El.CHARACTER_SET))return n.get(El.CHARACTER_SET).toString();for(var r=t.length,o=!0,i=!0,a=!0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,p=0,g=0,m=0,y=0,v=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],w=0;w<r&&(o||i||a);w++){var b=255&t[w];a&&(s>0?0===(128&b)?a=!1:s--:0!==(128&b)&&(0===(64&b)?a=!1:(s++,0===(32&b)?l++:(s++,0===(16&b)?c++:(s++,0===(8&b)?u++:a=!1))))),o&&(b>127&&b<160?o=!1:b>159&&(b<192||215===b||247===b)&&y++),i&&(d>0?b<64||127===b||b>252?i=!1:d--:128===b||160===b||b>239?i=!1:b>160&&b<224?(f++,p=0,++h>g&&(g=h)):b>127?(d++,h=0,++p>m&&(m=p)):(h=0,p=0))}return a&&s>0&&(a=!1),i&&d>0&&(i=!1),a&&(v||l+c+u>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||g>=3||m>=3)?e.SHIFT_JIS:o&&i?2===g&&2===f||10*y>=r?e.SHIFT_JIS:e.ISO88591:o?e.ISO88591:i?e.SHIFT_JIS:a?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,n,o,i,a,s){if("%%"===e)return"%";if(void 0!==t[++r]){e=i?parseInt(i.substr(1)):void 0;var l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);for(var u=parseInt(o),d=o&&o[0]+""==="0"?"0":" ";l.length<u;)l=void 0!==n?l+d:d+l;return l}})},e.getBytes=function(e,t){return Rl.encode(e,t)},e.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},e.getCharAt=function(e){return String.fromCharCode(e)},e.SHIFT_JIS=xl.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=xl.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=xl.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}();const kl=Pl;const Dl=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.enableDecoding=function(e){return this.encoding=e,this},e.prototype.append=function(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=kl.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},e.prototype.appendChars=function(e,t,n){for(var r=t;t<t+n;r++)this.append(e[r]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.substring=function(e,t){return this.value.substring(e,t)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},e}();const jl=function(){function e(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new il("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,r=t[0].length,o=new e(r,n),i=0;i<n;i++)for(var a=t[i],s=0;s<r;s++)a[s]&&o.set(s,i);return o},e.parseFromString=function(t,n,r){if(null===t)throw new il("stringRepresentation cannot be null");for(var o=new Array(t.length),i=0,a=0,s=-1,l=0,c=0;c<t.length;)if("\n"===t.charAt(c)||"\r"===t.charAt(c)){if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new il("row lengths do not match");a=i,l++}c++}else if(t.substring(c,c+n.length)===n)c+=n.length,o[i]=!0,i++;else{if(t.substring(c,c+r.length)!==r)throw new il("illegal character encountered: "+t.substring(c));c+=r.length,o[i]=!1,i++}if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new il("row lengths do not match");l++}for(var u=new e(s,l),d=0;d<i;d++)o[d]&&u.set(Math.floor(d%s),Math.floor(d/s));return u},e.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)},e.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new il("input matrix dimensions do not match");for(var t=new bl(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,o=0,i=this.height;o<i;o++)for(var a=o*n,s=e.getRow(o,t).getBitArray(),l=0;l<n;l++)r[a+l]^=s[l]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},e.prototype.setRegion=function(e,t,n,r){if(t<0||e<0)throw new il("Left and top must be nonnegative");if(r<1||n<1)throw new il("Height and width must be at least 1");var o=e+n,i=t+r;if(i>this.height||o>this.width)throw new il("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,l=t;l<i;l++)for(var c=l*a,u=e;u<o;u++)s[c+Math.floor(u/32)]|=1<<(31&u)&4294967295},e.prototype.getRow=function(e,t){null===t||void 0===t||t.getSize()<this.width?t=new bl(this.width):t.clear();for(var n=this.rowSize,r=this.bits,o=e*n,i=0;i<n;i++)t.setBulk(32*i,r[o+i]);return t},e.prototype.setRow=function(e,t){ul.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new bl(e),r=new bl(e),o=0,i=Math.floor((t+1)/2);o<i;o++)n=this.getRow(o,n),r=this.getRow(t-1-o,r),n.reverse(),r.reverse(),this.setRow(o,r),this.setRow(t-1-o,n)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,r=this.bits,o=e,i=t,a=-1,s=-1,l=0;l<t;l++)for(var c=0;c<n;c++){var u=r[l*n+c];if(0!==u){if(l<i&&(i=l),l>s&&(s=l),32*c<o){for(var d=0;0===(u<<31-d&4294967295);)d++;32*c+d<o&&(o=32*c+d)}if(32*c+31>a){for(d=31;u>>>d===0;)d--;32*c+d>a&&(a=32*c+d)}}}return a<o||s<i?null:Int32Array.from([o,i,a-o+1,s-i+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&0===t[n];)n++;if(n===t.length)return null;for(var r=n/e,o=n%e*32,i=t[n],a=0;0===(i<<31-a&4294967295);)a++;return o+=a,Int32Array.from([o,r])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&0===t[n];)n--;if(n<0)return null;for(var r=Math.floor(n/e),o=32*Math.floor(n%e),i=t[n],a=31;i>>>a===0;)a--;return o+=a,Int32Array.from([o,r])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&yl.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+yl.hashCode(this.bits)},e.prototype.toString=function(e,t,n){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===n&&(n="\n"),this.buildToString(e,t,n)},e.prototype.buildToString=function(e,t,n){for(var r=new Dl,o=0,i=this.height;o<i;o++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,o)?e:t);r.append(n)}return r.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}();var Ml=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ml(t,e),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(tl);var Bl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Fl=function(e){function t(n){var r=e.call(this,n)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return Bl(t,e),t.prototype.getBlackRow=function(e,n){var r=this.getLuminanceSource(),o=r.getWidth();void 0===n||null===n||n.getSize()<o?n=new bl(o):n.clear(),this.initArrays(o);for(var i=r.getRow(e,this.luminances),a=this.buckets,s=0;s<o;s++)a[(255&i[s])>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(a);if(o<3)for(s=0;s<o;s++)(255&i[s])<l&&n.set(s);else{var c=255&i[0],u=255&i[1];for(s=1;s<o-1;s++){var d=255&i[s+1];(4*u-c-d)/2<l&&n.set(s),c=u,u=d}}return n},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),o=new jl(n,r);this.initArrays(n);for(var i=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),l=e.getRow(s,this.luminances),c=Math.floor(4*n/5),u=Math.floor(n/5);u<c;u++){i[(255&l[u])>>t.LUMINANCE_SHIFT]++}var d=t.estimateBlackPoint(i),f=e.getMatrix();for(a=0;a<r;a++){var h=a*n;for(u=0;u<n;u++){(255&f[h+u])<d&&o.set(u,a)}}return o},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var n=this.buckets,r=0;r<t.LUMINANCE_BUCKETS;r++)n[r]=0},t.estimateBlackPoint=function(e){for(var n=e.length,r=0,o=0,i=0,a=0;a<n;a++)e[a]>i&&(o=a,i=e[a]),e[a]>r&&(r=e[a]);var s=0,l=0;for(a=0;a<n;a++){var c=a-o;(h=e[a]*c*c)>l&&(s=a,l=h)}if(o>s){var u=o;o=s,s=u}if(s-o<=n/16)throw new Ll;var d=s-1,f=-1;for(a=s-1;a>o;a--){var h,p=a-o;(h=p*p*(s-a)*(r-e[a]))>f&&(d=a,f=h)}return d<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(cl);var Ul=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const zl=function(e){function t(t){var n=e.call(this,t)||this;return n.matrix=null,n}return Ul(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=t.MINIMUM_DIMENSION&&o>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),a=r>>t.BLOCK_SIZE_POWER;0!==(r&t.BLOCK_SIZE_MASK)&&a++;var s=o>>t.BLOCK_SIZE_POWER;0!==(o&t.BLOCK_SIZE_MASK)&&s++;var l=t.calculateBlackPoints(i,a,s,r,o),c=new jl(r,o);t.calculateThresholdForBlock(i,a,s,r,o,l,c),this.matrix=c}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,n,r,o,i,a,s){for(var l=i-t.BLOCK_SIZE,c=o-t.BLOCK_SIZE,u=0;u<r;u++){var d=u<<t.BLOCK_SIZE_POWER;d>l&&(d=l);for(var f=t.cap(u,2,r-3),h=0;h<n;h++){var p=h<<t.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=t.cap(h,2,n-3),m=0,y=-2;y<=2;y++){var v=a[f+y];m+=v[g-2]+v[g-1]+v[g]+v[g+1]+v[g+2]}var w=m/25;t.thresholdBlock(e,p,d,w,o,s)}}},t.cap=function(e,t,n){return e<t?t:e>n?n:e},t.thresholdBlock=function(e,n,r,o,i,a){for(var s=0,l=r*i+n;s<t.BLOCK_SIZE;s++,l+=i)for(var c=0;c<t.BLOCK_SIZE;c++)(255&e[l+c])<=o&&a.set(n+c,r+s)},t.calculateBlackPoints=function(e,n,r,o,i){for(var a=i-t.BLOCK_SIZE,s=o-t.BLOCK_SIZE,l=new Array(r),c=0;c<r;c++){l[c]=new Int32Array(n);var u=c<<t.BLOCK_SIZE_POWER;u>a&&(u=a);for(var d=0;d<n;d++){var f=d<<t.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0,p=255,g=0,m=0,y=u*o+f;m<t.BLOCK_SIZE;m++,y+=o){for(var v=0;v<t.BLOCK_SIZE;v++){var w=255&e[y+v];h+=w,w<p&&(p=w),w>g&&(g=w)}if(g-p>t.MIN_DYNAMIC_RANGE)for(m++,y+=o;m<t.BLOCK_SIZE;m++,y+=o)for(v=0;v<t.BLOCK_SIZE;v++)h+=255&e[y+v]}var b=h>>2*t.BLOCK_SIZE_POWER;if(g-p<=t.MIN_DYNAMIC_RANGE&&(b=p/2,c>0&&d>0)){var C=(l[c-1][d]+2*l[c][d-1]+l[c-1][d-1])/4;p<C&&(b=C)}l[c][d]=b}}return l},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(Fl);const Vl=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,n,r){throw new Tl("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new Tl("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new Tl("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Dl,n=0;n<this.height;n++){for(var r=this.getRow(n,e),o=0;o<this.width;o++){var i=255&r[o],a=void 0;a=i<64?"#":i<128?"+":i<192?".":" ",t.append(a)}t.append("\n")}return t.toString()},e}();var Hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Wl=function(e){function t(t){var n=e.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return Hl(t,e),t.prototype.getRow=function(e,t){for(var n=this.delegate.getRow(e,t),r=this.getWidth(),o=0;o<r;o++)n[o]=255-(255&n[o]);return n},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t),r=0;r<t;r++)n[r]=255-(255&e[r]);return n},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,n,r,o){return new t(this.delegate.crop(e,n,r,o))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Vl);var Gl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xl=function(e){function t(n,r){void 0===r&&(r=!1);var o=e.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=t.makeBufferFromCanvasImageData(n,r),o}return Gl(t,e),t.makeBufferFromCanvasImageData=function(e,n){void 0===n&&(n=!1);var r=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(r.data,e.width,e.height,n)},t.toGrayscaleBuffer=function(e,n,r,o){void 0===o&&(o=!1);var i=new Uint8ClampedArray(n*r);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!o)for(var a=0,s=0,l=e.length;a<l;a+=4,s++){var c=void 0;if(0===e[a+3])c=255;else c=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;i[s]=c}else{a=0,s=0;for(var u=e.length;a<u;a+=4,s++){c=void 0;if(0===e[a+3])c=255;else c=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;i[s]=255-c}}return i},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new il("Requested row is outside the image: "+e);var n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,n,r,o){return e.prototype.crop.call(this,t,n,r,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var n=this.getTempCanvasElement(),r=n.getContext("2d"),o=e*t.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*a),l=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*a);return n.width=s,n.height=l,r.translate(s/2,l/2),r.rotate(o),r.drawImage(this.canvas,i/-2,a/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new Wl(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(Vl),Yl=function(){function e(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),Kl=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Sv){i(Sv)}}function s(e){try{l(r.throw(e))}catch(Sv){i(Sv)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},ql=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(Sv){i=[6,Sv],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Zl=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$l=function(){function e(e,t,n){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return"undefined"!==typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return Kl(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s,l,c,u,d;return ql(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),t=[];try{for(n=Zl(e),r=n.next();!r.done;r=n.next())o=r.value,"videoinput"===(i="video"===o.kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,s=o.label||"Video device "+(t.length+1),l=o.groupId,c={deviceId:a,label:s,kind:i,groupId:l},t.push(c))}catch(h){u={error:h}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}}return[2,t]}})})},e.prototype.getVideoInputDevices=function(){return Kl(this,void 0,void 0,function(){return ql(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(e){return new Yl(e.deviceId,e.label)})]}})})},e.prototype.findDeviceById=function(e){return Kl(this,void 0,void 0,function(){var t;return ql(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=n.sent())?[2,t.find(function(t){return t.deviceId===e})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(e,t){return Kl(this,void 0,void 0,function(){return ql(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(e,t){return Kl(this,void 0,void 0,function(){var n;return ql(this,function(r){switch(r.label){case 0:return this.reset(),n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(e,t){return Kl(this,void 0,void 0,function(){var n;return ql(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,r.sent()]}})})},e.prototype.decodeOnceFromStream=function(e,t){return Kl(this,void 0,void 0,function(){var n;return ql(this,function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Kl(this,void 0,void 0,function(){return ql(this,function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.decodeFromVideoDevice=function(e,t,n){return Kl(this,void 0,void 0,function(){var r;return ql(this,function(o){switch(o.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(r,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(e,t,n){return Kl(this,void 0,void 0,function(){var r;return ql(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeFromStream(r,t,n)];case 2:return[2,o.sent()]}})})},e.prototype.decodeFromStream=function(e,t,n){return Kl(this,void 0,void 0,function(){var r;return ql(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=o.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,o.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(e,t){return Kl(this,void 0,void 0,function(){var n;return ql(this,function(r){switch(r.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,r){return t.playVideoOnLoad(e,function(){return n()})})},e.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},e.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},e.prototype.tryPlayVideo=function(e){return Kl(this,void 0,void 0,function(){return ql(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new rl("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new rl("element with id '"+e+"' must be an "+t+" element");return n},e.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new rl("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},e.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new rl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},e.prototype.decodeFromVideoContinuously=function(e,t,n){if(void 0===e&&void 0===t)throw new rl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},e.prototype.decodeFromImageElement=function(e){if(!e)throw new rl("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},e.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},e.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},e.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new rl("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},e.prototype.decodeFromImageUrl=function(e){if(!e)throw new rl("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},e.prototype.decodeFromVideoUrl=function(e){if(!e)throw new rl("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},e.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new rl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r},e.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,r){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,r)},e.addEventListener("load",t.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(e){return Kl(this,void 0,void 0,function(){return ql(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(e,t){return Kl(this,void 0,void 0,function(){return ql(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){var t;return"undefined"===typeof e&&((t=document.createElement("img")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},e.prototype.prepareVideoElement=function(e){var t;return e||"undefined"===typeof document||((t=document.createElement("video")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},e.prototype.decodeOnce=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var o=function(i,a){if(r._stopAsyncDecode)return a(new Ll("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{i(r.decode(e))}catch(Sv){if(t&&Sv instanceof Ll||(Sv instanceof ll||Sv instanceof Sl)&&n)return setTimeout(o,r._timeBetweenDecodingAttempts,i,a);a(Sv)}};return new Promise(function(e,t){return o(e,t)})},e.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var r=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var o=n.decode(e);t(o,null),setTimeout(r,n.timeBetweenScansMillis)}catch(Sv){t(null,Sv),(Sv instanceof ll||Sv instanceof Sl||Sv instanceof Ll)&&setTimeout(r,n._timeBetweenDecodingAttempts)}};r()},e.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},e.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),r=new Xl(n,t),o=new zl(r);return new al(o)},e.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch(Sv){n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.drawImageOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},e.prototype.createCaptureCanvas=function(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;var t,n,r=document.createElement("canvas");return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(t=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),r.style.width=t+"px",r.style.height=n+"px",r.width=t,r.height=n,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}},e.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},e}();const Ql=function(){function e(e,t,n,r,o,i){void 0===n&&(n=null==t?0:8*t.length),void 0===i&&(i=ul.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=o,this.timestamp=i,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=o,this.resultMetadata=null,this.timestamp=void 0===i||null===i?ul.currentTimeMillis():i}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var n=new Array(t.length+e.length);ul.arraycopy(t,0,n,0,t.length),ul.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();var Jl;!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(Jl||(Jl={}));const ec=Jl;var tc;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(tc||(tc={}));const nc=tc;const rc=function(){function e(e,t,n,r,o,i){void 0===o&&(o=-1),void 0===i&&(i=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=i,this.numBits=void 0===e||null===e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}();const oc=function(){function e(){}return e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new il;return this.logTable[e]},e.addOrSubtract=function(e,t){return e^t},e}();var ic=function(){function e(e,t){if(0===t.length)throw new il;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),ul.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,n=this.coefficients;if(1===e){t=0;for(var r=0,o=n.length;r!==o;r++){var i=n[r];t=oc.addOrSubtract(t,i)}return t}t=n[0];var a=n.length,s=this.field;for(r=1;r<a;r++)t=oc.addOrSubtract(s.multiply(e,t),n[r]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new il("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;ul.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=oc.addOrSubtract(n[s-a],r[s]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new il("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=t.coefficients,i=o.length,a=new Int32Array(r+i-1),s=this.field,l=0;l<r;l++)for(var c=n[l],u=0;u<i;u++)a[l+u]=oc.addOrSubtract(a[l+u],s.multiply(c,o[u]));return new e(s,a)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,a=0;a<n;a++)o[a]=r.multiply(i[a],t);return new e(r,o)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new il;if(0===n)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+t),a=this.field,s=0;s<o;s++)i[s]=a.multiply(r[s],n);return new e(a,i)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new il("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new il("Divide by 0");for(var t=this.field,n=t.getZero(),r=this,o=e.getCoefficient(e.getDegree()),i=t.inverse(o);r.getDegree()>=e.getDegree()&&!r.isZero();){var a=r.getDegree()-e.getDegree(),s=t.multiply(r.getCoefficient(r.getDegree()),i),l=e.multiplyByMonomial(a,s),c=t.buildMonomial(a,s);n=n.addOrSubtract(c),r=r.addOrSubtract(l)}return[n,r]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){var r=this.field.log(n);0===r?e+="1":1===r?e+="a":(e+="a^",e+=r)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}();const ac=ic;var sc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sc(t,e),t.kind="ArithmeticException",t}(tl);var cc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uc=function(e){function t(t,n,r){var o=e.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=r;for(var i=new Int32Array(n),a=1,s=0;s<n;s++)i[s]=a,(a*=2)>=n&&(a^=t,a&=n-1);o.expTable=i;var l=new Int32Array(n);for(s=0;s<n-1;s++)l[i[s]]=s;return o.logTable=l,o.zero=new ac(o,Int32Array.from([0])),o.one=new ac(o,Int32Array.from([1])),o}return cc(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new il;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new ac(this,n)},t.prototype.inverse=function(e){if(0===e)throw new lc;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+vl.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(oc);const dc=uc;var fc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fc(t,e),t.kind="ReedSolomonException",t}(tl);var pc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pc(t,e),t.kind="IllegalStateException",t}(tl);const mc=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var n=this.field,r=new ac(n,e),o=new Int32Array(t),i=!0,a=0;a<t;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));o[o.length-1-a]=s,0!==s&&(i=!1)}if(!i){var l=new ac(n,o),c=this.runEuclideanAlgorithm(n.buildMonomial(t,1),l,t),u=c[0],d=c[1],f=this.findErrorLocations(u),h=this.findErrorMagnitudes(d,f);for(a=0;a<f.length;a++){var p=e.length-1-n.log(f[a]);if(p<0)throw new hc("Bad error location");e[p]=dc.addOrSubtract(e[p],h[a])}}},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var o=this.field,i=e,a=t,s=o.getZero(),l=o.getOne();a.getDegree()>=(n/2|0);){var c=i,u=s;if(s=l,(i=a).isZero())throw new hc("r_{i-1} was zero");a=c;for(var d=o.getZero(),f=i.getCoefficient(i.getDegree()),h=o.inverse(f);a.getDegree()>=i.getDegree()&&!a.isZero();){var p=a.getDegree()-i.getDegree(),g=o.multiply(a.getCoefficient(a.getDegree()),h);d=d.addOrSubtract(o.buildMonomial(p,g)),a=a.addOrSubtract(i.multiplyByMonomial(p,g))}if(l=d.multiply(s).addOrSubtract(u),a.getDegree()>=i.getDegree())throw new gc("Division algorithm failed to reduce polynomial?")}var m=l.getCoefficient(0);if(0===m)throw new hc("sigmaTilde(0) was zero");var y=o.inverse(m);return[l.multiplyScalar(y),a.multiplyScalar(y)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),r=0,o=this.field,i=1;i<o.getSize()&&r<t;i++)0===e.evaluateAt(i)&&(n[r]=o.inverse(i),r++);if(r!==t)throw new hc("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,r=new Int32Array(n),o=this.field,i=0;i<n;i++){for(var a=o.inverse(t[i]),s=1,l=0;l<n;l++)if(i!==l){var c=o.multiply(t[l],a),u=0===(1&c)?1|c:-2&c;s=o.multiply(s,u)}r[i]=o.multiply(e.evaluateAt(a),o.inverse(s)),0!==o.getGeneratorBase()&&(r[i]=o.multiply(r[i],a))}return r},e}();var yc;!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(yc||(yc={}));var vc=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=e.convertBoolArrayToByteArray(o),a=e.getEncodedData(o),s=new rc(i,a,null,null);return s.setNumBits(o.length),s},e.highLevelDecode=function(e){return this.getEncodedData(e)},e.getEncodedData=function(t){for(var n=t.length,r=yc.UPPER,o=yc.UPPER,i="",a=0;a<n;)if(o===yc.BINARY){if(n-a<5)break;var s=e.readCode(t,a,5);if(a+=5,0===s){if(n-a<11)break;s=e.readCode(t,a,11)+31,a+=11}for(var l=0;l<s;l++){if(n-a<8){a=n;break}var c=e.readCode(t,a,8);i+=kl.castAsNonUtf8Char(c),a+=8}o=r}else{var u=o===yc.DIGIT?4:5;if(n-a<u)break;c=e.readCode(t,a,u);a+=u;var d=e.getCharacter(o,c);d.startsWith("CTRL_")?(r=o,o=e.getTable(d.charAt(5)),"L"===d.charAt(6)&&(r=o)):(i+=d,o=r)}return i},e.getTable=function(e){switch(e){case"L":return yc.LOWER;case"P":return yc.PUNCT;case"M":return yc.MIXED;case"D":return yc.DIGIT;case"B":return yc.BINARY;default:return yc.UPPER}},e.getCharacter=function(t,n){switch(t){case yc.UPPER:return e.UPPER_TABLE[n];case yc.LOWER:return e.LOWER_TABLE[n];case yc.MIXED:return e.MIXED_TABLE[n];case yc.PUNCT:return e.PUNCT_TABLE[n];case yc.DIGIT:return e.DIGIT_TABLE[n];default:throw new gc("Bad table")}},e.prototype.correctBits=function(t){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=dc.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=dc.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=dc.AZTEC_DATA_10):(r=12,n=dc.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=t.length/r;if(i<o)throw new Sl;for(var a=t.length%r,s=new Int32Array(i),l=0;l<i;l++,a+=r)s[l]=e.readCode(t,a,r);try{new mc(n).decode(s,i-o)}catch(g){throw new Sl(g)}var c=(1<<r)-1,u=0;for(l=0;l<o;l++){if(0===(h=s[l])||h===c)throw new Sl;1!==h&&h!==c-1||u++}var d=new Array(o*r-u),f=0;for(l=0;l<o;l++){var h;if(1===(h=s[l])||h===c-1)d.fill(h>1,f,f+r-1),f+=r-1;else for(var p=r-1;p>=0;--p)d[f++]=0!==(h&1<<p)}return d},e.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,o=new Int32Array(r),i=new Array(this.totalBitsInLayer(n,t));if(t)for(var a=0;a<o.length;a++)o[a]=a;else{var s=r+1+2*vl.truncDivision(vl.truncDivision(r,2)-1,15),l=r/2,c=vl.truncDivision(s,2);for(a=0;a<l;a++){var u=a+vl.truncDivision(a,15);o[l-a-1]=c-u-1,o[l+a]=c+u+1}}a=0;for(var d=0;a<n;a++){for(var f=4*(n-a)+(t?9:12),h=2*a,p=r-1-h,g=0;g<f;g++)for(var m=2*g,y=0;y<2;y++)i[d+m+y]=e.get(o[h+y],o[h+g]),i[d+2*f+m+y]=e.get(o[h+g],o[p-y]),i[d+4*f+m+y]=e.get(o[p-y],o[p-g]),i[d+6*f+m+y]=e.get(o[p-g],o[h+y]);d+=8*f}return i},e.readCode=function(e,t,n){for(var r=0,o=t;o<t+n;o++)r<<=1,e[o]&&(r|=1);return r},e.readByte=function(t,n){var r=t.length-n;return r>=8?e.readCode(t,n,8):e.readCode(t,n,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),r=0;r<n.length;r++)n[r]=e.readByte(t,8*r);return n},e.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}();const wc=vc;const bc=function(){function e(){}return e.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)},e.sum=function(e){for(var t=0,n=0,r=e.length;n!==r;n++){t+=e[n]}return t},e}();const Cc=function(){function e(){}return e.floatToIntBits=function(e){return e},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();const Ec=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*Cc.floatToIntBits(this.x)+Cc.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,n,r,o=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]);if(i>=o&&i>=a?(n=e[0],t=e[1],r=e[2]):a>=i&&a>=o?(n=e[1],t=e[0],r=e[2]):(n=e[2],t=e[0],r=e[1]),this.crossProductZ(t,n,r)<0){var s=t;t=r,r=s}e[0]=t,e[1]=n,e[2]=r},e.distance=function(e,t){return bc.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,n){var r=t.x,o=t.y;return(n.x-r)*(e.y-o)-(n.y-o)*(e.x-r)},e}();const _c=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var Sc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ac=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n)||this;return a.compact=r,a.nbDatablocks=o,a.nbLayers=i,a}return Sc(t,e),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(_c);const Ic=function(){function e(t,n,r,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),void 0!==n&&null!==n||(n=e.INIT_SIZE),void 0!==r&&null!==r||(r=t.getWidth()/2|0),void 0!==o&&null!==o||(o=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ll}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,o=!1,i=!0,a=!1,s=!1,l=!1,c=!1,u=!1,d=this.width,f=this.height;i;){i=!1;for(var h=!0;(h||!s)&&t<d;)(h=this.containsBlackPoint(n,r,t,!1))?(t++,i=!0,s=!0):s||t++;if(t>=d){o=!0;break}for(var p=!0;(p||!l)&&r<f;)(p=this.containsBlackPoint(e,t,r,!0))?(r++,i=!0,l=!0):l||r++;if(r>=f){o=!0;break}for(var g=!0;(g||!c)&&e>=0;)(g=this.containsBlackPoint(n,r,e,!1))?(e--,i=!0,c=!0):c||e--;if(e<0){o=!0;break}for(var m=!0;(m||!u)&&n>=0;)(m=this.containsBlackPoint(e,t,n,!0))?(n--,i=!0,u=!0):u||n--;if(n<0){o=!0;break}i&&(a=!0)}if(!o&&a){for(var y=t-e,v=null,w=1;null===v&&w<y;w++)v=this.getBlackPointOnSegment(e,r-w,e+w,r);if(null==v)throw new Ll;var b=null;for(w=1;null===b&&w<y;w++)b=this.getBlackPointOnSegment(e,n+w,e+w,n);if(null==b)throw new Ll;var C=null;for(w=1;null===C&&w<y;w++)C=this.getBlackPointOnSegment(t,n+w,t-w,n);if(null==C)throw new Ll;var E=null;for(w=1;null===E&&w<y;w++)E=this.getBlackPointOnSegment(t,r-w,t-w,r);if(null==E)throw new Ll;return this.centerEdges(E,v,C,b)}throw new Ll},e.prototype.getBlackPointOnSegment=function(e,t,n,r){for(var o=bc.round(bc.distance(e,t,n,r)),i=(n-e)/o,a=(r-t)/o,s=this.image,l=0;l<o;l++){var c=bc.round(e+l*i),u=bc.round(t+l*a);if(s.get(c,u))return new Ec(c,u)}return null},e.prototype.centerEdges=function(t,n,r,o){var i=t.getX(),a=t.getY(),s=n.getX(),l=n.getY(),c=r.getX(),u=r.getY(),d=o.getX(),f=o.getY(),h=e.CORR;return i<this.width/2?[new Ec(d-h,f+h),new Ec(s+h,l+h),new Ec(c-h,u-h),new Ec(i+h,a-h)]:[new Ec(d+h,f+h),new Ec(s+h,l-h),new Ec(c-h,u+h),new Ec(i-h,a-h)]},e.prototype.containsBlackPoint=function(e,t,n,r){var o=this.image;if(r){for(var i=e;i<=t;i++)if(o.get(i,n))return!0}else for(var a=e;a<=t;a++)if(o.get(n,a))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}();const Nc=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),r=e.getHeight(),o=!0,i=0;i<t.length&&o;i+=2){var a=Math.floor(t[i]),s=Math.floor(t[i+1]);if(a<-1||a>n||s<-1||s>r)throw new Ll;o=!1,-1===a?(t[i]=0,o=!0):a===n&&(t[i]=n-1,o=!0),-1===s?(t[i+1]=0,o=!0):s===r&&(t[i+1]=r-1,o=!0)}o=!0;for(i=t.length-2;i>=0&&o;i-=2){a=Math.floor(t[i]),s=Math.floor(t[i+1]);if(a<-1||a>n||s<-1||s>r)throw new Ll;o=!1,-1===a?(t[i]=0,o=!0):a===n&&(t[i]=n-1,o=!0),-1===s?(t[i+1]=0,o=!0):s===r&&(t[i+1]=r-1,o=!0)}},e}();const xc=function(){function e(e,t,n,r,o,i,a,s,l){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=o,this.a32=i,this.a13=a,this.a23=s,this.a33=l}return e.quadrilateralToQuadrilateral=function(t,n,r,o,i,a,s,l,c,u,d,f,h,p,g,m){var y=e.quadrilateralToSquare(t,n,r,o,i,a,s,l);return e.squareToQuadrilateral(c,u,d,f,h,p,g,m).times(y)},e.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=0;d<t;d+=2){var f=e[d],h=e[d+1],p=o*f+s*h+u;e[d]=(n*f+i*h+l)/p,e[d+1]=(r*f+a*h+c)/p}},e.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length,f=0;f<d;f++){var h=e[f],p=t[f],g=o*h+s*p+u;e[f]=(n*h+i*p+l)/g,t[f]=(r*h+a*p+c)/g}},e.squareToQuadrilateral=function(t,n,r,o,i,a,s,l){var c=t-r+i-s,u=n-o+a-l;if(0===c&&0===u)return new e(r-t,i-r,t,o-n,a-o,n,0,0,1);var d=r-i,f=s-i,h=o-a,p=l-a,g=d*p-f*h,m=(c*p-f*u)/g,y=(d*u-c*h)/g;return new e(r-t+m*r,s-t+y*s,t,o-n+m*o,l-n+y*l,n,m,y,1)},e.quadrilateralToSquare=function(t,n,r,o,i,a,s,l){return e.squareToQuadrilateral(t,n,r,o,i,a,s,l).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}();var Oc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oc(t,e),t.prototype.sampleGrid=function(e,t,n,r,o,i,a,s,l,c,u,d,f,h,p,g,m,y,v){var w=xc.quadrilateralToQuadrilateral(r,o,i,a,s,l,c,u,d,f,h,p,g,m,y,v);return this.sampleGridWithTransform(e,t,n,w)},t.prototype.sampleGridWithTransform=function(e,t,n,r){if(t<=0||n<=0)throw new Ll;for(var o=new jl(t,n),i=new Float32Array(2*t),a=0;a<n;a++){for(var s=i.length,l=a+.5,c=0;c<s;c+=2)i[c]=c/2+.5,i[c+1]=l;r.transformPoints(i),Nc.checkAndNudgePoints(e,i);try{for(c=0;c<s;c+=2)e.get(Math.floor(i[c]),Math.floor(i[c+1]))&&o.set(c/2,a)}catch(u){throw new Ll}}return o},t}(Nc);const Rc=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new Tc,e}();var Pc=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toResultPoint=function(){return new Ec(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),kc=function(){function e(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new Ac(o,i,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ll;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var r=0,o=0;o<4;o++){var i=n[(this.shift+o)%4];this.compact?(r<<=7,r+=i>>1&127):(r<<=10,r+=(i>>2&992)+(i>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},e.prototype.getRotation=function(e,t){var n=0;e.forEach(function(e,r,o){n=(n<<3)+((e>>t-2<<1)+(1&e))}),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(vl.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new Ll},e.prototype.getCorrectedParameterData=function(e,t){var n,r;t?(n=7,r=2):(n=10,r=4);for(var o=n-r,i=new Int32Array(n),a=n-1;a>=0;--a)i[a]=15&e,e>>=4;try{new mc(dc.AZTEC_PARAM).decode(i,o)}catch(l){throw new Ll}var s=0;for(a=0;a<r;a++)s=(s<<4)+i[a];return s},e.prototype.getBullsEyeCorners=function(e){var t=e,n=e,r=e,o=e,i=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(t,i,1,-1),s=this.getFirstDifferent(n,i,1,1),l=this.getFirstDifferent(r,i,-1,1),c=this.getFirstDifferent(o,i,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(a,s,l,c))break}t=a,n=s,r=l,o=c,i=!i}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Ll;this.compact=5===this.nbCenterLayers;var d=new Ec(t.getX()+.5,t.getY()-.5),f=new Ec(n.getX()+.5,n.getY()+.5),h=new Ec(r.getX()-.5,r.getY()+.5),p=new Ec(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,f,h,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var e,t,n,r;try{e=(l=new Ic(this.image).detect())[0],t=l[1],n=l[2],r=l[3]}catch(Sv){var o=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new Pc(o+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Pc(o+7,i+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Pc(o-7,i+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Pc(o-7,i-7),!1,-1,-1).toResultPoint()}var a=bc.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=bc.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{var l;e=(l=new Ic(this.image,15,a,s).detect())[0],t=l[1],n=l[2],r=l[3]}catch(Sv){e=this.getFirstDifferent(new Pc(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Pc(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Pc(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Pc(a-7,s-7),!1,-1,-1).toResultPoint()}return a=bc.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=bc.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new Pc(a,s)},e.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(e,t,n,r,o){var i=Rc.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return i.sampleGrid(e,a,a,s,s,l,s,l,l,s,l,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY())},e.prototype.sampleLine=function(e,t,n){for(var r=0,o=this.distanceResultPoint(e,t),i=o/n,a=e.getX(),s=e.getY(),l=i*(t.getX()-e.getX())/o,c=i*(t.getY()-e.getY())/o,u=0;u<n;u++)this.image.get(bc.round(a+u*l),bc.round(s+u*c))&&(r|=1<<n-u-1);return r},e.prototype.isWhiteOrBlackRectangle=function(e,t,n,r){e=new Pc(e.getX()-3,e.getY()+3),t=new Pc(t.getX()-3,t.getY()-3),n=new Pc(n.getX()+3,n.getY()-3),r=new Pc(r.getX()+3,r.getY()+3);var o=this.getColor(r,e);if(0===o)return!1;var i=this.getColor(e,t);return i===o&&((i=this.getColor(t,n))===o&&(i=this.getColor(n,r))===o)},e.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,i=0,a=e.getX(),s=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),u=0;u<c;u++)a+=r,s+=o,this.image.get(bc.round(a),bc.round(s))!==l&&i++;var d=i/n;return d>.1&&d<.9?0:d<=.1===l?1:-1},e.prototype.getFirstDifferent=function(e,t,n,r){for(var o=e.getX()+n,i=e.getY()+r;this.isValid(o,i)&&this.image.get(o,i)===t;)o+=n,i+=r;for(o-=n,i-=r;this.isValid(o,i)&&this.image.get(o,i)===t;)o+=n;for(o-=n;this.isValid(o,i)&&this.image.get(o,i)===t;)i+=r;return new Pc(o,i-=r)},e.prototype.expandSquare=function(e,t,n){var r=n/(2*t),o=e[0].getX()-e[2].getX(),i=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,l=new Ec(a+r*o,s+r*i),c=new Ec(a-r*o,s-r*i);return o=e[1].getX()-e[3].getX(),i=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[l,new Ec(a+r*o,s+r*i),c,new Ec(a-r*o,s-r*i)]},e.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},e.prototype.isValidPoint=function(e){var t=bc.round(e.getX()),n=bc.round(e.getY());return this.isValid(t,n)},e.prototype.distancePoint=function(e,t){return bc.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.distanceResultPoint=function(e,t){return bc.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(vl.truncDivision(this.nbLayers-4,8)+1)+15},e}();const Dc=kc;const jc=function(){function e(){}return e.prototype.decode=function(e,t){void 0===t&&(t=null);var n=null,r=new Dc(e.getBlackMatrix()),o=null,i=null;try{o=(a=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,o),i=(new wc).decode(a)}catch(Sv){n=Sv}if(null==i)try{var a;o=(a=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,o),i=(new wc).decode(a)}catch(Sv){if(null!=n)throw n;throw Sv}var s=new Ql(i.getText(),i.getRawBytes(),i.getNumBits(),o,ec.AZTEC,ul.currentTimeMillis()),l=i.getByteSegments();null!=l&&s.putMetadata(nc.BYTE_SEGMENTS,l);var c=i.getECLevel();return null!=c&&s.putMetadata(nc.ERROR_CORRECTION_LEVEL,c),s},e.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var n=e.get(El.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(function(e,t,r){n.foundPossibleResultPoint(e)})}},e.prototype.reset=function(){},e}();var Mc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new jc,t)||this}Mc(t,e)}($l);const Lc=function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(c){if(t&&!0===t.get(El.TRY_HARDER)&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),r=this.doDecode(n,t),o=r.getResultMetadata(),i=270;null!==o&&!0===o.get(nc.ORIENTATION)&&(i+=o.get(nc.ORIENTATION)%360),r.putMetadata(nc.ORIENTATION,i);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),l=0;l<a.length;l++)a[l]=new Ec(s-a[l].getY()-1,a[l].getX());return r}throw new Ll}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var n,r=e.getWidth(),o=e.getHeight(),i=new bl(r),a=t&&!0===t.get(El.TRY_HARDER),s=Math.max(1,o>>(a?8:5));n=a?o:15;for(var l=Math.trunc(o/2),c=0;c<n;c++){var u=Math.trunc((c+1)/2),d=l+s*(0===(1&c)?u:-u);if(d<0||d>=o)break;try{i=e.getBlackRow(d,i)}catch(m){continue}for(var f=function(e){if(1===e&&(i.reverse(),t&&!0===t.get(El.NEED_RESULT_POINT_CALLBACK))){var n=new Map;t.forEach(function(e,t){return n.set(t,e)}),n.delete(El.NEED_RESULT_POINT_CALLBACK),t=n}try{var o=h.decodeRow(d,i,t);if(1===e){o.putMetadata(nc.ORIENTATION,180);var a=o.getResultPoints();null!==a&&(a[0]=new Ec(r-a[0].getX()-1,a[0].getY()),a[1]=new Ec(r-a[1].getX()-1,a[1].getY()))}return{value:o}}catch(s){}},h=this,p=0;p<2;p++){var g=f(p);if("object"===typeof g)return g.value}}throw new Ll},e.recordPattern=function(e,t,n){for(var r=n.length,o=0;o<r;o++)n[o]=0;var i=e.getSize();if(t>=i)throw new Ll;for(var a=!e.get(t),s=0,l=t;l<i;){if(e.get(l)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}l++}if(s!==r&&(s!==r-1||l!==i))throw new Ll},e.recordPatternInReverse=function(t,n,r){for(var o=r.length,i=t.get(n);n>0&&o>=0;)t.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new Ll;e.recordPattern(t,n+1,r)},e.patternMatchVariance=function(e,t,n){for(var r=e.length,o=0,i=0,a=0;a<r;a++)o+=e[a],i+=t[a];if(o<i)return Number.POSITIVE_INFINITY;var s=o/i;n*=s;for(var l=0,c=0;c<r;c++){var u=e[c],d=t[c]*s,f=u>d?u-d:d-u;if(f>n)return Number.POSITIVE_INFINITY;l+=f}return l/o},e}();var Bc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bc(t,e),t.findStartPattern=function(e){for(var n=e.getSize(),r=e.getNextSet(0),o=0,i=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,l=r;l<n;l++)if(e.get(l)!==s)i[o]++;else{if(5===o){for(var c=t.MAX_AVG_VARIANCE,u=-1,d=t.CODE_START_A;d<=t.CODE_START_C;d++){var f=Lc.patternMatchVariance(i,t.CODE_PATTERNS[d],t.MAX_INDIVIDUAL_VARIANCE);f<c&&(c=f,u=d)}if(u>=0&&e.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,u]);a+=i[0]+i[1],(i=i.slice(2,i.length))[o-1]=0,i[o]=0,o--}else o++;i[o]=1,s=!s}throw new Ll},t.decodeCode=function(e,n,r){Lc.recordPattern(e,r,n);for(var o=t.MAX_AVG_VARIANCE,i=-1,a=0;a<t.CODE_PATTERNS.length;a++){var s=t.CODE_PATTERNS[a],l=this.patternMatchVariance(n,s,t.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,i=a)}if(i>=0)return i;throw new Ll},t.prototype.decodeRow=function(e,n,r){var o,i=r&&!0===r.get(El.ASSUME_GS1),a=t.findStartPattern(n),s=a[2],l=0,c=new Uint8Array(20);switch(c[l++]=s,s){case t.CODE_START_A:o=t.CODE_CODE_A;break;case t.CODE_START_B:o=t.CODE_CODE_B;break;case t.CODE_START_C:o=t.CODE_CODE_C;break;default:throw new Sl}for(var u=!1,d=!1,f="",h=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,y=0,v=s,w=0,b=!0,C=!1,E=!1;!u;){var _=d;switch(d=!1,m=y,y=t.decodeCode(n,g,p),c[l++]=y,y!==t.CODE_STOP&&(b=!0),y!==t.CODE_STOP&&(v+=++w*y),h=p,p+=g.reduce(function(e,t){return e+t},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new Sl}switch(o){case t.CODE_CODE_A:if(y<64)f+=E===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),E=!1;else if(y<96)f+=E===C?String.fromCharCode(y-64):String.fromCharCode(y+64),E=!1;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case t.CODE_SHIFT:d=!0,o=t.CODE_CODE_B;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_B:if(y<96)f+=E===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),E=!1;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case t.CODE_SHIFT:d=!0,o=t.CODE_CODE_A;break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_C:if(y<100)y<10&&(f+="0"),f+=y;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_STOP:u=!0}}_&&(o=o===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var S=p-h;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-h)/2),!1))throw new Ll;if((v-=w*m)%103!==m)throw new ll;var A=f.length;if(0===A)throw new Ll;A>0&&b&&(f=o===t.CODE_CODE_C?f.substring(0,A-2):f.substring(0,A-1));for(var I=(a[1]+a[0])/2,N=h+S/2,x=c.length,O=new Uint8Array(x),T=0;T<x;T++)O[T]=c[T];var R=[new Ec(I,e),new Ec(N,e)];return new Ql(f,O,0,R,ec.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Lc);var Uc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zc=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vc=function(e){function t(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.call(this)||this;return r.usingCheckDigit=t,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return Uc(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,l=this.counters;l.fill(0),this.decodeRowResult="";var c,u,d=t.findAsteriskPattern(n,l),f=n.getNextSet(d[1]),h=n.getSize();do{t.recordPattern(n,f,l);var p=t.toNarrowWidePattern(l);if(p<0)throw new Ll;c=t.patternToChar(p),this.decodeRowResult+=c,u=f;try{for(var g=(o=void 0,zc(l)),m=g.next();!m.done;m=g.next()){f+=m.value}}catch(I){o={error:I}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y,v=0;try{for(var w=zc(l),b=w.next();!b.done;b=w.next()){v+=b.value}}catch(N){a={error:N}}finally{try{b&&!b.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}if(f!==h&&2*(f-u-v)<v)throw new Ll;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,E=0,_=0;_<C;_++)E+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_));if(this.decodeRowResult.charAt(C)!==t.ALPHABET_STRING.charAt(E%43))throw new ll;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(0===this.decodeRowResult.length)throw new Ll;y=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var S=(d[1]+d[0])/2,A=u+v/2;return new Ql(y,null,0,[new Ec(S,e),new Ec(A,e)],ec.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,n){for(var r=e.getSize(),o=e.getNextSet(0),i=0,a=o,s=!1,l=n.length,c=o;c<r;c++)if(e.get(c)!==s)n[i]++;else{if(i===l-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=n[0]+n[1],n.copyWithin(0,2,2+i-1),n[i-1]=0,n[i]=0,i--}else i++;n[i]=1,s=!s}throw new Ll},t.toNarrowWidePattern=function(e){var t,n,r,o=e.length,i=0;do{var a=2147483647;try{for(var s=(t=void 0,zc(e)),l=s.next();!l.done;l=s.next()){(f=l.value)<a&&f>i&&(a=f)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}i=a,r=0;for(var c=0,u=0,d=0;d<o;d++){(f=e[d])>i&&(u|=1<<o-1-d,r++,c+=f)}if(3===r){for(d=0;d<o&&r>0;d++){var f;if((f=e[d])>i&&(r--,2*f>=c))return-1}return u}}while(r>3);return-1},t.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);if(e===t.ASTERISK_ENCODING)return"*";throw new Ll},t.decodeExtended=function(e){for(var t=e.length,n="",r=0;r<t;r++){var o=e.charAt(r);if("+"===o||"$"===o||"%"===o||"/"===o){var i=e.charAt(r+1),a="\0";switch(o){case"+":if(!(i>="A"&&i<="Z"))throw new Sl;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new Sl;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new Sl;a="\x7f"}break;case"/":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new Sl;a=":"}}n+=a,r++}else n+=o}return n},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Lc);const Hc=Vc;var Wc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gc=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xc=function(e){function t(){var t=e.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return Wc(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";do{t.recordPattern(n,d,h);var p=this.toPattern(h);if(p<0)throw new Ll;l=this.patternToChar(p),this.decodeRowResult+=l,c=d;try{for(var g=(o=void 0,Gc(h)),m=g.next();!m.done;m=g.next()){d+=m.value}}catch(_){o={error:_}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}d=n.getNextSet(d)}while("*"!==l);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var v=Gc(h),w=v.next();!w.done;w=v.next()){y+=w.value}}catch(S){a={error:S}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(d===f||!n.get(d))throw new Ll;if(this.decodeRowResult.length<2)throw new Ll;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var b=this.decodeExtended(this.decodeRowResult),C=(u[1]+u[0])/2,E=c+y/2;return new Ql(b,null,0,[new Ec(C,e),new Ec(E,e)],ec.CODE_93,(new Date).getTime())},t.prototype.findAsteriskPattern=function(e){var n=e.getSize(),r=e.getNextSet(0);this.counters.fill(0);for(var o=this.counters,i=r,a=!1,s=o.length,l=0,c=r;c<n;c++)if(e.get(c)!==a)o[l]++;else{if(l===s-1){if(this.toPattern(o)===t.ASTERISK_ENCODING)return new Int32Array([i,c]);i+=o[0]+o[1],o.copyWithin(0,2,2+l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,a=!a}throw new Ll},t.prototype.toPattern=function(e){var t,n,r=0;try{for(var o=Gc(e),i=o.next();!i.done;i=o.next()){r+=i.value}}catch(d){t={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(var a=0,s=e.length,l=0;l<s;l++){var c=Math.round(9*e[l]/r);if(c<1||c>4)return-1;if(0===(1&l))for(var u=0;u<c;u++)a=a<<1|1;else a<<=c}return a},t.prototype.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);throw new Ll},t.prototype.decodeExtended=function(e){for(var t=e.length,n="",r=0;r<t;r++){var o=e.charAt(r);if(o>="a"&&o<="d"){if(r>=t-1)throw new Sl;var i=e.charAt(r+1),a="\0";switch(o){case"d":if(!(i>="A"&&i<="Z"))throw new Sl;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"a":if(!(i>="A"&&i<="Z"))throw new Sl;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"b":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if(!(i>="X"&&i<="Z"))throw new Sl;a=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new Sl;a=":"}}n+=a,r++}else n+=o}return n},t.prototype.checkChecksums=function(e){var t=e.length;this.checkOneChecksum(e,t-2,20),this.checkOneChecksum(e,t-1,15)},t.prototype.checkOneChecksum=function(e,n,r){for(var o=1,i=0,a=n-1;a>=0;a--)i+=o*t.ALPHABET_STRING.indexOf(e.charAt(a)),++o>r&&(o=1);if(e.charAt(n)!==t.ALPHABET_STRING[i%47])throw new ll},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(Lc);const Yc=Xc;var Kc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qc=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return Kc(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a=this.decodeStart(n),s=this.decodeEnd(n),l=new Dl;t.decodeMiddle(n,a[1],s[0],l);var c=l.toString(),u=null;null!=r&&(u=r.get(El.ALLOWED_LENGTHS)),null==u&&(u=t.DEFAULT_ALLOWED_LENGTHS);var d=c.length,f=!1,h=0;try{for(var p=qc(u),g=p.next();!g.done;g=p.next()){var m=g.value;if(d===m){f=!0;break}m>h&&(h=m)}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}if(!f&&d>h&&(f=!0),!f)throw new Sl;var y=[new Ec(a[1],e),new Ec(s[0],e)];return new Ql(c,null,0,y,ec.ITF,(new Date).getTime())},t.decodeMiddle=function(e,n,r,o){var i=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(i.fill(0),a.fill(0),s.fill(0);n<r;){Lc.recordPattern(e,n,i);for(var l=0;l<5;l++){var c=2*l;a[l]=i[c],s[l]=i[c+1]}var u=t.decodeDigit(a);o.append(u.toString()),u=this.decodeDigit(s),o.append(u.toString()),i.forEach(function(e){n+=e})}},t.prototype.decodeStart=function(e){var n=t.skipWhiteSpace(e),r=t.findGuardPattern(e,n,t.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r},t.prototype.validateQuietZone=function(e,t){var n=10*this.narrowLineWidth;n=n<t?n:t;for(var r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new Ll},t.skipWhiteSpace=function(e){var t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new Ll;return n},t.prototype.decodeEnd=function(e){e.reverse();try{var n=t.skipWhiteSpace(e),r=void 0;try{r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[0])}catch(i){i instanceof Ll&&(r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);var o=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-o,r}finally{e.reverse()}},t.findGuardPattern=function(e,n,r){var o=r.length,i=new Int32Array(o),a=e.getSize(),s=!1,l=0,c=n;i.fill(0);for(var u=n;u<a;u++)if(e.get(u)!==s)i[l]++;else{if(l===o-1){if(Lc.patternMatchVariance(i,r,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[c,u];c+=i[0]+i[1],ul.arraycopy(i,2,i,0,l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,s=!s}throw new Ll},t.decodeDigit=function(e){for(var n=t.MAX_AVG_VARIANCE,r=-1,o=t.PATTERNS.length,i=0;i<o;i++){var a=t.PATTERNS[i],s=Lc.patternMatchVariance(e,a,t.MAX_INDIVIDUAL_VARIANCE);s<n?(n=s,r=i):s===n&&(r=-1)}if(r>=0)return r%10;throw new Ll},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Lc);const $c=Zc;var Qc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return Qc(t,e),t.findStartGuardPattern=function(e){for(var n,r=!1,o=0,i=Int32Array.from([0,0,0]);!r;){i=Int32Array.from([0,0,0]);var a=(n=t.findGuardPattern(e,o,!1,this.START_END_PATTERN,i))[0],s=a-((o=n[1])-a);s>=0&&(r=e.isRange(s,a,!1))}return n},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Sl;n+=o}n*=3;for(r=t-2;r>=0;r-=2){var o;if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Sl;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))},t.findGuardPattern=function(e,n,r,o,i){for(var a=e.getSize(),s=0,l=n=r?e.getNextUnset(n):e.getNextSet(n),c=o.length,u=r,d=n;d<a;d++)if(e.get(d)!==u)i[s]++;else{if(s===c-1){if(Lc.patternMatchVariance(i,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=i[0]+i[1];for(var f=i.slice(2,i.length),h=0;h<s-1;h++)i[h]=f[h];i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,u=!u}throw new Ll},t.decodeDigit=function(e,n,r,o){this.recordPattern(e,r,n);for(var i=this.MAX_AVG_VARIANCE,a=-1,s=o.length,l=0;l<s;l++){var c=o[l],u=Lc.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,a=l)}if(a>=0)return a;throw new Ll},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Lc);var eu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tu=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=e.parseExtensionString(a),l=[new Ec((r[0]+r[1])/2,t),new Ec(i,t)],c=new Ql(a,null,0,l,ec.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(t,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<5&&l<s;u++){var d=Jc.decodeDigit(t,a,l,Jc.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var f=(o=void 0,eu(a)),h=f.next();!h.done;h=f.next()){l+=h.value}}catch(g){o={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}d>=10&&(c|=1<<4-u),4!==u&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(5!==r.length)throw new Ll;var p=this.determineCheckDigit(c);if(e.extensionChecksum(r.toString())!==p)throw new Ll;return l},e.extensionChecksum=function(e){for(var t=e.length,n=0,r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new Ll},e.parseExtensionString=function(t){if(5!==t.length)return null;var n=e.parseExtension5String(t);return null==n?null:new Map([[nc.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},e}();const nu=tu;var ru=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ou=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=e.parseExtensionString(a),l=[new Ec((r[0]+r[1])/2,t),new Ec(i,t)],c=new Ql(a,null,0,l,ec.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},e.prototype.decodeMiddle=function(e,t,n){var r,o,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=e.getSize(),s=t[1],l=0,c=0;c<2&&s<a;c++){var u=Jc.decodeDigit(e,i,s,Jc.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+u%10);try{for(var d=(r=void 0,ru(i)),f=d.next();!f.done;f=d.next()){s+=f.value}}catch(h){r={error:h}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}u>=10&&(l|=1<<1-c),1!==c&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(2!==n.length)throw new Ll;if(parseInt(n.toString())%4!==l)throw new Ll;return s},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[nc.ISSUE_NUMBER,parseInt(e)]])},e}();const iu=ou;const au=function(){function e(){}return e.decodeRow=function(e,t,n){var r=Jc.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new nu).decodeRow(e,t,r)}catch(o){return(new iu).decodeRow(e,t,r)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}();var su=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const lu=function(e){function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(e){return Int32Array.from(e)});for(var r=10;r<20;r++){for(var o=t.L_PATTERNS[r-10],i=new Int32Array(o.length),a=0;a<o.length;a++)i[a]=o[o.length-a-1];t.L_AND_G_PATTERNS[r]=i}return n}return su(t,e),t.prototype.decodeRow=function(e,n,r){var o=t.findStartGuardPattern(n),i=null==r?null:r.get(El.NEED_RESULT_POINT_CALLBACK);if(null!=i){var a=new Ec((o[0]+o[1])/2,e);i.foundPossibleResultPoint(a)}var s=this.decodeMiddle(n,o,this.decodeRowStringBuffer),l=s.rowOffset,c=s.resultString;if(null!=i){var u=new Ec(l,e);i.foundPossibleResultPoint(u)}var d=t.decodeEnd(n,l);if(null!=i){var f=new Ec((d[0]+d[1])/2,e);i.foundPossibleResultPoint(f)}var h=d[1],p=h+(h-d[0]);if(p>=n.getSize()||!n.isRange(h,p,!1))throw new Ll;var g=c.toString();if(g.length<8)throw new Sl;if(!t.checkChecksum(g))throw new ll;var m=(o[1]+o[0])/2,y=(d[1]+d[0])/2,v=this.getBarcodeFormat(),w=[new Ec(m,e),new Ec(y,e)],b=new Ql(g,null,0,w,v,(new Date).getTime()),C=0;try{var E=au.decodeRow(e,n,d[1]);b.putMetadata(nc.UPC_EAN_EXTENSION,E.getText()),b.putAllMetadata(E.getResultMetadata()),b.addResultPoints(E.getResultPoints()),C=E.getText().length}catch(I){}var _=null==r?null:r.get(El.ALLOWED_EAN_EXTENSIONS);if(null!=_){var S=!1;for(var A in _)if(C.toString()===A){S=!0;break}if(!S)throw new Ll}return v===ec.EAN_13||ec.UPC_A,b},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Sl;n+=o}n*=3;for(r=t-2;r>=0;r-=2){var o;if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Sl;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(Jc);var cu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},du=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return cu(t,e),t.prototype.decodeMiddle=function(e,n,r){var o,i,a,s,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=lu.decodeDigit(e,l,u,lu.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var p=(o=void 0,uu(l)),g=p.next();!g.done;g=p.next()){u+=g.value}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}h>=10&&(d|=1<<5-f)}r=t.determineFirstDigit(r,d),u=lu.findGuardPattern(e,u,!0,lu.MIDDLE_PATTERN,new Int32Array(lu.MIDDLE_PATTERN.length).fill(0))[1];for(f=0;f<6&&u<c;f++){h=lu.decodeDigit(e,l,u,lu.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var m=(a=void 0,uu(l)),y=m.next();!y.done;y=m.next()){u+=y.value}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}return{rowOffset:u,resultString:r}},t.prototype.getBarcodeFormat=function(){return ec.EAN_13},t.determineFirstDigit=function(e,t){for(var n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new Ll},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(lu);const fu=du;var hu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return hu(t,e),t.prototype.decodeMiddle=function(e,t,n){var r,o,i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=e.getSize(),c=t[1],u=0;u<4&&c<l;u++){var d=lu.decodeDigit(e,s,c,lu.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var f=(r=void 0,pu(s)),h=f.next();!h.done;h=f.next()){c+=h.value}}catch(m){r={error:m}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}c=lu.findGuardPattern(e,c,!0,lu.MIDDLE_PATTERN,new Int32Array(lu.MIDDLE_PATTERN.length).fill(0))[1];for(u=0;u<4&&c<l;u++){d=lu.decodeDigit(e,s,c,lu.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var p=(i=void 0,pu(s)),g=p.next();!g.done;g=p.next()){c+=g.value}}catch(y){i={error:y}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}return{rowOffset:c,resultString:n}},t.prototype.getBarcodeFormat=function(){return ec.EAN_8},t}(lu);const mu=gu;var yu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ean13Reader=new fu,t}return yu(t,e),t.prototype.getBarcodeFormat=function(){return ec.UPC_A},t.prototype.decode=function(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))},t.prototype.decodeMiddle=function(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)},t.prototype.maybeReturnResult=function(e){var t=e.getText();if("0"===t.charAt(0)){var n=new Ql(t.substring(1),null,null,e.getResultPoints(),ec.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new Ll},t.prototype.reset=function(){this.ean13Reader.reset()},t}(lu);var wu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cu=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return wu(t,e),t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters.map(function(e){return e});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=n[1],c=0,u=0;u<6&&l<s;u++){var d=t.decodeDigit(e,a,l,t.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var f=(o=void 0,bu(a)),h=f.next();!h.done;h=f.next()){l+=h.value}}catch(p){o={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}d>=10&&(c|=1<<5-u)}return t.determineNumSysAndCheckDigit(new Dl(r),c),l},t.prototype.decodeEnd=function(e,n){return t.findGuardPatternWithoutCounters(e,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return lu.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,t){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return e.insert(0,"0"+n),void e.append("0"+r);throw Ll.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return ec.UPC_E},t.convertUPCEtoUPCA=function(e){var t=e.slice(1,7).split("").map(function(e){return e.charCodeAt(0)}),n=new Dl;n.append(e.charAt(0));var r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(lu);const Eu=Cu;var _u=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Au=function(e){function t(t){var n=e.call(this)||this,r=null==t?null:t.get(El.POSSIBLE_FORMATS),o=[];return null!=r&&(r.indexOf(ec.EAN_13)>-1&&o.push(new fu),r.indexOf(ec.UPC_A)>-1&&o.push(new vu),r.indexOf(ec.EAN_8)>-1&&o.push(new mu),r.indexOf(ec.UPC_E)>-1&&o.push(new Eu)),0===o.length&&(o.push(new fu),o.push(new vu),o.push(new mu),o.push(new Eu)),n.readers=o,n}return _u(t,e),t.prototype.decodeRow=function(e,t,n){var r,o;try{for(var i=Su(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{var l=s.decodeRow(e,t,n),c=l.getBarcodeFormat()===ec.EAN_13&&"0"===l.getText().charAt(0),u=null==n?null:n.get(El.POSSIBLE_FORMATS),d=null==u||u.includes(ec.UPC_A);if(c&&d){var f=l.getRawBytes(),h=new Ql(l.getText().substring(1),f,f?f.length:null,l.getResultPoints(),ec.UPC_A);return h.putAllMetadata(l.getResultMetadata()),h}return l}catch(p){}}}catch(g){r={error:g}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new Ll},t.prototype.reset=function(){var e,t;try{for(var n=Su(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t}(Lc);const Iu=Au;var Nu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return Nu(t,e),t.prototype.decodeRow=function(e,t,n){var r=this.getValidRowData(t);if(!r)throw new Ll;var o=this.codaBarDecodeRow(r.row);if(!o)throw new Ll;return new Ql(o,null,0,[new Ec(r.left,e),new Ec(r.right,e)],ec.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(e){var t=e.toArray(),n=t.indexOf(!0);if(-1===n)return null;var r=t.lastIndexOf(!0);if(r<=n)return null;for(var o=[],i=(t=t.slice(n,r+1))[0],a=1,s=1;s<t.length;s++)t[s]===i?a++:(i=t[s],o.push(a),a=1);return o.push(a),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:n,right:r}},t.prototype.codaBarDecodeRow=function(e){for(var t=[],n=Math.ceil(e.reduce(function(e,t){return(e+t)/2},0));e.length>0;){var r=e.splice(0,8).splice(0,7).map(function(e){return e<n?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[r])return null;t.push(this.CODA_BAR_CHAR_SET[r])}var o=t.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(e){return/^[A-D].{1,}[A-D]$/.test(e)},t}(Lc);var Ou=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ru=function(e){function t(){var t=e.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return Ou(t,e),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,n){for(var r=0;r<n.length;r++)if(Lc.patternMatchVariance(e,n[r],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return r;throw new Ll},t.count=function(e){return bc.sum(new Int32Array(e))},t.increment=function(e,t){for(var n=0,r=t[0],o=1;o<e.length;o++)t[o]>r&&(r=t[o],n=o);e[n]++},t.decrement=function(e,t){for(var n=0,r=t[0],o=1;o<e.length;o++)t[o]<r&&(r=t[o],n=o);e[n]--},t.isFinderPattern=function(e){var n,r,o=e[0]+e[1],i=o/(o+e[2]+e[3]);if(i>=t.MIN_FINDER_PATTERN_RATIO&&i<=t.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var l=Tu(e),c=l.next();!c.done;c=l.next()){var u=c.value;u>s&&(s=u),u<a&&(a=u)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s<10*a}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Lc);const Pu=Ru;const ku=function(){function e(e,t){this.value=e,this.checksumPortion=t}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}();const Du=function(){function e(e,t,n,r,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ec(n,o)),this.resultPoints.push(new Ec(r,o))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e}();var ju=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mu=function(){function e(){}return e.getRSSvalue=function(t,n,r){var o,i,a=0;try{for(var s=ju(t),l=s.next();!l.done;l=s.next()){a+=l.value}}catch(y){o={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}for(var c=0,u=0,d=t.length,f=0;f<d-1;f++){var h=void 0;for(h=1,u|=1<<f;h<t[f];h++,u&=~(1<<f)){var p=e.combins(a-h-1,d-f-2);if(r&&0===u&&a-h-(d-f-1)>=d-f-1&&(p-=e.combins(a-h-(d-f),d-f-2)),d-f-1>1){for(var g=0,m=a-h-(d-f-2);m>n;m--)g+=e.combins(a-h-m-1,d-f-3);p-=g*(d-1-f)}else a-h>n&&p--;c+=p}a-=h}return c},e.combins=function(e,t){var n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);for(var o=1,i=1,a=e;a>n;a--)o*=a,i<=r&&(o/=i,i++);for(;i<=r;)o/=i,i++;return o},e}();const Lu=Mu;const Bu=function(){function e(){}return e.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var n=new bl(12*t),r=0,o=e[0].getRightChar().getValue(),i=11;i>=0;--i)0!==(o&1<<i)&&n.set(r),r++;for(i=1;i<e.length;++i){for(var a=e[i],s=a.getLeftChar().getValue(),l=11;l>=0;--l)0!==(s&1<<l)&&n.set(r),r++;if(null!==a.getRightChar()){var c=a.getRightChar().getValue();for(l=11;l>=0;--l)0!==(c&1<<l)&&n.set(r),r++}}return n},e}();const Fu=function(){function e(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}();const Uu=function(){function e(e){this.newPosition=e}return e.prototype.getNewPosition=function(){return this.newPosition},e}();var zu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Vu=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return zu(t,e),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(Uu);var Hu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Wu=function(e){function t(t,n,r){var o=e.call(this,t)||this;return r?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return Hu(t,e),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(Uu);var Gu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Xu=function(e){function t(t,n,r){var o=e.call(this,t)||this;if(n<0||n>10||r<0||r>10)throw new Sl;return o.firstDigit=n,o.secondDigit=r,o}return Gu(t,e),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(Uu);var Yu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ku=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,r,o,i,a,s,l,c;if(!t)return null;if(t.length<2)throw new Ll;var u=t.substring(0,2);try{for(var d=Yu(e.TWO_DIGIT_DATA_LENGTH),f=d.next();!f.done;f=d.next()){if((C=f.value)[0]===u)return C[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,C[2],t):e.processFixedAI(2,C[1],t)}}catch(E){n={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(t.length<3)throw new Ll;var h=t.substring(0,3);try{for(var p=Yu(e.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){if((C=g.value)[0]===h)return C[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,C[2],t):e.processFixedAI(3,C[1],t)}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}try{for(var m=Yu(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){if((C=y.value)[0]===h)return C[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,C[2],t):e.processFixedAI(4,C[1],t)}}catch(S){a={error:S}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(t.length<4)throw new Ll;var v=t.substring(0,4);try{for(var w=Yu(e.FOUR_DIGIT_DATA_LENGTH),b=w.next();!b.done;b=w.next()){var C;if((C=b.value)[0]===v)return C[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,C[2],t):e.processFixedAI(4,C[1],t)}}catch(A){l={error:A}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}throw new Ll},e.processFixedAI=function(t,n,r){if(r.length<t)throw new Ll;var o=r.substring(0,t);if(r.length<t+n)throw new Ll;var i=r.substring(t,t+n),a=r.substring(t+n),s="("+o+")"+i,l=e.parseFieldsInGeneralPurpose(a);return null==l?s:s+l},e.processVariableAI=function(t,n,r){var o,i=r.substring(0,t);o=r.length<t+n?r.length:t+n;var a=r.substring(t,o),s=r.substring(o),l="("+i+")"+a,c=e.parseFieldsInGeneralPurpose(s);return null==c?l:l+c},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}();const qu=Ku;const Zu=function(){function e(e){this.buffer=new Dl,this.information=e}return e.prototype.decodeAllCodes=function(e,t){for(var n=t,r=null;;){var o=this.decodeGeneralPurposeField(n,r),i=qu.parseFieldsInGeneralPurpose(o.getNewString());if(null!=i&&e.append(i),r=o.isRemaining()?""+o.getRemainingValue():null,n===o.getNewPosition())break;n=o.getNewPosition()}return e.toString()},e.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},e.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new Xu(this.information.getSize(),0===t?Xu.FNC1:t-1,Xu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7);return new Xu(e+7,(n-8)/11,(n-8)%11)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(e,t,n){for(var r=0,o=0;o<n;++o)e.get(t+o)&&(r|=1<<n-o-1);return r},e.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new Wu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Wu(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new Wu(this.current.getPosition(),this.buffer.toString()):new Wu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Fu(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){t=new Wu(this.current.getPosition(),this.buffer.toString());return new Fu(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fu(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Wu(this.current.getPosition(),this.buffer.toString());return new Fu(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fu(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Wu(this.current.getPosition(),this.buffer.toString());return new Fu(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fu(!1)},e.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253},e.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Vu(e+5,Vu.FNC1);if(t>=5&&t<15)return new Vu(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Vu(e+7,""+(r+1));if(r>=90&&r<116)return new Vu(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new Sl}return new Vu(e+8,n)},e.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Vu(e+5,Vu.FNC1);if(t>=5&&t<15)return new Vu(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Vu(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new gc("Decoding invalid alphanumeric value: "+r)}return new Vu(e+6,n)},e.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},e}();const $u=function(){function e(e){this.information=e,this.generalDecoder=new Zu(e)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}();var Qu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ju=function(e){function t(t){return e.call(this,t)||this}return Qu(t,e),t.prototype.encodeCompressedGtin=function(e,t){e.append("(01)");var n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)},t.prototype.encodeCompressedGtinWithoutAI=function(e,n,r){for(var o=0;o<4;++o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}t.appendCheckDigit(e,r)},t.appendCheckDigit=function(e,t){for(var n=0,r=0;r<13;r++){var o=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*o:o}10===(n=10-n%10)&&(n=0),e.append(n)},t.GTIN_SIZE=40,t}($u);var ed=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const td=function(e){function t(t){return e.call(this,t)||this}return ed(t,e),t.prototype.parseInformation=function(){var e=new Dl;e.append("(01)");var n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Ju);var nd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const rd=function(e){function t(t){return e.call(this,t)||this}return nd(t,e),t.prototype.parseInformation=function(){var e=new Dl;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}($u);var od=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const id=function(e){function t(t){return e.call(this,t)||this}return od(t,e),t.prototype.encodeCompressedWeight=function(e,t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);for(var o=this.checkWeight(r),i=1e5,a=0;a<5;++a)o/i===0&&e.append("0"),i/=10;e.append(o)},t}(Ju);var ad=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const sd=function(e){function t(t){return e.call(this,t)||this}return ad(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+id.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ll;var e=new Dl;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+id.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(id);var ld=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const cd=function(e){function t(t){return e.call(this,t)||this}return ld(t,e),t.prototype.addWeightCode=function(e,t){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(sd);var ud=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const dd=function(e){function t(t){return e.call(this,t)||this}return ud(t,e),t.prototype.addWeightCode=function(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(sd);var fd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const hd=function(e){function t(t){return e.call(this,t)||this}return fd(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ju.GTIN_SIZE)throw new Ll;var e=new Dl;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ju.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ju.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Ju);var pd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const gd=function(e){function t(t){return e.call(this,t)||this}return pd(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ju.GTIN_SIZE)throw new Ll;var e=new Dl;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ju.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ju.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);r/100===0&&e.append("0"),r/10===0&&e.append("0"),e.append(r);var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ju.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Ju);var md=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const yd=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dateCode=r,o.firstAIdigits=n,o}return md(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ll;var e=new Dl;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(38400!==r){e.append("("),e.append(this.dateCode),e.append(")");var o=r%32,i=(r/=32)%12+1,a=r/=12;a/10===0&&e.append("0"),e.append(a),i/10===0&&e.append("0"),e.append(i),o/10===0&&e.append("0"),e.append(o)}},t.prototype.addWeightCode=function(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(id);const vd=function(){function e(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return null==this.rightchar},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e&&(e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern))},e.equalsOrNull=function(t,n){return null===t?null===n:e.equals(t,n)},e.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},e}();const wd=function(){function e(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e&&(this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed)},e.prototype.checkEqualitity=function(e,t){var n;if(e&&t)return e.forEach(function(e,r){t.forEach(function(t){e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n},e}();var bd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ed=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return bd(t,e),t.prototype.decodeRow=function(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,n))}catch(Sv){}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,t){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof Ll){if(!this.pairs.length)throw new Ll;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){var o=this.checkRowsBoolean(!1);if(null!=o)return o;if(null!=(o=this.checkRowsBoolean(!0)))return o}throw new Ll},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(Sv){console.log(Sv)}return e&&(this.rows=this.rows.reverse()),t},t.prototype.checkRows=function(e,n){for(var r,o,i=n;i<this.rows.length;i++){var a=this.rows[i];this.pairs.length=0;try{for(var s=(r=void 0,Cd(e)),l=s.next();!l.done;l=s.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(a.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(e);u.push(a);try{return this.checkRows(u,i+1)}catch(Sv){console.log(Sv)}}}throw new Ll},t.isValidSequence=function(e){var n,r;try{for(var o=Cd(t.FINDER_PATTERN_SEQUENCES),i=o.next();!i.done;i=o.next()){var a=i.value;if(!(e.length>a.length)){for(var s=!0,l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!==a[l]){s=!1;break}if(s)return!0}}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(e,n){for(var r=0,o=!1,i=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>e){i=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),r++}i||o||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new wd(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,t){var n,r,o,i,a,s;try{for(var l=Cd(t),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getPairs().length!==e.length){try{for(var d=(o=void 0,Cd(u.getPairs())),f=d.next();!f.done;f=d.next()){var h=f.value,p=!1;try{for(var g=(a=void 0,Cd(e)),m=g.next();!m.done;m=g.next()){var y=m.value;if(vd.equals(h,y)){p=!0;break}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}p||!1}}catch(w){o={error:w}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},t.isPartialRow=function(e,t){var n,r,o,i,a,s;try{for(var l=Cd(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0;try{for(var f=(o=void 0,Cd(e)),h=f.next();!h.done;h=f.next()){var p=h.value,g=!1;try{for(var m=(a=void 0,Cd(u.getPairs())),y=m.next();!y.done;y=m.next()){var v=y.value;if(p.equals(v)){g=!0;break}}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!g){d=!1;break}}}catch(b){o={error:b}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}if(d)return!0}}catch(C){n={error:C}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var t=function(e){try{if(e.get(1))return new td(e);if(!e.get(2))return new rd(e);switch(Zu.extractNumericValueFromBitArray(e,1,4)){case 4:return new cd(e);case 5:return new dd(e)}switch(Zu.extractNumericValueFromBitArray(e,1,5)){case 12:return new hd(e);case 13:return new gd(e)}switch(Zu.extractNumericValueFromBitArray(e,1,7)){case 56:return new yd(e,"310","11");case 57:return new yd(e,"320","11");case 58:return new yd(e,"310","13");case 59:return new yd(e,"320","13");case 60:return new yd(e,"310","15");case 61:return new yd(e,"320","15");case 62:return new yd(e,"310","17");case 63:return new yd(e,"320","17")}}catch(Sv){throw console.log(Sv),new gc("unknown decoder: "+e)}}(Bu.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],r[0],r[1]];return new Ql(t,null,null,o,ec.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null===n)return!1;for(var r=n.getChecksumPortion(),o=2,i=1;i<this.pairs.size();++i){var a=this.pairs.get(i);r+=a.getLeftChar().getChecksumPortion(),o++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),o++)}return 211*(o-4)+(r%=211)===t.getValue()},t.getNextSecondBar=function(e,t){var n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n},t.prototype.retrieveNextPair=function(e,n,r){var o,i=n.length%2===0;this.startFromEven&&(i=!i);var a=!0,s=-1;do{this.findNextPair(e,n,s),null===(o=this.parseFoundFinderPattern(e,r,i))?s=t.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);var l,c=this.decodeDataCharacter(e,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ll;try{l=this.decodeDataCharacter(e,o,i,!1)}catch(Sv){l=null,console.log(Sv)}return new vd(c,l,o,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var i,a=e.getSize();if(r>=0)i=r;else if(this.isEmptyPair(n))i=0;else{i=n[n.length-1].getFinderPattern().getStartEnd()[1]}var s=n.length%2!==0;this.startFromEven&&(s=!s);for(var l=!1;i<a&&(l=!e.get(i));)i++;for(var c=0,u=i,d=i;d<a;d++)if(e.get(d)!==l)o[c]++;else{if(3===c){if(s&&t.reverseCounters(o),t.isFinderPattern(o))return this.startEnd[0]=u,void(this.startEnd[1]=d);s&&t.reverseCounters(o),u+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,c--}else c++;o[c]=1,l=!l}throw new Ll},t.reverseCounters=function(e){for(var t=e.length,n=0;n<t/2;++n){var r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}},t.prototype.parseFoundFinderPattern=function(e,n,r){var o,i,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!e.get(s);)s--;s++,o=this.startEnd[0]-s,i=s,a=this.startEnd[1]}else i=this.startEnd[0],o=(a=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();ul.arraycopy(c,0,c,1,c.length-1),c[0]=o;try{l=this.parseFinderValue(c,t.FINDER_PATTERNS)}catch(Sv){return null}return new Du(l,[i,a],i,a,n)},t.prototype.decodeDataCharacter=function(e,n,r,o){for(var i=this.getDataCharacterCounters(),a=0;a<i.length;a++)i[a]=0;if(o)t.recordPatternInReverse(e,n.getStartEnd()[0],i);else{t.recordPattern(e,n.getStartEnd()[1],i);for(var s=0,l=i.length-1;s<l;s++,l--){var c=i[s];i[s]=i[l],i[l]=c}}var u=bc.sum(new Int32Array(i))/17,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-d)/d>.3)throw new Ll;var f=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<i.length;s++){var m=1*i[s]/u,y=m+.5;if(y<1){if(m<.3)throw new Ll;y=1}else if(y>8){if(m>8.7)throw new Ll;y=8}var v=s/2;0===(1&s)?(f[v]=y,p[v]=m-y):(h[v]=y,g[v]=m-y)}this.adjustOddEvenCounts(17);var w=4*n.getValue()+(r?0:2)+(o?0:1)-1,b=0,C=0;for(s=f.length-1;s>=0;s--){if(t.isNotA1left(n,r,o)){var E=t.WEIGHTS[w][2*s];C+=f[s]*E}b+=f[s]}var _=0;for(s=h.length-1;s>=0;s--)if(t.isNotA1left(n,r,o)){E=t.WEIGHTS[w][2*s+1];_+=h[s]*E}var S=C+_;if(0!==(1&b)||b>13||b<4)throw new Ll;var A=(13-b)/2,I=t.SYMBOL_WIDEST[A],N=9-I,x=Lu.getRSSvalue(f,I,!0),O=Lu.getRSSvalue(h,N,!1),T=t.EVEN_TOTAL_SUBSET[A],R=t.GSUM[A];return new ku(x*T+O+R,S)},t.isNotA1left=function(e,t,n){return!(0===e.getValue()&&t&&n)},t.prototype.adjustOddEvenCounts=function(e){var n=bc.sum(new Int32Array(this.getOddCounts())),r=bc.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1;n>13?i=!0:n<4&&(o=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var l=n+r-e,c=1===(1&n),u=0===(1&r);if(1===l)if(c){if(u)throw new Ll;i=!0}else{if(!u)throw new Ll;s=!0}else if(-1===l)if(c){if(u)throw new Ll;o=!0}else{if(!u)throw new Ll;a=!0}else{if(0!==l)throw new Ll;if(c){if(!u)throw new Ll;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(u)throw new Ll}if(o){if(i)throw new Ll;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Ll;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Pu);const _d=Ed;var Sd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ad=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.count=0,o.finderPattern=r,o}return Sd(t,e),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(ku);var Id=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return Id(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,l=this.decodePair(n,!1,e,r);t.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,e,r);t.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var u=Nd(this.possibleLeftPairs),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.getCount()>1)try{for(var h=(a=void 0,Nd(this.possibleRightPairs)),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getCount()>1&&t.checkChecksum(f,g))return t.constructResult(f,g)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}throw new Ll},t.addOrTally=function(e,t){var n,r;if(null!=t){var o=!1;try{for(var i=Nd(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.getValue()===t.getValue()){s.incrementCount(),o=!0;break}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}o||e.push(t)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,t){for(var n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),o=new Dl,i=13-r.length;i>0;i--)o.append("0");o.append(r);var a=0;for(i=0;i<13;i++){var s=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);a+=0===(1&i)?3*s:s}10===(a=10-a%10)&&(a=0),o.append(a.toString());var l=e.getFinderPattern().getResultPoints(),c=t.getFinderPattern().getResultPoints();return new Ql(o.toString(),null,0,[l[0],l[1],c[0],c[1]],ec.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,t){var n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},t.prototype.decodePair=function(e,t,n,r){try{var o=this.findFinderPattern(e,t),i=this.parseFoundFinderPattern(e,n,t,o),a=null==r?null:r.get(El.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(o[0]+o[1])/2;t&&(s=e.getSize()-1-s),a.foundPossibleResultPoint(new Ec(s,n))}var l=this.decodeDataCharacter(e,i,!0),c=this.decodeDataCharacter(e,i,!1);return new Ad(1597*l.getValue()+c.getValue(),l.getChecksumPortion()+4*c.getChecksumPortion(),i)}catch(u){return null}},t.prototype.decodeDataCharacter=function(e,n,r){for(var o=this.getDataCharacterCounters(),i=0;i<o.length;i++)o[i]=0;if(r)Lc.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Lc.recordPattern(e,n.getStartEnd()[1]+1,o);for(var a=0,s=o.length-1;a<s;a++,s--){var l=o[a];o[a]=o[s],o[s]=l}}var c=r?16:15,u=bc.sum(new Int32Array(o))/c,d=this.getOddCounts(),f=this.getEvenCounts(),h=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<o.length;a++){var g=o[a]/u,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(a/2);0===(1&a)?(d[y]=m,h[y]=g-m):(f[y]=m,p[y]=g-m)}this.adjustOddEvenCounts(r,c);var v=0,w=0;for(a=d.length-1;a>=0;a--)w*=9,w+=d[a],v+=d[a];var b=0,C=0;for(a=f.length-1;a>=0;a--)b*=9,b+=f[a],C+=f[a];var E=w+3*b;if(r){if(0!==(1&v)||v>12||v<4)throw new Ll;var _=(12-v)/2,S=9-(O=t.OUTSIDE_ODD_WIDEST[_]),A=Lu.getRSSvalue(d,O,!1),I=Lu.getRSSvalue(f,S,!0),N=t.OUTSIDE_EVEN_TOTAL_SUBSET[_],x=t.OUTSIDE_GSUM[_];return new ku(A*N+I+x,E)}if(0!==(1&C)||C>10||C<4)throw new Ll;_=(10-C)/2,S=9-(O=t.INSIDE_ODD_WIDEST[_]),A=Lu.getRSSvalue(d,O,!0),I=Lu.getRSSvalue(f,S,!1);var O,T=t.INSIDE_ODD_TOTAL_SUBSET[_];x=t.INSIDE_GSUM[_];return new ku(I*T+A+x,E)},t.prototype.findFinderPattern=function(e,t){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=e.getSize(),o=!1,i=0;i<r&&t!==(o=!e.get(i));)i++;for(var a=0,s=i,l=i;l<r;l++)if(e.get(l)!==o)n[a]++;else{if(3===a){if(Pu.isFinderPattern(n))return[s,l];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,o=!o}throw new Ll},t.prototype.parseFoundFinderPattern=function(e,n,r,o){for(var i=e.get(o[0]),a=o[0]-1;a>=0&&i!==e.get(a);)a--;a++;var s=o[0]-a,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);ul.arraycopy(l,0,c,1,l.length-1),c[0]=s;var u=this.parseFinderValue(c,t.FINDER_PATTERNS),d=a,f=o[1];return r&&(d=e.getSize()-1-d,f=e.getSize()-1-f),new Du(u,[a,o[1]],d,f,n)},t.prototype.adjustOddEvenCounts=function(e,t){var n=bc.sum(new Int32Array(this.getOddCounts())),r=bc.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1,a=!1,s=!1;e?(n>12?i=!0:n<4&&(o=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?i=!0:n<5&&(o=!0),r>10?s=!0:r<4&&(a=!0));var l=n+r-t,c=(1&n)===(e?1:0),u=1===(1&r);if(1===l)if(c){if(u)throw new Ll;i=!0}else{if(!u)throw new Ll;s=!0}else if(-1===l)if(c){if(u)throw new Ll;o=!0}else{if(!u)throw new Ll;a=!0}else{if(0!==l)throw new Ll;if(c){if(!u)throw new Ll;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(u)throw new Ll}if(o){if(i)throw new Ll;Pu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&Pu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Ll;Pu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&Pu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Pu);const Od=xd;var Td=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Rd=function(e){function t(t){var n=e.call(this)||this;n.readers=[];var r=t?t.get(El.POSSIBLE_FORMATS):null,o=t&&void 0!==t.get(El.ASSUME_CODE_39_CHECK_DIGIT),i=t&&void 0!==t.get(El.ENABLE_CODE_39_EXTENDED_MODE);return r&&((r.includes(ec.EAN_13)||r.includes(ec.UPC_A)||r.includes(ec.EAN_8)||r.includes(ec.UPC_E))&&n.readers.push(new Iu(t)),r.includes(ec.CODE_39)&&n.readers.push(new Hc(o,i)),r.includes(ec.CODE_93)&&n.readers.push(new Yc),r.includes(ec.CODE_128)&&n.readers.push(new Fc),r.includes(ec.ITF)&&n.readers.push(new $c),r.includes(ec.CODABAR)&&n.readers.push(new xu),r.includes(ec.RSS_14)&&n.readers.push(new Od),r.includes(ec.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new _d))),0===n.readers.length&&(n.readers.push(new Iu(t)),n.readers.push(new Hc),n.readers.push(new Yc),n.readers.push(new Iu(t)),n.readers.push(new Fc),n.readers.push(new $c),n.readers.push(new Od)),n}return Td(t,e),t.prototype.decodeRow=function(e,t,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch(o){}throw new Ll},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(Lc);var Pd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kd=(function(e){function t(t,n){return void 0===t&&(t=500),e.call(this,new Rd(n),t,n)||this}Pd(t,e)}($l),function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),Dd=function(){function e(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),jd=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),Md=function(){function e(e,t,n,r,o,i){var a,s;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=o,this.ecBlocks=i;var l=0,c=i.getECCodewords(),u=i.getECBlocks();try{for(var d=kd(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var r,o;if(0!==(1&t)||0!==(1&n))throw new Sl;try{for(var i=kd(e.VERSIONS),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===n)return s}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new Sl},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new Dd(5,new jd(1,3))),new e(2,12,12,10,10,new Dd(7,new jd(1,5))),new e(3,14,14,12,12,new Dd(10,new jd(1,8))),new e(4,16,16,14,14,new Dd(12,new jd(1,12))),new e(5,18,18,16,16,new Dd(14,new jd(1,18))),new e(6,20,20,18,18,new Dd(18,new jd(1,22))),new e(7,22,22,20,20,new Dd(20,new jd(1,30))),new e(8,24,24,22,22,new Dd(24,new jd(1,36))),new e(9,26,26,24,24,new Dd(28,new jd(1,44))),new e(10,32,32,14,14,new Dd(36,new jd(1,62))),new e(11,36,36,16,16,new Dd(42,new jd(1,86))),new e(12,40,40,18,18,new Dd(48,new jd(1,114))),new e(13,44,44,20,20,new Dd(56,new jd(1,144))),new e(14,48,48,22,22,new Dd(68,new jd(1,174))),new e(15,52,52,24,24,new Dd(42,new jd(2,102))),new e(16,64,64,14,14,new Dd(56,new jd(2,140))),new e(17,72,72,16,16,new Dd(36,new jd(4,92))),new e(18,80,80,18,18,new Dd(48,new jd(4,114))),new e(19,88,88,20,20,new Dd(56,new jd(4,144))),new e(20,96,96,22,22,new Dd(68,new jd(4,174))),new e(21,104,104,24,24,new Dd(56,new jd(6,136))),new e(22,120,120,18,18,new Dd(68,new jd(6,175))),new e(23,132,132,20,20,new Dd(62,new jd(8,163))),new e(24,144,144,22,22,new Dd(62,new jd(8,156),new jd(2,155))),new e(25,8,18,6,16,new Dd(7,new jd(1,5))),new e(26,8,32,6,14,new Dd(11,new jd(1,10))),new e(27,12,26,10,24,new Dd(14,new jd(1,16))),new e(28,12,36,10,16,new Dd(18,new jd(1,22))),new e(29,16,36,14,16,new Dd(24,new jd(1,32))),new e(30,16,48,14,22,new Dd(28,new jd(1,49)))]},e.VERSIONS=e.buildVersions(),e}();const Ld=Md;const Bd=function(){function e(t){var n=t.getHeight();if(n<8||n>144||0!==(1&n))throw new Sl;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new jl(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return Ld.getVersionForDimensions(t,n)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,r=0,o=this.mappingBitMatrix.getHeight(),i=this.mappingBitMatrix.getWidth(),a=!1,s=!1,l=!1,c=!1;do{if(n!==o||0!==r||a)if(n!==o-2||0!==r||0===(3&i)||s)if(n!==o+4||2!==r||0!==(7&i)||l)if(n!==o-2||0!==r||4!==(7&i)||c){do{n<o&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,o,i)),n-=2,r+=2}while(n>=0&&r<i);n+=1,r+=3;do{n>=0&&r<i&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,o,i)),n+=2,r-=2}while(n<o&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(o,i),n-=2,r+=2,c=!0;else e[t++]=255&this.readCorner3(o,i),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner2(o,i),n-=2,r+=2,s=!0;else e[t++]=255&this.readCorner1(o,i),n-=2,r+=2,a=!0}while(n<o||r<i);if(t!==this.version.getTotalCodewords())throw new Sl;return e},e.prototype.readModule=function(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,n,r){var o=0;return this.readModule(e-2,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t,n,r)&&(o|=1),o<<=1,this.readModule(e,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e,t,n,r)&&(o|=1),o},e.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new il("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),i=t/r|0,a=n/o|0,s=new jl(a*o,i*r),l=0;l<i;++l)for(var c=l*r,u=0;u<a;++u)for(var d=u*o,f=0;f<r;++f)for(var h=l*(r+2)+1+f,p=c+f,g=0;g<o;++g){var m=u*(o+2)+1+g;if(e.get(m,h)){var y=d+g;s.set(y,p)}}return s},e}();var Fd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ud=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n){var r,o,i,a,s=n.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=Fd(c),d=u.next();!d.done;d=u.next()){l+=(m=d.value).getCount()}}catch(O){r={error:O}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}var f=new Array(l),h=0;try{for(var p=Fd(c),g=p.next();!g.done;g=p.next())for(var m=g.value,y=0;y<m.getCount();y++){var v=m.getDataCodewords(),w=s.getECCodewords()+v;f[h++]=new e(v,new Uint8Array(w))}}catch(T){i={error:T}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var b=f[0].codewords.length-s.getECCodewords(),C=b-1,E=0;for(y=0;y<C;y++)for(var _=0;_<h;_++)f[_].codewords[y]=t[E++];var S=24===n.getVersionNumber(),A=S?8:h;for(_=0;_<A;_++)f[_].codewords[b-1]=t[E++];var I=f[0].codewords.length;for(y=b;y<I;y++)for(_=0;_<h;_++){var N=S?(_+8)%h:_,x=S&&N>7?y-1:y;f[N].codewords[x]=t[E++]}if(E!==t.length)throw new il;return f},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const zd=Ud;const Vd=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new il(""+e);var t=0,n=this.bitOffset,r=this.byteOffset,o=this.bytes;if(n>0){var i=8-n,a=e<i?e:i,s=255>>8-a<<(l=i-a);t=(o[r]&s)>>l,e-=a,8===(n+=a)&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&o[r],r++,e-=8;if(e>0){var l;s=255>>(l=8-e)<<l;t=t<<e|(o[r]&s)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=r,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();var Hd;!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(Hd||(Hd={}));const Wd=function(){function e(){}return e.decode=function(e){var t=new Vd(e),n=new Dl,r=new Dl,o=new Array,i=Hd.ASCII_ENCODE;do{if(i===Hd.ASCII_ENCODE)i=this.decodeAsciiSegment(t,n,r);else{switch(i){case Hd.C40_ENCODE:this.decodeC40Segment(t,n);break;case Hd.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Hd.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Hd.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Hd.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new Sl}i=Hd.ASCII_ENCODE}}while(i!==Hd.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new rc(e,n.toString(),0===o.length?null:o,null)},e.decodeAsciiSegment=function(e,t,n){var r=!1;do{var o=e.readBits(8);if(0===o)throw new Sl;if(o<=128)return r&&(o+=128),t.append(String.fromCharCode(o-1)),Hd.ASCII_ENCODE;if(129===o)return Hd.PAD_ENCODE;if(o<=229){var i=o-130;i<10&&t.append("0"),t.append(""+i)}else switch(o){case 230:return Hd.C40_ENCODE;case 231:return Hd.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return Hd.ANSIX12_ENCODE;case 239:return Hd.TEXT_ENCODE;case 240:return Hd.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new Sl}}while(e.available()>0);return Hd.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var n=!1,r=[],o=0;do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new Sl;var l=this.C40_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){l=this.C40_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Sl}o=0;break;case 3:n?(t.append(String.fromCharCode(s+224)),n=!1):t.append(String.fromCharCode(s+96)),o=0;break;default:throw new Sl}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var n=!1,r=[],o=0;do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new Sl;var l=this.TEXT_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){l=this.TEXT_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Sl}o=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new Sl;l=this.TEXT_SHIFT3_SET_CHARS[s];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l),o=0;break;default:throw new Sl}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var n=[];do{if(8===e.available())return;var r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(var o=0;o<3;o++){var i=n[o];switch(i){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(i<14)t.append(String.fromCharCode(i+44));else{if(!(i<40))throw new Sl;t.append(String.fromCharCode(i+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,n){var r=(e<<8)+t-1,o=Math.floor(r/1600);n[0]=o,r-=1600*o,o=Math.floor(r/40),n[1]=o,n[2]=r-40*o},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var r=e.readBits(6);if(31===r){var o=8-e.getBitOffset();return void(8!==o&&e.readBits(o))}0===(32&r)&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,n){var r,o=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),o++);if((r=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),o++))<0)throw new Sl;for(var a=new Uint8Array(r),s=0;s<r;s++){if(e.available()<8)throw new Sl;a[s]=this.unrandomize255State(e.readBits(8),o++)}n.push(a);try{t.append(Rl.decode(a,kl.ISO88591))}catch(l){throw new gc("Platform does not support required encoding: "+l.message)}},e.unrandomize255State=function(e,t){var n=e-(149*t%255+1);return n>=0?n:n+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}();var Gd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xd=function(){function e(){this.rsDecoder=new mc(dc.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var t,n,r=new Bd(e),o=r.getVersion(),i=r.readCodewords(),a=zd.getDataBlocks(i,o),s=0;try{for(var l=Gd(a),c=l.next();!c.done;c=l.next()){s+=c.value.getNumDataCodewords()}}catch(y){t={error:y}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}for(var u=new Uint8Array(s),d=a.length,f=0;f<d;f++){var h=a[f],p=h.getCodewords(),g=h.getNumDataCodewords();this.correctErrors(p,g);for(var m=0;m<g;m++)u[m*d+f]=p[m]}return Wd.decode(u)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new ll}for(var r=0;r<t;r++)e[r]=n[r]},e}();const Yd=Xd;var Kd=function(){function e(e){this.image=e,this.rectangleDetector=new Ic(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new Ll;var r=(n=this.shiftToModuleCenter(n))[0],o=n[1],i=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(i,a)+1;1===(1&s)&&(s+=1),1===(1&l)&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=e.sampleGrid(this.image,r,o,i,a,s,l);return new _c(c,[r,o,i,a])},e.shiftPoint=function(e,t,n){var r=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new Ec(e.getX()+r,e.getY()+o)},e.moveAway=function(e,t,n){var r=e.getX(),o=e.getY();return r<t?r-=1:r+=1,o<n?o-=1:o+=1,new Ec(r,o)},e.prototype.detectSolid1=function(e){var t=e[0],n=e[1],r=e[3],o=e[2],i=this.transitionsBetween(t,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,o),l=this.transitionsBetween(o,t),c=i,u=[o,t,n,r];return c>a&&(c=a,u[0]=t,u[1]=n,u[2]=r,u[3]=o),c>s&&(c=s,u[0]=n,u[1]=r,u[2]=o,u[3]=t),c>l&&(u[0]=r,u[1]=o,u[2]=t,u[3]=n),u},e.prototype.detectSolid2=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i),s=e.shiftPoint(r,o,4*(a+1)),l=e.shiftPoint(o,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(l,i)?(t[0]=n,t[1]=r,t[2]=o,t[3]=i):(t[0]=r,t[1]=o,t[2]=i,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),l=e.shiftPoint(n,r,4*(s+1)),c=e.shiftPoint(o,r,4*(a+1));a=this.transitionsBetween(l,i),s=this.transitionsBetween(c,i);var u=new Ec(i.getX()+(o.getX()-r.getX())/(a+1),i.getY()+(o.getY()-r.getY())/(a+1)),d=new Ec(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(u)?this.isValid(d)?this.transitionsBetween(l,u)+this.transitionsBetween(c,u)>this.transitionsBetween(l,d)+this.transitionsBetween(c,d)?u:d:u:this.isValid(d)?d:null},e.prototype.shiftToModuleCenter=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(o,i)+1,l=e.shiftPoint(n,r,4*s),c=e.shiftPoint(o,r,4*a);1===(1&(a=this.transitionsBetween(l,i)+1))&&(a+=1),1===(1&(s=this.transitionsBetween(c,i)+1))&&(s+=1);var u,d,f=(n.getX()+r.getX()+o.getX()+i.getX())/4,h=(n.getY()+r.getY()+o.getY()+i.getY())/4;return n=e.moveAway(n,f,h),r=e.moveAway(r,f,h),o=e.moveAway(o,f,h),i=e.moveAway(i,f,h),l=e.shiftPoint(n,r,4*s),l=e.shiftPoint(l,i,4*a),u=e.shiftPoint(r,n,4*s),u=e.shiftPoint(u,o,4*a),c=e.shiftPoint(o,i,4*s),c=e.shiftPoint(c,r,4*a),d=e.shiftPoint(i,o,4*s),[l,u,c,d=e.shiftPoint(d,n,4*a)]},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.sampleGrid=function(e,t,n,r,o,i,a){return Rc.getInstance().sampleGrid(e,i,a,.5,.5,i-.5,.5,i-.5,a-.5,.5,a-.5,t.getX(),t.getY(),o.getX(),o.getY(),r.getX(),r.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),o=Math.trunc(t.getX()),i=Math.trunc(t.getY()),a=Math.abs(i-r)>Math.abs(o-n);if(a){var s=n;n=r,r=s,s=o,o=i,i=s}for(var l=Math.abs(o-n),c=Math.abs(i-r),u=-l/2,d=r<i?1:-1,f=n<o?1:-1,h=0,p=this.image.get(a?r:n,a?n:r),g=n,m=r;g!==o;g+=f){var y=this.image.get(a?m:g,a?g:m);if(y!==p&&(h++,p=y),(u+=c)>0){if(m===i)break;m+=d,u-=l}}return h},e}();const qd=Kd;const Zd=function(){function e(){this.decoder=new Yd}return e.prototype.decode=function(t,n){var r,o;if(void 0===n&&(n=null),null!=n&&n.has(El.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(i),o=e.NO_POINTS}else{var a=new qd(t.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var s=r.getRawBytes(),l=new Ql(r.getText(),s,8*s.length,o,ec.DATA_MATRIX,ul.currentTimeMillis()),c=r.getByteSegments();null!=c&&l.putMetadata(nc.BYTE_SEGMENTS,c);var u=r.getECLevel();return null!=u&&l.putMetadata(nc.ERROR_CORRECTION_LEVEL,u),l},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new Ll;var r=this.moduleSize(t,e),o=t[1],i=n[1],a=t[0],s=(n[0]-a+1)/r,l=(i-o+1)/r;if(s<=0||l<=0)throw new Ll;var c=r/2;o+=c,a+=c;for(var u=new jl(s,l),d=0;d<l;d++)for(var f=o+d*r,h=0;h<s;h++)e.get(a+h*r,f)&&u.set(h,d);return u},e.moduleSize=function(e,t){for(var n=t.getWidth(),r=e[0],o=e[1];r<n&&t.get(r,o);)r++;if(r===n)throw new Ll;var i=r-e[0];if(0===i)throw new Ll;return i},e.NO_POINTS=[],e}();var $d,Qd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Zd,t)||this}Qd(t,e)}($l);!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}($d||($d={}));const Jd=function(){function e(t,n,r){this.value=t,this.stringValue=n,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new rl(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new il;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e($d.L,"L",1),e.M=new e($d.M,"M",0),e.Q=new e($d.Q,"Q",3),e.H=new e($d.H,"H",2),e}();var ef=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tf=function(){function e(e){this.errorCorrectionLevel=Jd.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return vl.bitCount(e^t)},e.decodeFormatInformation=function(t,n){var r=e.doDecodeFormatInformation(t,n);return null!==r?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var r,o,i=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=ef(e.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===t||u===n)return new e(c[1]);var d=e.numBitsDiffering(t,u);d<i&&(a=c[1],i=d),t!==n&&(d=e.numBitsDiffering(n,u))<i&&(a=c[1],i=d)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i<=3?new e(a):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}();const nf=tf;var rf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},of=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var e,t,n=0,r=this.ecBlocks;try{for(var o=rf(r),i=o.next();!i.done;i=o.next()){n+=i.value.getCount()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}();const af=of;var sf=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}();const lf=sf;var cf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uf=function(){function e(e,t){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var a=0,s=o[0].getECCodewordsPerBlock(),l=o[0].getECBlocks();try{for(var c=cf(l),u=c.next();!u.done;u=c.next()){var d=u.value;a+=d.getCount()*(d.getDataCodewords()+s)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.totalCodewords=a}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Sl;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new Sl}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new il;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<e.VERSION_DECODE_INFO.length;o++){var i=e.VERSION_DECODE_INFO[o];if(i===t)return e.getVersionForNumber(o+7);var a=nf.numBitsDiffering(t,i);a<n&&(r=o+7,n=a)}return n<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new jl(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var o=this.alignmentPatternCenters[r]-2,i=0;i<n;i++)0===r&&(0===i||i===n-1)||r===n-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new af(7,new lf(1,19)),new af(10,new lf(1,16)),new af(13,new lf(1,13)),new af(17,new lf(1,9))),new e(2,Int32Array.from([6,18]),new af(10,new lf(1,34)),new af(16,new lf(1,28)),new af(22,new lf(1,22)),new af(28,new lf(1,16))),new e(3,Int32Array.from([6,22]),new af(15,new lf(1,55)),new af(26,new lf(1,44)),new af(18,new lf(2,17)),new af(22,new lf(2,13))),new e(4,Int32Array.from([6,26]),new af(20,new lf(1,80)),new af(18,new lf(2,32)),new af(26,new lf(2,24)),new af(16,new lf(4,9))),new e(5,Int32Array.from([6,30]),new af(26,new lf(1,108)),new af(24,new lf(2,43)),new af(18,new lf(2,15),new lf(2,16)),new af(22,new lf(2,11),new lf(2,12))),new e(6,Int32Array.from([6,34]),new af(18,new lf(2,68)),new af(16,new lf(4,27)),new af(24,new lf(4,19)),new af(28,new lf(4,15))),new e(7,Int32Array.from([6,22,38]),new af(20,new lf(2,78)),new af(18,new lf(4,31)),new af(18,new lf(2,14),new lf(4,15)),new af(26,new lf(4,13),new lf(1,14))),new e(8,Int32Array.from([6,24,42]),new af(24,new lf(2,97)),new af(22,new lf(2,38),new lf(2,39)),new af(22,new lf(4,18),new lf(2,19)),new af(26,new lf(4,14),new lf(2,15))),new e(9,Int32Array.from([6,26,46]),new af(30,new lf(2,116)),new af(22,new lf(3,36),new lf(2,37)),new af(20,new lf(4,16),new lf(4,17)),new af(24,new lf(4,12),new lf(4,13))),new e(10,Int32Array.from([6,28,50]),new af(18,new lf(2,68),new lf(2,69)),new af(26,new lf(4,43),new lf(1,44)),new af(24,new lf(6,19),new lf(2,20)),new af(28,new lf(6,15),new lf(2,16))),new e(11,Int32Array.from([6,30,54]),new af(20,new lf(4,81)),new af(30,new lf(1,50),new lf(4,51)),new af(28,new lf(4,22),new lf(4,23)),new af(24,new lf(3,12),new lf(8,13))),new e(12,Int32Array.from([6,32,58]),new af(24,new lf(2,92),new lf(2,93)),new af(22,new lf(6,36),new lf(2,37)),new af(26,new lf(4,20),new lf(6,21)),new af(28,new lf(7,14),new lf(4,15))),new e(13,Int32Array.from([6,34,62]),new af(26,new lf(4,107)),new af(22,new lf(8,37),new lf(1,38)),new af(24,new lf(8,20),new lf(4,21)),new af(22,new lf(12,11),new lf(4,12))),new e(14,Int32Array.from([6,26,46,66]),new af(30,new lf(3,115),new lf(1,116)),new af(24,new lf(4,40),new lf(5,41)),new af(20,new lf(11,16),new lf(5,17)),new af(24,new lf(11,12),new lf(5,13))),new e(15,Int32Array.from([6,26,48,70]),new af(22,new lf(5,87),new lf(1,88)),new af(24,new lf(5,41),new lf(5,42)),new af(30,new lf(5,24),new lf(7,25)),new af(24,new lf(11,12),new lf(7,13))),new e(16,Int32Array.from([6,26,50,74]),new af(24,new lf(5,98),new lf(1,99)),new af(28,new lf(7,45),new lf(3,46)),new af(24,new lf(15,19),new lf(2,20)),new af(30,new lf(3,15),new lf(13,16))),new e(17,Int32Array.from([6,30,54,78]),new af(28,new lf(1,107),new lf(5,108)),new af(28,new lf(10,46),new lf(1,47)),new af(28,new lf(1,22),new lf(15,23)),new af(28,new lf(2,14),new lf(17,15))),new e(18,Int32Array.from([6,30,56,82]),new af(30,new lf(5,120),new lf(1,121)),new af(26,new lf(9,43),new lf(4,44)),new af(28,new lf(17,22),new lf(1,23)),new af(28,new lf(2,14),new lf(19,15))),new e(19,Int32Array.from([6,30,58,86]),new af(28,new lf(3,113),new lf(4,114)),new af(26,new lf(3,44),new lf(11,45)),new af(26,new lf(17,21),new lf(4,22)),new af(26,new lf(9,13),new lf(16,14))),new e(20,Int32Array.from([6,34,62,90]),new af(28,new lf(3,107),new lf(5,108)),new af(26,new lf(3,41),new lf(13,42)),new af(30,new lf(15,24),new lf(5,25)),new af(28,new lf(15,15),new lf(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new af(28,new lf(4,116),new lf(4,117)),new af(26,new lf(17,42)),new af(28,new lf(17,22),new lf(6,23)),new af(30,new lf(19,16),new lf(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new af(28,new lf(2,111),new lf(7,112)),new af(28,new lf(17,46)),new af(30,new lf(7,24),new lf(16,25)),new af(24,new lf(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new af(30,new lf(4,121),new lf(5,122)),new af(28,new lf(4,47),new lf(14,48)),new af(30,new lf(11,24),new lf(14,25)),new af(30,new lf(16,15),new lf(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new af(30,new lf(6,117),new lf(4,118)),new af(28,new lf(6,45),new lf(14,46)),new af(30,new lf(11,24),new lf(16,25)),new af(30,new lf(30,16),new lf(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new af(26,new lf(8,106),new lf(4,107)),new af(28,new lf(8,47),new lf(13,48)),new af(30,new lf(7,24),new lf(22,25)),new af(30,new lf(22,15),new lf(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new af(28,new lf(10,114),new lf(2,115)),new af(28,new lf(19,46),new lf(4,47)),new af(28,new lf(28,22),new lf(6,23)),new af(30,new lf(33,16),new lf(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new af(30,new lf(8,122),new lf(4,123)),new af(28,new lf(22,45),new lf(3,46)),new af(30,new lf(8,23),new lf(26,24)),new af(30,new lf(12,15),new lf(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new af(30,new lf(3,117),new lf(10,118)),new af(28,new lf(3,45),new lf(23,46)),new af(30,new lf(4,24),new lf(31,25)),new af(30,new lf(11,15),new lf(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new af(30,new lf(7,116),new lf(7,117)),new af(28,new lf(21,45),new lf(7,46)),new af(30,new lf(1,23),new lf(37,24)),new af(30,new lf(19,15),new lf(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new af(30,new lf(5,115),new lf(10,116)),new af(28,new lf(19,47),new lf(10,48)),new af(30,new lf(15,24),new lf(25,25)),new af(30,new lf(23,15),new lf(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new af(30,new lf(13,115),new lf(3,116)),new af(28,new lf(2,46),new lf(29,47)),new af(30,new lf(42,24),new lf(1,25)),new af(30,new lf(23,15),new lf(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new af(30,new lf(17,115)),new af(28,new lf(10,46),new lf(23,47)),new af(30,new lf(10,24),new lf(35,25)),new af(30,new lf(19,15),new lf(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new af(30,new lf(17,115),new lf(1,116)),new af(28,new lf(14,46),new lf(21,47)),new af(30,new lf(29,24),new lf(19,25)),new af(30,new lf(11,15),new lf(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new af(30,new lf(13,115),new lf(6,116)),new af(28,new lf(14,46),new lf(23,47)),new af(30,new lf(44,24),new lf(7,25)),new af(30,new lf(59,16),new lf(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new af(30,new lf(12,121),new lf(7,122)),new af(28,new lf(12,47),new lf(26,48)),new af(30,new lf(39,24),new lf(14,25)),new af(30,new lf(22,15),new lf(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new af(30,new lf(6,121),new lf(14,122)),new af(28,new lf(6,47),new lf(34,48)),new af(30,new lf(46,24),new lf(10,25)),new af(30,new lf(2,15),new lf(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new af(30,new lf(17,122),new lf(4,123)),new af(28,new lf(29,46),new lf(14,47)),new af(30,new lf(49,24),new lf(10,25)),new af(30,new lf(24,15),new lf(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new af(30,new lf(4,122),new lf(18,123)),new af(28,new lf(13,46),new lf(32,47)),new af(30,new lf(48,24),new lf(14,25)),new af(30,new lf(42,15),new lf(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new af(30,new lf(20,117),new lf(4,118)),new af(28,new lf(40,47),new lf(7,48)),new af(30,new lf(43,24),new lf(22,25)),new af(30,new lf(10,15),new lf(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new af(30,new lf(19,118),new lf(6,119)),new af(28,new lf(18,47),new lf(31,48)),new af(30,new lf(34,24),new lf(34,25)),new af(30,new lf(20,15),new lf(61,16)))],e}();const df=uf;var ff;!function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(ff||(ff={}));const hf=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},e.values=new Map([[ff.DATA_MASK_000,new e(ff.DATA_MASK_000,function(e,t){return 0===(e+t&1)})],[ff.DATA_MASK_001,new e(ff.DATA_MASK_001,function(e,t){return 0===(1&e)})],[ff.DATA_MASK_010,new e(ff.DATA_MASK_010,function(e,t){return t%3===0})],[ff.DATA_MASK_011,new e(ff.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[ff.DATA_MASK_100,new e(ff.DATA_MASK_100,function(e,t){return 0===(Math.floor(e/2)+Math.floor(t/3)&1)})],[ff.DATA_MASK_101,new e(ff.DATA_MASK_101,function(e,t){return e*t%6===0})],[ff.DATA_MASK_110,new e(ff.DATA_MASK_110,function(e,t){return e*t%6<3})],[ff.DATA_MASK_111,new e(ff.DATA_MASK_111,function(e,t){return 0===(e+t+e*t%3&1)})]]),e}();var pf=function(){function e(e){var t=e.getHeight();if(t<21||1!==(3&t))throw new Sl;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);var r=this.bitMatrix.getHeight(),o=0,i=r-7;for(n=r-1;n>=i;n--)o=this.copyBit(8,n,o);for(t=r-8;t<r;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=nf.decodeFormatInformation(e,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Sl},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return df.getVersionForNumber(t);for(var n=0,r=e-11,o=5;o>=0;o--)for(var i=e-9;i>=r;i--)n=this.copyBit(i,o,n);var a=df.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;n=0;for(i=5;i>=0;i--)for(o=e-9;o>=r;o--)n=this.copyBit(i,o,n);if(null!==(a=df.decodeVersionInformation(n))&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new Sl},e.prototype.copyBit=function(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=hf.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var o=t.buildFunctionPattern(),i=!0,a=new Uint8Array(t.getTotalCodewords()),s=0,l=0,c=0,u=r-1;u>0;u-=2){6===u&&u--;for(var d=0;d<r;d++)for(var f=i?r-1-d:d,h=0;h<2;h++)o.get(u-h,f)||(c++,l<<=1,this.bitMatrix.get(u-h,f)&&(l|=1),8===c&&(a[s++]=l,c=0,l=0));i=!i}if(s!==t.getTotalCodewords())throw new Sl;return a},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=hf.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var r=t+1,o=e.getHeight();r<o;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))},e}();const gf=pf;var mf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yf=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n,r){var o,i,a,s;if(t.length!==n.getTotalCodewords())throw new il;var l=n.getECBlocksForLevel(r),c=0,u=l.getECBlocks();try{for(var d=mf(u),f=d.next();!f.done;f=d.next()){c+=(y=f.value).getCount()}}catch(x){o={error:x}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var h=new Array(c),p=0;try{for(var g=mf(u),m=g.next();!m.done;m=g.next())for(var y=m.value,v=0;v<y.getCount();v++){var w=y.getDataCodewords(),b=l.getECCodewordsPerBlock()+w;h[p++]=new e(w,new Uint8Array(b))}}catch(O){a={error:O}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var C=h[0].codewords.length,E=h.length-1;E>=0;){if(h[E].codewords.length===C)break;E--}E++;var _=C-l.getECCodewordsPerBlock(),S=0;for(v=0;v<_;v++)for(var A=0;A<p;A++)h[A].codewords[v]=t[S++];for(A=E;A<p;A++)h[A].codewords[_]=t[S++];var I=h[0].codewords.length;for(v=_;v<I;v++)for(A=0;A<p;A++){var N=A<E?v:v+1;h[A].codewords[N]=t[S++]}return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const vf=yf;var wf;!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(wf||(wf={}));var bf=function(){function e(t,n,r,o){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,e.FOR_BITS.set(o,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(void 0===n)throw new il;return n},e.prototype.getCharacterCountBits=function(e){var t,n=e.getVersionNumber();return t=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(wf.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(wf.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(wf.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(wf.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(wf.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(wf.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(wf.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(wf.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(wf.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(wf.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}();const Cf=bf;var Ef=function(){function e(){}return e.decode=function(t,n,r,o){var i=new Vd(t),a=new Dl,s=new Array,l=-1,c=-1;try{var u=null,d=!1,f=void 0;do{if(i.available()<4)f=Cf.TERMINATOR;else{var h=i.readBits(4);f=Cf.forBits(h)}switch(f){case Cf.TERMINATOR:break;case Cf.FNC1_FIRST_POSITION:case Cf.FNC1_SECOND_POSITION:d=!0;break;case Cf.STRUCTURED_APPEND:if(i.available()<16)throw new Sl;l=i.readBits(8),c=i.readBits(8);break;case Cf.ECI:var p=e.parseECIValue(i);if(null===(u=xl.getCharacterSetECIByValue(p)))throw new Sl;break;case Cf.HANZI:var g=i.readBits(4),m=i.readBits(f.getCharacterCountBits(n));g===e.GB2312_SUBSET&&e.decodeHanziSegment(i,a,m);break;default:var y=i.readBits(f.getCharacterCountBits(n));switch(f){case Cf.NUMERIC:e.decodeNumericSegment(i,a,y);break;case Cf.ALPHANUMERIC:e.decodeAlphanumericSegment(i,a,y,d);break;case Cf.BYTE:e.decodeByteSegment(i,a,y,u,s,o);break;case Cf.KANJI:e.decodeKanjiSegment(i,a,y);break;default:throw new Sl}}}while(f!==Cf.TERMINATOR)}catch(v){throw new Sl}return new rc(t,a.toString(),0===s.length?null:s,null===r?null:r.toString(),l,c)},e.decodeHanziSegment=function(e,t,n){if(13*n>e.available())throw new Sl;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=e.readBits(13),a=i/96<<8&4294967295|i%96;a+=a<959?41377:42657,r[o]=a>>8&255,r[o+1]=255&a,o+=2,n--}try{t.append(Rl.decode(r,kl.GB2312))}catch(s){throw new Sl(s)}},e.decodeKanjiSegment=function(e,t,n){if(13*n>e.available())throw new Sl;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=e.readBits(13),a=i/192<<8&4294967295|i%192;a+=a<7936?33088:49472,r[o]=a>>8,r[o+1]=a,o+=2,n--}try{t.append(Rl.decode(r,kl.SHIFT_JIS))}catch(s){throw new Sl(s)}},e.decodeByteSegment=function(e,t,n,r,o,i){if(8*n>e.available())throw new Sl;for(var a,s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);a=null===r?kl.guessEncoding(s,i):r.getName();try{t.append(Rl.decode(s,a))}catch(c){throw new Sl(c)}o.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new Sl;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,r,o){for(var i=n.length();r>1;){if(t.available()<11)throw new Sl;var a=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(a/45))),n.append(e.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(t.available()<6)throw new Sl;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(o)for(var s=i;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,n,r){for(;r>=3;){if(t.available()<10)throw new Sl;var o=t.readBits(10);if(o>=1e3)throw new Sl;n.append(e.toAlphaNumericChar(Math.floor(o/100))),n.append(e.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(e.toAlphaNumericChar(o%10)),r-=3}if(2===r){if(t.available()<7)throw new Sl;var i=t.readBits(7);if(i>=100)throw new Sl;n.append(e.toAlphaNumericChar(Math.floor(i/10))),n.append(e.toAlphaNumericChar(i%10))}else if(1===r){if(t.available()<4)throw new Sl;var a=t.readBits(4);if(a>=10)throw new Sl;n.append(e.toAlphaNumericChar(a))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new Sl},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}();const _f=Ef;const Sf=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}();var Af=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},If=function(){function e(){this.rsDecoder=new mc(dc.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(jl.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var n=new gf(e),r=null;try{return this.decodeBitMatrixParser(n,t)}catch(Sv){r=Sv}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new Sf(!0)),o}catch(Sv){if(null!==r)throw r;throw Sv}},e.prototype.decodeBitMatrixParser=function(e,t){var n,r,o,i,a=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=vf.getDataBlocks(l,a,s),u=0;try{for(var d=Af(c),f=d.next();!f.done;f=d.next()){u+=(y=f.value).getNumDataCodewords()}}catch(C){n={error:C}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var h=new Uint8Array(u),p=0;try{for(var g=Af(c),m=g.next();!m.done;m=g.next()){var y,v=(y=m.value).getCodewords(),w=y.getNumDataCodewords();this.correctErrors(v,w);for(var b=0;b<w;b++)h[p++]=v[b]}}catch(E){o={error:E}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}return _f.decode(h,a,s,t)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new ll}for(var r=0;r<t;r++)e[r]=n[r]},e}();const Nf=If;var xf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Of=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.estimatedModuleSize=r,o}return xf(t,e),t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){return new t((this.getX()+n)/2,(this.getY()+e)/2,(this.estimatedModuleSize+r)/2)},t}(Ec);var Tf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rf=function(){function e(e,t,n,r,o,i,a){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=o,this.moduleSize=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,o=new Int32Array(3),i=this.image,a=0;a<t;a++){var s=r+(0===(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var l=e;l<n&&!i.get(l,s);)l++;for(var c=0;l<n;){if(i.get(l,s))if(1===c)o[1]++;else if(2===c){var u;if(this.foundPatternCross(o))if(null!==(u=this.handlePossibleCenter(o,s,l)))return u;o[0]=o[2],o[1]=1,o[2]=0,c=1}else o[++c]++;else 1===c&&c++,o[c]++;l++}if(this.foundPatternCross(o))if(null!==(u=this.handlePossibleCenter(o,s,n)))return u}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Ll},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,r,o){var i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=t;l>=0&&i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<a&&i.get(n,l)&&s[1]<=r;)s[1]++,l++;if(l===a||s[1]>r)return NaN;for(;l<a&&!i.get(n,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-o)>=2*o?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r){var o,i,a=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),l=this.crossCheckVertical(n,s,2*t[1],a);if(!isNaN(l)){var c=(t[0]+t[1]+t[2])/3;try{for(var u=Tf(this.possibleCenters),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.aboutEquals(c,l,s))return f.combineEstimate(l,s,c)}}catch(p){o={error:p}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}var h=new Of(s,l,c);this.possibleCenters.push(h),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},e}();const Pf=Rf;var kf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Df=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.estimatedModuleSize=r,i.count=o,void 0===o&&(i.count=1),i}return kf(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){var o=this.count+1;return new t((this.count*this.getX()+n)/o,(this.count*this.getY()+e)/o,(this.count*this.estimatedModuleSize+r)/o,o)},t}(Ec);const jf=Df;const Mf=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}();var Lf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bf=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=null!==t&&void 0!==t&&void 0!==t.get(El.TRY_HARDER),r=null!==t&&void 0!==t&&void 0!==t.get(El.PURE_BARCODE),o=this.image,i=o.getHeight(),a=o.getWidth(),s=Math.floor(3*i/(4*e.MAX_MODULES));(s<e.MIN_SKIP||n)&&(s=e.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<i&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var d=0,f=0;f<a;f++)if(o.get(f,u))1===(1&d)&&d++,c[d]++;else if(0===(1&d))if(4===d)if(e.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,u,f,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,d=3;continue}if(s=2,!0===this.hasSkipped)l=this.haveMultiplyConfirmedCenters();else{var h=this.findRowSkip();h>c[2]&&(u+=h-c[2]-s,f=a-1)}d=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,d=3;else c[++d]++;else c[d]++;if(e.foundPatternCross(c))!0===this.handlePossibleCenter(c,u,a,r)&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return Ec.orderBestPatterns(p),new Mf(p)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var r=e[n];if(0===r)return!1;t+=r}if(t<7)return!1;var o=t/7,i=o/2;return Math.abs(o-e[0])<i&&Math.abs(o-e[1])<i&&Math.abs(3*o-e[2])<3*i&&Math.abs(o-e[3])<i&&Math.abs(o-e[4])<i},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,n,r,o){for(var i=this.getCrossCheckStateCount(),a=0,s=this.image;t>=a&&n>=a&&s.get(n-a,t-a);)i[2]++,a++;if(t<a||n<a)return!1;for(;t>=a&&n>=a&&!s.get(n-a,t-a)&&i[1]<=r;)i[1]++,a++;if(t<a||n<a||i[1]>r)return!1;for(;t>=a&&n>=a&&s.get(n-a,t-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;var l=s.getHeight(),c=s.getWidth();for(a=1;t+a<l&&n+a<c&&s.get(n+a,t+a);)i[2]++,a++;if(t+a>=l||n+a>=c)return!1;for(;t+a<l&&n+a<c&&!s.get(n+a,t+a)&&i[3]<r;)i[3]++,a++;if(t+a>=l||n+a>=c||i[3]>=r)return!1;for(;t+a<l&&n+a<c&&s.get(n+a,t+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-o)<2*o&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,n,r,o){for(var i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(n,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<a&&i.get(n,l);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!i.get(n,l)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&i.get(n,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-o)>=2*o?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.crossCheckHorizontal=function(t,n,r,o){for(var i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(l,n);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,n)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(l,n)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<a&&i.get(l,n);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!i.get(l,n)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&i.get(l,n)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-o)>=o?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,n,r,o){var i=t[0]+t[1]+t[2]+t[3]+t[4],a=e.centerFromEnd(t,r),s=this.crossCheckVertical(n,Math.floor(a),t[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),t[2],i),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),t[2],i)))){for(var l=i/7,c=!1,u=this.possibleCenters,d=0,f=u.length;d<f;d++){var h=u[d];if(h.aboutEquals(l,s,a)){u[d]=h.combineEstimate(s,a,l),c=!0;break}}if(!c){var p=new jf(a,s,l);u.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var o=Lf(this.possibleCenters),i=o.next();!i.done;i=o.next()){var a=i.value;if(a.getCount()>=e.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);r=a}}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,r,o,i=0,a=0,s=this.possibleCenters.length;try{for(var l=Lf(this.possibleCenters),c=l.next();!c.done;c=l.next()){(p=c.value).getCount()>=e.CENTER_QUORUM&&(i++,a+=p.getEstimatedModuleSize())}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(i<3)return!1;var u=a/s,d=0;try{for(var f=Lf(this.possibleCenters),h=f.next();!h.done;h=f.next()){var p=h.value;d+=Math.abs(p.getEstimatedModuleSize()-u)}}catch(m){r={error:m}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return d<=.05*a},e.prototype.selectBestPatterns=function(){var e,t,n,r,o=this.possibleCenters.length;if(o<3)throw new Ll;var i,a=this.possibleCenters;if(o>3){var s=0,l=0;try{for(var c=Lf(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value.getEstimatedModuleSize();s+=d,l+=d*d}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}i=s/o;var f=Math.sqrt(l/o-i*i);a.sort(function(e,t){var n=Math.abs(t.getEstimatedModuleSize()-i),r=Math.abs(e.getEstimatedModuleSize()-i);return n<r?-1:n>r?1:0});for(var h=Math.max(.2*i,f),p=0;p<a.length&&a.length>3;p++){var g=a[p];Math.abs(g.getEstimatedModuleSize()-i)>h&&(a.splice(p,1),p--)}}if(a.length>3){s=0;try{for(var m=Lf(a),y=m.next();!y.done;y=m.next()){s+=y.value.getEstimatedModuleSize()}}catch(w){n={error:w}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}i=s/a.length,a.sort(function(e,t){if(t.getCount()===e.getCount()){var n=Math.abs(t.getEstimatedModuleSize()-i),r=Math.abs(e.getEstimatedModuleSize()-i);return n<r?1:n>r?-1:0}return t.getCount()-e.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}();const Ff=Bf;var Uf=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null===e||void 0===e?null:e.get(El.NEED_RESULT_POINT_CALLBACK);var t=new Ff(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),r=t.getTopRight(),o=t.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new Ll("No pattern found in proccess finder.");var a=e.computeDimension(n,r,o,i),s=df.getProvisionalVersionForDimension(a),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=r.getX()-n.getX()+o.getX(),d=r.getY()-n.getY()+o.getY(),f=1-3/l,h=Math.floor(n.getX()+f*(u-n.getX())),p=Math.floor(n.getY()+f*(d-n.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(i,h,p,g);break}catch(v){if(!(v instanceof Ll))throw v}var m=e.createTransform(n,r,o,c,a),y=e.sampleGrid(this.image,m,a);return new _c(y,null===c?[o,n,r]:[o,n,r,c])},e.createTransform=function(e,t,n,r,o){var i,a,s,l,c=o-3.5;return null!==r?(i=r.getX(),a=r.getY(),l=s=c-3):(i=t.getX()-e.getX()+n.getX(),a=t.getY()-e.getY()+n.getY(),s=c,l=c),xc.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,s,l,3.5,c,e.getX(),e.getY(),t.getX(),t.getY(),i,a,n.getX(),n.getY())},e.sampleGrid=function(e,t,n){return Rc.getInstance().sampleGridWithTransform(e,n,n,t)},e.computeDimension=function(e,t,n,r){var o=bc.round(Ec.distance(e,t)/r),i=bc.round(Ec.distance(e,n)/r),a=Math.floor((o+i)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new Ll("Dimensions could be not found.")}return a},e.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,r){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,r),i=1,a=e-(n-e);a<0?(i=e/(e-a),a=0):a>=this.image.getWidth()&&(i=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var s=Math.floor(t-(r-t)*i);return i=1,s<0?(i=t/(t-s),s=0):s>=this.image.getHeight()&&(i=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),a=Math.floor(e+(a-e)*i),(o+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,r){var o=Math.abs(r-t)>Math.abs(n-e);if(o){var i=e;e=t,t=i,i=n,n=r,r=i}for(var a=Math.abs(n-e),s=Math.abs(r-t),l=-a/2,c=e<n?1:-1,u=t<r?1:-1,d=0,f=n+c,h=e,p=t;h!==f;h+=c){var g=o?p:h,m=o?h:p;if(1===d===this.image.get(g,m)){if(2===d)return bc.distance(h,p,e,t);d++}if((l+=s)>0){if(p===r)break;p+=u,l-=a}}return 2===d?bc.distance(n+c,r,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,n,r){var o=Math.floor(r*e),i=Math.max(0,t-o),a=Math.min(this.image.getWidth()-1,t+o);if(a-i<3*e)throw new Ll("Alignment top exceeds estimated module size.");var s=Math.max(0,n-o),l=Math.min(this.image.getHeight()-1,n+o);if(l-s<3*e)throw new Ll("Alignment bottom exceeds estimated module size.");return new Pf(this.image,i,s,a-i,l-s,e,this.resultPointCallback).find()},e}();const zf=Uf;const Vf=function(){function e(){this.decoder=new Nf}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var r,o;if(void 0!==n&&null!==n&&void 0!==n.get(El.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=e.NO_POINTS}else{var a=new zf(t.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),o=a.getPoints()}r.getOther()instanceof Sf&&r.getOther().applyMirroredCorrection(o);var s=new Ql(r.getText(),r.getRawBytes(),void 0,o,ec.QR_CODE,void 0),l=r.getByteSegments();null!==l&&s.putMetadata(nc.BYTE_SEGMENTS,l);var c=r.getECLevel();return null!==c&&s.putMetadata(nc.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(nc.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(nc.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new Ll;var r=this.moduleSize(t,e),o=t[1],i=n[1],a=t[0],s=n[0];if(a>=s||o>=i)throw new Ll;if(i-o!==s-a&&(s=a+(i-o))>=e.getWidth())throw new Ll;var l=Math.round((s-a+1)/r),c=Math.round((i-o+1)/r);if(l<=0||c<=0)throw new Ll;if(c!==l)throw new Ll;var u=Math.floor(r/2);o+=u;var d=(a+=u)+Math.floor((l-1)*r)-s;if(d>0){if(d>u)throw new Ll;a-=d}var f=o+Math.floor((c-1)*r)-i;if(f>0){if(f>u)throw new Ll;o-=f}for(var h=new jl(l,c),p=0;p<c;p++)for(var g=o+Math.floor(p*r),m=0;m<l;m++)e.get(a+Math.floor(m*r),g)&&h.set(m,p);return h},e.moduleSize=function(e,t){for(var n=t.getHeight(),r=t.getWidth(),o=e[0],i=e[1],a=!0,s=0;o<r&&i<n;){if(a!==t.get(o,i)){if(5===++s)break;a=!a}o++,i++}if(o===r||i===n)throw new Ll;return(o-e[0])/7},e.NO_POINTS=new Array,e}();var Hf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(e){return bc.sum(e)},e.toIntArray=function(t){var n,r;if(null==t||!t.length)return e.EMPTY_INT_ARRAY;var o=new Int32Array(t.length),i=0;try{for(var a=Hf(t),s=a.next();!s.done;s=a.next()){var l=s.value;o[i++]=l}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.getCodeword=function(t){var n=yl.binarySearch(e.SYMBOL_TABLE,262143&t);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}();const Gf=Wf;const Xf=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var Yf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kf=function(){function e(){}return e.detectMultiple=function(t,n,r){var o=t.getBlackMatrix(),i=e.detect(r,o);return i.length||((o=o.clone()).rotate180(),i=e.detect(r,o)),new Xf(o,i)},e.detect=function(t,n){for(var r,o,i=new Array,a=0,s=0,l=!1;a<n.getHeight();){var c=e.findVertices(n,a,s);if(null!=c[0]||null!=c[3]){if(l=!0,i.push(c),!t)break;null!=c[2]?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}else{if(!l)break;l=!1,s=0;try{for(var u=(r=void 0,Yf(i)),d=u.next();!d.done;d=u.next()){var f=d.value;null!=f[1]&&(a=Math.trunc(Math.max(a,f[1].getY()))),null!=f[3]&&(a=Math.max(a,Math.trunc(f[3].getY())))}}catch(h){r={error:h}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}a+=e.ROW_STEP}}return i},e.findVertices=function(t,n,r){var o=t.getHeight(),i=t.getWidth(),a=new Array(8);return e.copyToResult(a,e.findRowsWithPattern(t,o,i,n,r,e.START_PATTERN),e.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),e.copyToResult(a,e.findRowsWithPattern(t,o,i,n,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),a},e.copyToResult=function(e,t,n){for(var r=0;r<n.length;r++)e[n[r]]=t[r]},e.findRowsWithPattern=function(t,n,r,o,i,a){for(var s=new Array(4),l=!1,c=new Int32Array(a.length);o<n;o+=e.ROW_STEP){if(null!=(h=e.findGuardPattern(t,i,o,r,!1,a,c))){for(;o>0;){if(null==(f=e.findGuardPattern(t,i,--o,r,!1,a,c))){o++;break}h=f}s[0]=new Ec(h[0],o),s[1]=new Ec(h[1],o),l=!0;break}}var u=o+1;if(l){for(var d=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);u<n;u++){var h;if(null!=(h=e.findGuardPattern(t,f[0],u,r,!1,a,c))&&Math.abs(f[0]-h[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-h[1])<e.MAX_PATTERN_DRIFT)f=h,d=0;else{if(d>e.SKIPPED_ROW_COUNT_MAX)break;d++}}u-=d+1,s[2]=new Ec(f[0],u),s[3]=new Ec(f[1],u)}return u-o<e.BARCODE_MIN_HEIGHT&&yl.fill(s,null),s},e.findGuardPattern=function(t,n,r,o,i,a,s){yl.fillWithin(s,0,s.length,0);for(var l=n,c=0;t.get(l,r)&&l>0&&c++<e.MAX_PIXEL_DRIFT;)l--;for(var u=l,d=0,f=a.length,h=i;u<o;u++){if(t.get(u,r)!==h)s[d]++;else{if(d===f-1){if(e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],ul.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,h=!h}}return d===f-1&&e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},e.patternMatchVariance=function(e,t,n){for(var r=e.length,o=0,i=0,a=0;a<r;a++)o+=e[a],i+=t[a];if(o<i)return 1/0;var s=o/i;n*=s;for(var l=0,c=0;c<r;c++){var u=e[c],d=t[c]*s,f=u>d?u-d:d-u;if(f>n)return 1/0;l+=f}return l/o},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}();const qf=Kf;var Zf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$f=function(){function e(e,t){if(0===t.length)throw new il;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),ul.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){var t,n;if(0===e)return this.getCoefficient(0);if(1===e){var r=0;try{for(var o=Zf(this.coefficients),i=o.next();!i.done;i=o.next()){var a=i.value;r=this.field.add(r,a)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}for(var s=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)s=this.field.add(this.field.multiply(e,s),this.coefficients[c]);return s},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new il("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;ul.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=this.field.add(n[s-a],r[s]);return new e(this.field,i)},e.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new il("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new il("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=t.coefficients,i=o.length,a=new Int32Array(r+i-1),s=0;s<r;s++)for(var l=n[s],c=0;c<i;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(l,o[c]));return new e(this.field,a)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),r=0;r<t;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(0===t)return new e(this.field,new Int32Array([0]));if(1===t)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new il;if(0===n)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+t),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,o)},e.prototype.toString=function(){for(var e=new Dl,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},e}();const Qf=$f;const Jf=function(){function e(){}return e.prototype.add=function(e,t){return(e+t)%this.modulus},e.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new il;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new lc;return this.expTable[this.modulus-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(e){return e===this},e}();var eh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const th=function(e){function t(t,n){var r=e.call(this)||this;r.modulus=t,r.expTable=new Int32Array(t),r.logTable=new Int32Array(t);for(var o=1,i=0;i<t;i++)r.expTable[i]=o,o=o*n%t;for(i=0;i<t-1;i++)r.logTable[r.expTable[i]]=i;return r.zero=new Qf(r,new Int32Array([0])),r.one=new Qf(r,new Int32Array([1])),r}return eh(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new il;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new Qf(this,n)},t.PDF417_GF=new t(Gf.NUMBER_OF_CODEWORDS,3),t}(Jf);var nh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rh=function(){function e(){this.field=th.PDF417_GF}return e.prototype.decode=function(e,t,n){for(var r,o,i=new Qf(this.field,e),a=new Int32Array(t),s=!1,l=t;l>0;l--){var c=i.evaluateAt(this.field.exp(l));a[t-l]=c,0!==c&&(s=!0)}if(!s)return 0;var u=this.field.getOne();if(null!=n)try{for(var d=nh(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=this.field.exp(e.length-1-h),g=new Qf(this.field,new Int32Array([this.field.subtract(0,p),1]));u=u.multiply(g)}}catch(_){r={error:_}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var m=new Qf(this.field,a),y=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),m,t),v=y[0],w=y[1],b=this.findErrorLocations(v),C=this.findErrorMagnitudes(w,v,b);for(l=0;l<b.length;l++){var E=e.length-1-this.field.log(b[l]);if(E<0)throw ll.getChecksumInstance();e[E]=this.field.subtract(e[E],C[l])}return b.length},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var o=e,i=t,a=this.field.getZero(),s=this.field.getOne();i.getDegree()>=Math.round(n/2);){var l=o,c=a;if(a=s,(o=i).isZero())throw ll.getChecksumInstance();i=l;for(var u=this.field.getZero(),d=o.getCoefficient(o.getDegree()),f=this.field.inverse(d);i.getDegree()>=o.getDegree()&&!i.isZero();){var h=i.getDegree()-o.getDegree(),p=this.field.multiply(i.getCoefficient(i.getDegree()),f);u=u.add(this.field.buildMonomial(h,p)),i=i.subtract(o.multiplyByMonomial(h,p))}s=u.multiply(a).subtract(c).negative()}var g=s.getCoefficient(0);if(0===g)throw ll.getChecksumInstance();var m=this.field.inverse(g);return[s.multiply(m),i.multiply(m)]},e.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),r=0,o=1;o<this.field.getSize()&&r<t;o++)0===e.evaluateAt(o)&&(n[r]=this.field.inverse(o),r++);if(r!==t)throw ll.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(e,t,n){for(var r=t.getDegree(),o=new Int32Array(r),i=1;i<=r;i++)o[r-i]=this.field.multiply(i,t.getCoefficient(i));var a=new Qf(this.field,o),s=n.length,l=new Int32Array(s);for(i=0;i<s;i++){var c=this.field.inverse(n[i]),u=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(a.evaluateAt(c));l[i]=this.field.multiply(u,d)}return l},e}();const oh=rh;const ih=function(){function e(t,n,r,o,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,r,o,i)}return e.prototype.constructor_1=function(e,t,n,r,o){var i=null==t||null==n,a=null==r||null==o;if(i&&a)throw new Ll;i?(t=new Ec(0,r.getY()),n=new Ec(0,o.getY())):a&&(r=new Ec(e.getWidth()-1,t.getY()),o=new Ec(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},e.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},e.merge=function(t,n){return null==t?n:null==n?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,r){var o=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(t>0){var l=r?this.topLeft:this.topRight,c=Math.trunc(l.getY()-t);c<0&&(c=0);var u=new Ec(l.getX(),c);r?o=u:a=u}if(n>0){var d=r?this.bottomLeft:this.bottomRight,f=Math.trunc(d.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var h=new Ec(d.getX(),f);r?i=h:s=h}return new e(this.image,o,i,a,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}();const ah=function(){function e(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}();var sh=function(){function e(){this.buffer=""}return e.form=function(e,t){var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,r,o,i,a,s){if("%%"===e)return"%";if(void 0!==t[++n]){e=i?parseInt(i.substr(1)):void 0;var l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);for(var u=parseInt(o),d=o&&o[0]+""==="0"?"0":" ";l.length<u;)l=void 0!==r?l+d:d+l;return l}})},e.prototype.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e}();const lh=sh;var ch=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uh=function(){function e(e){this.boundingBox=new ih(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(null!=n)return n;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(t)-r;if(o>=0&&null!=(n=this.codewords[o]))return n;if((o=this.imageRowToCodewordIndex(t)+r)<this.codewords.length&&null!=(n=this.codewords[o]))return n}return null},e.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},e.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},e.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var e,t,n=new lh,r=0;try{for(var o=ch(this.codewords),i=o.next();!i.done;i=o.next()){var a=i.value;null!=a?n.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue()):n.format("%3d:    |   %n",r++)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}();const dh=uh;var fh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hh=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ph=function(){function e(){this.values=new Map}return e.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},e.prototype.getValue=function(){var e,t,n=-1,r=new Array,o=function(e,t){var o=function(){return e},i=function(){return t};i()>n?(n=i(),(r=[]).push(o())):i()===n&&r.push(o())};try{for(var i=fh(this.values.entries()),a=i.next();!a.done;a=i.next()){var s=hh(a.value,2);o(s[0],s[1])}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return Gf.toIntArray(r)},e.prototype.getConfidence=function(e){return this.values.get(e)},e}();const gh=ph;var mh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vh=function(e){function t(t,n){var r=e.call(this,t)||this;return r._isLeft=n,r}return mh(t,e),t.prototype.setRowNumbers=function(){var e,t;try{for(var n=yh(this.getCodewords()),r=n.next();!r.done;r=n.next()){var o=r.value;null!=o&&o.setRowNumberAsRowIndicatorColumn()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),s=-1,l=1,c=0,u=i;u<a;u++)if(null!=t[u]){var d=t[u],f=d.getRowNumber()-s;if(0===f)c++;else if(1===f)l=Math.max(l,c),c=1,s=d.getRowNumber();else if(f<0||d.getRowNumber()>=e.getRowCount()||f>u)t[u]=null;else{for(var h=void 0,p=(h=l>2?(l-2)*f:f)>=u,g=1;g<=h&&!p;g++)p=null!=t[u-g];p?t[u]=null:(s=d.getRowNumber(),c=1)}}},t.prototype.getRowHeights=function(){var e,t,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var o=yh(this.getCodewords()),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=a){var s=a.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,l=1,c=0,u=o;u<i;u++)if(null!=a[u]){var d=a[u];d.setRowNumberAsRowIndicatorColumn();var f=d.getRowNumber()-s;0===f?c++:1===f?(l=Math.max(l,c),c=1,s=d.getRowNumber()):d.getRowNumber()>=e.getRowCount()?a[u]=null:(s=d.getRowNumber(),c=1)}},t.prototype.getBarcodeMetadata=function(){var e,t,n=this.getCodewords(),r=new gh,o=new gh,i=new gh,a=new gh;try{for(var s=yh(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(null!=c){c.setRowNumberAsRowIndicatorColumn();var u=c.getValue()%30,d=c.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:o.setValue(3*u+1);break;case 1:a.setValue(u/3),i.setValue(u%3);break;case 2:r.setValue(u+1)}}}}catch(h){e={error:h}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(0===r.getValue().length||0===o.getValue().length||0===i.getValue().length||0===a.getValue().length||r.getValue()[0]<1||o.getValue()[0]+i.getValue()[0]<Gf.MIN_ROWS_IN_BARCODE||o.getValue()[0]+i.getValue()[0]>Gf.MAX_ROWS_IN_BARCODE)return null;var f=new ah(r.getValue()[0],o.getValue()[0],i.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(n,f),f},t.prototype.removeIncorrectCodewords=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(null!=e[n]){var o=r.getValue()%30,i=r.getRowNumber();if(i>t.getRowCount())e[n]=null;else switch(this._isLeft||(i+=2),i%3){case 0:3*o+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(o/3)===t.getErrorCorrectionLevel()&&o%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+e.prototype.toString.call(this)},t}(dh);const wh=vh;var bh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ch=function(){function e(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=Gf.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n));return e},e.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},e.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=this.barcodeColumnCount+1;a>0&&i<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=e.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=1;a<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=e.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},e.prototype.adjustRowNumbers=function(t,n,r){var o,i;if(null!=this.detectionResultColumns[t-1]){var a=r[n],s=this.detectionResultColumns[t-1].getCodewords(),l=s;null!=this.detectionResultColumns[t+1]&&(l=this.detectionResultColumns[t+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=l[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=l[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=l[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=l[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=l[n+2]);try{for(var u=bh(c),d=u.next();!d.done;d=u.next()){var f=d.value;if(e.adjustRowNumber(a,f))return}}catch(h){o={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}},e.adjustRowNumber=function(e,t){return null!=t&&(!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0))},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(e){this.boundingBox=e},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},e.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},e.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new lh,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o?t.format(" %3d|%3d",o.getRowNumber(),o.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},e}();const Eh=Ch;const _h=function(){function e(t,n,r,o){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(e){this.rowNumber=e},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}();var Sh=function(){function e(){}return e.initialize=function(){for(var t=0;t<Gf.SYMBOL_TABLE.length;t++)for(var n=Gf.SYMBOL_TABLE[t],r=1&n,o=0;o<Gf.BARS_IN_MODULE;o++){for(var i=0;(1&n)===r;)i+=1,n>>=1;r=1&n,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(Gf.BARS_IN_MODULE)),e.RATIOS_TABLE[t][Gf.BARS_IN_MODULE-o-1]=Math.fround(i/Gf.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return-1!==n?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(e){for(var t=bc.sum(e),n=new Int32Array(Gf.BARS_IN_MODULE),r=0,o=0,i=0;i<Gf.MODULES_IN_CODEWORD;i++){var a=t/(2*Gf.MODULES_IN_CODEWORD)+i*t/Gf.MODULES_IN_CODEWORD;o+e[r]<=a&&(o+=e[r],r++),n[r]++}return n},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return-1===Gf.getCodeword(n)?-1:n},e.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},e.getClosestDecodedValue=function(t){var n=bc.sum(t),r=new Array(Gf.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(t[o]/n);var i=Cc.MAX_VALUE,a=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var l=0,c=e.RATIOS_TABLE[s],u=0;u<Gf.BARS_IN_MODULE;u++){var d=Math.fround(c[u]-r[u]);if((l+=Math.fround(d*d))>=i)break}l<i&&(i=l,a=Gf.SYMBOL_TABLE[s])}return a},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(Gf.SYMBOL_TABLE.length).map(function(e){return new Array(Gf.BARS_IN_MODULE)}),e}();const Ah=Sh;const Ih=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(e){this.segmentIndex=e},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(e){this.fileId=e},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(e){this.optionalData=e},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(e){this.lastSegment=e},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(e){this.segmentCount=e},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(e){this.sender=e},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(e){this.addressee=e},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(e){this.fileName=e},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(e){this.fileSize=e},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(e){this.checksum=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e}();const Nh=function(){function e(){}return e.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e}();var xh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Oh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xh(t,e),t.kind="NullPointerException",t}(tl);const Th=function(){function e(){}return e.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},e.prototype.writeBytesOffset=function(e,t,n){if(null==e)throw new Oh;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new fl;if(0!==n)for(var r=0;r<n;r++)this.write(e[t+r])},e.prototype.flush=function(){},e.prototype.close=function(){},e}();var Rh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ph=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rh(t,e),t}(tl);var kh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dh=function(e){function t(t){void 0===t&&(t=32);var n=e.call(this)||this;if(n.count=0,t<0)throw new il("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return kh(t,e),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new Ph;t=vl.MAX_VALUE}this.buf=yl.copyOfUint8Array(this.buf,t)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new fl;this.ensureCapacity(this.count+n),ul.arraycopy(e,t,this.buf,this.count,n),this.count+=n},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return yl.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Th);const jh=Dh;var Mh,Lh;function Bh(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Fh(e){if("undefined"===typeof Lh&&(Lh=Bh()),null===Lh)throw new Error("BigInt is not supported!");return Lh(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Mh||(Mh={}));var Uh=function(){function e(){}return e.decode=function(t,n){var r=new Dl(""),o=xl.ISO8859_1;r.enableDecoding(o);for(var i=1,a=t[i++],s=new Ih;i<t[0];){switch(a){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(a,t,o,i,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,r);break;case e.ECI_CHARSET:xl.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new Sl;default:i--,i=e.textCompaction(t,i,r)}if(!(i<t.length))throw Sl.getFormatInstance();a=t[i++]}if(0===r.length())throw Sl.getFormatInstance();var l=new rc(null,r.toString(),null,n);return l.setOther(s),l},e.decodeMacroBlock=function(t,n,r){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Sl.getFormatInstance();for(var o=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=t[n];r.setSegmentIndex(vl.parseInt(e.decodeBase900toBase10(o,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Dl;n=e.textCompaction(t,n,a),r.setFileId(a.toString());var s=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Dl;n=e.textCompaction(t,n+1,l),r.setFileName(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Dl;n=e.textCompaction(t,n+1,c),r.setSender(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Dl;n=e.textCompaction(t,n+1,u),r.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new Dl;n=e.numericCompaction(t,n+1,d),r.setSegmentCount(vl.parseInt(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Dl;n=e.numericCompaction(t,n+1,f),r.setTimestamp(Nh.parseLong(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Dl;n=e.numericCompaction(t,n+1,h),r.setChecksum(vl.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Dl;n=e.numericCompaction(t,n+1,p),r.setFileSize(Nh.parseLong(p.toString()));break;default:throw Sl.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw Sl.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(yl.copyOfRange(t,s,s+g))}return n},e.textCompaction=function(t,n,r){for(var o=new Int32Array(2*(t[0]-n)),i=new Int32Array(2*(t[0]-n)),a=0,s=!1;n<t[0]&&!s;){var l=t[n++];if(l<e.TEXT_COMPACTION_MODE_LATCH)o[a]=l/30,o[a+1]=l%30,a+=2;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:o[a++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=t[n++],i[a]=l,a++}}return e.decodeTextCompaction(o,i,a,r),n},e.decodeTextCompaction=function(t,n,r,o){for(var i=Mh.ALPHA,a=Mh.ALPHA,s=0;s<r;){var l=t[s],c="";switch(i){case Mh.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.LL:i=Mh.LOWER;break;case e.ML:i=Mh.MIXED;break;case e.PS:a=i,i=Mh.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}break;case Mh.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case e.AS:a=i,i=Mh.ALPHA_SHIFT;break;case e.ML:i=Mh.MIXED;break;case e.PS:a=i,i=Mh.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}break;case Mh.MIXED:if(l<e.PL)c=e.MIXED_CHARS[l];else switch(l){case e.PL:i=Mh.PUNCT;break;case 26:c=" ";break;case e.LL:i=Mh.LOWER;break;case e.AL:i=Mh.ALPHA;break;case e.PS:a=i,i=Mh.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}break;case Mh.PUNCT:if(l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Mh.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}break;case Mh.ALPHA_SHIFT:if(i=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}break;case Mh.PUNCT_SHIFT:if(i=a,l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Mh.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Mh.ALPHA}}""!==c&&o.append(c),s++}},e.byteCompaction=function(t,n,r,o,i){var a=new jh,s=0,l=0,c=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),d=n[o++];o<n[0]&&!c;)switch(u[s++]=d,l=900*l+d,d=n[o++]){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,c=!0;break;default:if(s%5===0&&s>0){for(var f=0;f<6;++f)a.write(Number(Fh(l)>>Fh(8*(5-f))));l=0,s=0}}o===n[0]&&d<e.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=d);for(var h=0;h<s;h++)a.write(u[h]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!c;){var p=n[o++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,c=!0}if(s%5===0&&s>0){for(f=0;f<6;++f)a.write(Number(Fh(l)>>Fh(8*(5-f))));l=0,s=0}}}return i.append(Rl.decode(a.toByteArray(),r)),o},e.numericCompaction=function(t,n,r){for(var o=0,i=!1,a=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var s=t[n++];if(n===t[0]&&(i=!0),s<e.TEXT_COMPACTION_MODE_LATCH)a[o]=s,o++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,i=!0}(o%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(e.decodeBase900toBase10(a,o)),o=0)}return n},e.decodeBase900toBase10=function(t,n){for(var r=Fh(0),o=0;o<n;o++)r+=e.EXP900[n-o-1]*Fh(t[o]);var i=r.toString();if("1"!==i.charAt(0))throw new Sl;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",e.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",e.EXP900=Bh()?function(){var e=[];e[0]=Fh(1);var t=Fh(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}();const zh=Uh;var Vh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hh=function(){function e(){}return e.decode=function(t,n,r,o,i,a,s){for(var l,c=new ih(t,n,r,o,i),u=null,d=null,f=!0;;f=!1){if(null!=n&&(u=e.getRowIndicatorColumn(t,c,n,!0,a,s)),null!=o&&(d=e.getRowIndicatorColumn(t,c,o,!1,a,s)),null==(l=e.merge(u,d)))throw Ll.getNotFoundInstance();var h=l.getBoundingBox();if(!f||null==h||!(h.getMinY()<c.getMinY()||h.getMaxY()>c.getMaxY()))break;c=h}l.setBoundingBox(c);var p=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,u),l.setDetectionResultColumn(p,d);for(var g=null!=u,m=1;m<=p;m++){var y=g?m:p-m;if(void 0===l.getDetectionResultColumn(y)){var v=void 0;v=0===y||y===p?new wh(c,0===y):new dh(c),l.setDetectionResultColumn(y,v);for(var w=-1,b=w,C=c.getMinY();C<=c.getMaxY();C++){if((w=e.getStartColumn(l,y,C,g))<0||w>c.getMaxX()){if(-1===b)continue;w=b}var E=e.detectCodeword(t,c.getMinX(),c.getMaxX(),g,w,C,a,s);null!=E&&(v.setCodeword(C,E),b=w,a=Math.min(a,E.getWidth()),s=Math.max(s,E.getWidth()))}}}return e.createDecoderResult(l)},e.merge=function(t,n){if(null==t&&null==n)return null;var r=e.getBarcodeMetadata(t,n);if(null==r)return null;var o=ih.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new Eh(r,o)},e.adjustBoundingBox=function(t){var n,r;if(null==t)return null;var o=t.getRowHeights();if(null==o)return null;var i=e.getMax(o),a=0;try{for(var s=Vh(o),l=s.next();!l.done;l=s.next()){var c=l.value;if(a+=i-c,c>0)break}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),d=0;a>0&&null==u[d];d++)a--;var f=0;for(d=o.length-1;d>=0&&(f+=i-o[d],!(o[d]>0));d--);for(d=u.length-1;f>0&&null==u[d];d--)f--;return t.getBoundingBox().addMissingRows(a,f,t.isLeft())},e.getMax=function(e){var t,n,r=-1;try{for(var o=Vh(e),i=o.next();!i.done;i=o.next()){var a=i.value;r=Math.max(r,a)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.getBarcodeMetadata=function(e,t){var n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,n,r,o,i,a){for(var s=new wh(n,o),l=0;l<2;l++)for(var c=0===l?1:-1,u=Math.trunc(Math.trunc(r.getX())),d=Math.trunc(Math.trunc(r.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=c){var f=e.detectCodeword(t,0,t.getWidth(),o,u,d,i,a);null!=f&&(s.setCodeword(d,f),u=o?f.getStartX():f.getEndX())}return s},e.adjustCodewordCount=function(t,n){var r=n[0][1],o=r.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===o.length){if(i<1||i>Gf.MAX_CODEWORDS_IN_BARCODE)throw Ll.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var r=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],a=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var l=0;l<t.getBarcodeColumnCount();l++){var c=n[s][l+1].getValue(),u=s*t.getBarcodeColumnCount()+l;0===c.length?r.push(u):1===c.length?o[u]=c[0]:(a.push(u),i.push(c))}for(var d=new Array(i.length),f=0;f<d.length;f++)d[f]=i[f];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Gf.toIntArray(r),Gf.toIntArray(a),d)},e.createDecoderResultFromAmbiguousValues=function(t,n,r,o,i){for(var a=new Int32Array(o.length),s=100;s-- >0;){for(var l=0;l<a.length;l++)n[o[l]]=i[l][a[l]];try{return e.decodeCodewords(n,t,r)}catch(c){if(!(c instanceof ll))throw c}if(0===a.length)throw ll.getChecksumInstance();for(l=0;l<a.length;l++){if(a[l]<i[l].length-1){a[l]++;break}if(a[l]=0,l===a.length-1)throw ll.getChecksumInstance()}}throw ll.getChecksumInstance()},e.createBarcodeMatrix=function(e){for(var t,n,r,o,i=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<i.length;a++)for(var s=0;s<i[a].length;s++)i[a][s]=new gh;var l=0;try{for(var c=Vh(e.getDetectionResultColumns()),u=c.next();!u.done;u=c.next()){var d=u.value;if(null!=d)try{for(var f=(r=void 0,Vh(d.getCodewords())),h=f.next();!h.done;h=f.next()){var p=h.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=i.length)continue;i[g][l].setValue(p.getValue())}}}}catch(m){r={error:m}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}l++}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i},e.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,r,o){var i,a,s=o?1:-1,l=null;if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodeword(r)),null!=l)return o?l.getEndX():l.getStartX();if(null!=(l=t.getDetectionResultColumn(n).getCodewordNearby(r)))return o?l.getStartX():l.getEndX();if(e.isValidBarcodeColumn(t,n-s)&&(l=t.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=l)return o?l.getEndX():l.getStartX();for(var c=0;e.isValidBarcodeColumn(t,n-s);){n-=s;try{for(var u=(i=void 0,Vh(t.getDetectionResultColumn(n).getCodewords())),d=u.next();!d.done;d=u.next()){var f=d.value;if(null!=f)return(o?f.getEndX():f.getStartX())+s*c*(f.getEndX()-f.getStartX())}}catch(h){i={error:h}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}c++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,r,o,i,a,s,l){i=e.adjustCodewordStartColumn(t,n,r,o,i,a);var c,u=e.getModuleBitCount(t,n,r,o,i,a);if(null==u)return null;var d=bc.sum(u);if(o)c=i+d;else{for(var f=0;f<u.length/2;f++){var h=u[f];u[f]=u[u.length-1-f],u[u.length-1-f]=h}i=(c=i)-d}if(!e.checkCodewordSkew(d,s,l))return null;var p=Ah.getDecodedValue(u),g=Gf.getCodeword(p);return-1===g?null:new _h(i,c,e.getCodewordBucketNumber(p),g)},e.getModuleBitCount=function(e,t,n,r,o,i){for(var a=o,s=new Int32Array(8),l=0,c=r?1:-1,u=r;(r?a<n:a>=t)&&l<s.length;)e.get(a,i)===u?(s[l]++,a+=c):(l++,u=!u);return l===s.length||a===(r?n:t)&&l===s.length-1?s:null},e.getNumberOfECCodeWords=function(e){return 2<<e},e.adjustCodewordStartColumn=function(t,n,r,o,i,a){for(var s=i,l=o?-1:1,c=0;c<2;c++){for(;(o?s>=n:s<r)&&o===t.get(s,a);){if(Math.abs(i-s)>e.CODEWORD_SKEW_SIZE)return i;s+=l}l=-l,o=!o}return s},e.checkCodewordSkew=function(t,n,r){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,r){if(0===t.length)throw Sl.getFormatInstance();var o=1<<n+1,i=e.correctErrors(t,r,o);e.verifyCodewordCount(t,o);var a=zh.decode(t,""+n);return a.setErrorsCorrected(i),a.setErasures(r.length),a},e.correctErrors=function(t,n,r){if(null!=n&&n.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw ll.getChecksumInstance();return e.errorCorrection.decode(t,r,n)},e.verifyCodewordCount=function(e,t){if(e.length<4)throw Sl.getFormatInstance();var n=e[0];if(n>e.length)throw Sl.getFormatInstance();if(0===n){if(!(t<e.length))throw Sl.getFormatInstance();e[0]=e.length-t}},e.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,r=t.length-1;!((1&e)!==n&&(n=1&e,--r<0));)t[r]++,e>>=1;return t},e.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},e.toString=function(e){for(var t=new lh,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var r=0;r<e[n].length;r++){var o=e[n][r];0===o.getValue().length?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new oh,e}();const Wh=Hh;var Gh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xh=function(){function e(){}return e.prototype.decode=function(t,n){void 0===n&&(n=null);var r=e.decode(t,n,!1);if(null==r||0===r.length||null==r[0])throw Ll.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,n){void 0===n&&(n=null);try{return e.decode(t,n,!0)}catch(r){if(r instanceof Sl||r instanceof ll)throw Ll.getNotFoundInstance();throw r}},e.decode=function(t,n,r){var o,i,a=new Array,s=qf.detectMultiple(t,n,r);try{for(var l=Gh(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,d=Wh.decode(s.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),f=new Ql(d.getText(),d.getRawBytes(),void 0,u,ec.PDF_417);f.putMetadata(nc.ERROR_CORRECTION_LEVEL,d.getECLevel());var h=d.getOther();null!=h&&f.putMetadata(nc.PDF417_EXTRA_METADATA,h),a.push(f)}}catch(p){o={error:p}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return a.map(function(e){return e})},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?vl.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*Gf.MODULES_IN_CODEWORD/Gf.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*Gf.MODULES_IN_CODEWORD/Gf.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*Gf.MODULES_IN_CODEWORD/Gf.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*Gf.MODULES_IN_CODEWORD/Gf.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}();const Yh=Xh;var Kh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kh(t,e),t.kind="ReaderException",t}(tl);var Zh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$h=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!==e&&void 0!==e&&void 0!==e.get(El.TRY_HARDER),n=null===e||void 0===e?null:e.get(El.POSSIBLE_FORMATS),r=new Array;if(null!==n&&void 0!==n){var o=n.some(function(e){return e===ec.UPC_A||e===ec.UPC_E||e===ec.EAN_13||e===ec.EAN_8||e===ec.CODABAR||e===ec.CODE_39||e===ec.CODE_93||e===ec.CODE_128||e===ec.ITF||e===ec.RSS_14||e===ec.RSS_EXPANDED});o&&!t&&r.push(new Rd(e)),n.includes(ec.QR_CODE)&&r.push(new Vf),n.includes(ec.DATA_MATRIX)&&r.push(new Zd),n.includes(ec.AZTEC)&&r.push(new jc),n.includes(ec.PDF_417)&&r.push(new Yh),o&&t&&r.push(new Rd(e))}0===r.length&&(t||r.push(new Rd(e)),r.push(new Vf),r.push(new Zd),r.push(new jc),r.push(new Yh),t&&r.push(new Rd(e))),this.readers=r},e.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var n=Zh(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.decodeInternal=function(e){var t,n;if(null===this.readers)throw new qh("No readers where selected, nothing can be read.");try{for(var r=Zh(this.readers),o=r.next();!o.done;o=r.next()){var i=o.value;try{return i.decode(e,this.hints)}catch(a){if(a instanceof qh)continue}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}throw new Ll("No MultiFormat Readers were able to detect the code.")},e}();const Qh=$h;var Jh,ep=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tp=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=500);var r=new Qh;return r.setHints(t),e.call(this,r,n)||this}return ep(t,e),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t}($l),np=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rp=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Yh,t)||this}np(t,e)}($l),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Vf,t)||this}rp(t,e)}($l);!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"}(Jh||(Jh={}));const op=Jh;const ip=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ac(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],r=this.field,o=t.length;o<=e;o++){var i=n.multiply(new ac(r,Int32Array.from([1,r.exp(o-1+r.getGeneratorBase())])));t.push(i),n=i}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new il("No error correction bytes");var n=e.length-t;if(n<=0)throw new il("No data bytes provided");var r=this.buildGenerator(t),o=new Int32Array(n);ul.arraycopy(e,0,o,0,n);for(var i=new ac(this.field,o),a=(i=i.multiplyByMonomial(t,1)).divide(r)[1].getCoefficients(),s=t-a.length,l=0;l<s;l++)e[n+l]=0;ul.arraycopy(a,0,e,n+s,a.length)},e}();const ap=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i-1;a++)for(var s=r[a],l=0;l<o-1;l++){var c=s[l];c===s[l+1]&&c===r[a+1][l]&&c===r[a+1][l+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i;a++)for(var s=0;s<o;s++){var l=r[a];s+6<o&&1===l[s]&&0===l[s+1]&&1===l[s+2]&&1===l[s+3]&&1===l[s+4]&&0===l[s+5]&&1===l[s+6]&&(e.isWhiteHorizontal(l,s-4,s)||e.isWhiteHorizontal(l,s+7,s+11))&&n++,a+6<i&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(e.isWhiteVertical(r,s,a-4,a)||e.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var r=t;r<n;r++)if(1===e[r])return!1;return!0},e.isWhiteVertical=function(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var o=n;o<r;o++)if(1===e[o][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i;a++)for(var s=r[a],l=0;l<o;l++)1===s[l]&&n++;var c=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*e.N4},e.getDataMaskBit=function(e,t,n){var r,o;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:r=(1&(o=n*t))+o%3;break;case 6:r=(1&(o=n*t))+o%3&1;break;case 7:r=(o=n*t)%3+(n+t&1)&1;break;default:throw new il("Invalid mask pattern: "+e)}return 0===r},e.applyMaskPenaltyRule1Internal=function(t,n){for(var r=0,o=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),a=t.getArray(),s=0;s<o;s++){for(var l=0,c=-1,u=0;u<i;u++){var d=n?a[s][u]:a[u][s];d===c?l++:(l>=5&&(r+=e.N1+(l-5)),l=1,c=d)}l>=5&&(r+=e.N1+(l-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}();var sp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lp=function(){function e(e,t){this.width=e,this.height=t;for(var n=new Array(t),r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},e.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},e.prototype.clear=function(e){var t,n;try{for(var r=sp(this.bytes),o=r.next();!o.done;o=r.next()){var i=o.value;yl.fill(i,e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var i=this.bytes[r],a=n.bytes[r],s=0,l=this.width;s<l;++s)if(i[s]!==a[s])return!1;return!0},e.prototype.toString=function(){for(var e=new Dl,t=0,n=this.height;t<n;++t){for(var r=this.bytes[t],o=0,i=this.width;o<i;++o)switch(r[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}();const cp=lp;const up=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new Dl;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}();var dp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dp(t,e),t.kind="WriterException",t}(tl);var hp=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,n,r,o,i){e.clearMatrix(i),e.embedBasicPatterns(r,i),e.embedTypeInfo(n,o,i),e.maybeEmbedVersionInfo(r,i),e.embedDataBits(t,o,i)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,r){var o=new bl;e.makeTypeInfoBits(t,n,o);for(var i=0,a=o.getSize();i<a;++i){var s=o.get(o.getSize()-1-i),l=e.TYPE_INFO_COORDINATES[i],c=l[0],u=l[1];if(r.setBoolean(c,u,s),i<8){var d=r.getWidth()-i-1,f=8;r.setBoolean(d,f,s)}else{d=8,f=r.getHeight()-7+(i-8);r.setBoolean(d,f,s)}}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var r=new bl;e.makeVersionInfoBits(t,r);for(var o=17,i=0;i<6;++i)for(var a=0;a<3;++a){var s=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,i,s)}}},e.embedDataBits=function(t,n,r){for(var o=0,i=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(e.isEmpty(r.get(c,s))){var u=void 0;o<t.getSize()?(u=t.get(o),++o):u=!1,255!==n&&ap.getDataMaskBit(n,c,s)&&(u=!u),r.setBoolean(c,s,u)}}s+=i}s+=i=-i,a-=2}if(o!==t.getSize())throw new fp("Not all bits consumed: "+o+"/"+t.getSize())},e.findMSBSet=function(e){return 32-vl.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,n){if(0===n)throw new il("0 polynomial");var r=e.findMSBSet(n);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=n<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,n,r){if(!up.isValidMaskPattern(n))throw new fp("Invalid mask pattern");var o=t.getBits()<<3|n;r.appendBits(o,5);var i=e.calculateBCHCode(o,e.TYPE_INFO_POLY);r.appendBits(i,10);var a=new bl;if(a.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new fp("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new fp("should not happen but we got: "+n.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var r=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,r),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,r)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new fp;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,r){for(var o=0;o<8;++o){if(!e.isEmpty(r.get(t+o,n)))throw new fp;r.setNumber(t+o,n,0)}},e.embedVerticalSeparationPattern=function(t,n,r){for(var o=0;o<7;++o){if(!e.isEmpty(r.get(t,n+o)))throw new fp;r.setNumber(t,n+o,0)}},e.embedPositionAdjustmentPattern=function(t,n,r){for(var o=0;o<5;++o)for(var i=e.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(t+a,n+o,i[a])},e.embedPositionDetectionPattern=function(t,n,r){for(var o=0;o<7;++o)for(var i=e.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(t+a,n+o,i[a])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t);e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t);e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,o=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,a=o.length;i!==a;i++){var s=o[i];if(s>=0)for(var l=0;l!==a;l++){var c=o[l];c>=0&&e.isEmpty(n.get(c,s))&&e.embedPositionAdjustmentPattern(c-2,s-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}();const pp=hp;const gp=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}();var mp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yp=function(){function e(){}return e.calculateMaskPenalty=function(e){return ap.applyMaskPenaltyRule1(e)+ap.applyMaskPenaltyRule2(e)+ap.applyMaskPenaltyRule3(e)+ap.applyMaskPenaltyRule4(e)},e.encode=function(t,n,r){void 0===r&&(r=null);var o=e.DEFAULT_BYTE_MODE_ENCODING,i=null!==r&&void 0!==r.get(op.CHARACTER_SET);i&&(o=r.get(op.CHARACTER_SET).toString());var a=this.chooseMode(t,o),s=new bl;if(a===Cf.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==o)){var l=xl.getCharacterSetECIByName(o);void 0!==l&&this.appendECI(l,s)}this.appendModeInfo(a,s);var c,u=new bl;if(this.appendBytes(t,a,u,o),null!==r&&void 0!==r.get(op.QR_VERSION)){var d=Number.parseInt(r.get(op.QR_VERSION).toString(),10);c=df.getVersionForNumber(d);var f=this.calculateBitsNeeded(a,s,u,c);if(!this.willFit(f,c,n))throw new fp("Data too big for requested version")}else c=this.recommendVersion(n,a,s,u);var h=new bl;h.appendBitArray(s);var p=a===Cf.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(p,c,a,h),h.appendBitArray(u);var g=c.getECBlocksForLevel(n),m=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,h);var y=this.interleaveWithECBytes(h,c.getTotalCodewords(),m,g.getNumBlocks()),v=new up;v.setECLevel(n),v.setMode(a),v.setVersion(c);var w=c.getDimensionForVersion(),b=new cp(w,w),C=this.chooseMaskPattern(y,n,c,b);return v.setMaskPattern(C),pp.buildMatrix(y,n,c,C,b),v.setMatrix(b),v},e.recommendVersion=function(e,t,n,r){var o=this.calculateBitsNeeded(t,n,r,df.getVersionForNumber(1)),i=this.chooseVersion(o,e),a=this.calculateBitsNeeded(t,n,r,i);return this.chooseVersion(a,e)},e.calculateBitsNeeded=function(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(void 0===n&&(n=null),xl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return Cf.KANJI;for(var r=!1,o=!1,i=0,a=t.length;i<a;++i){var s=t.charAt(i);if(e.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return Cf.BYTE;o=!0}}return o?Cf.ALPHANUMERIC:r?Cf.NUMERIC:Cf.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=Rl.encode(e,xl.SJIS)}catch(i){return!1}var n=t.length;if(n%2!==0)return!1;for(var r=0;r<n;r+=2){var o=255&t[r];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},e.chooseMaskPattern=function(e,t,n,r){for(var o=Number.MAX_SAFE_INTEGER,i=-1,a=0;a<up.NUM_MASK_PATTERNS;a++){pp.buildMatrix(e,t,n,a,r);var s=this.calculateMaskPenalty(r);s<o&&(o=s,i=a)}return i},e.chooseVersion=function(t,n){for(var r=1;r<=40;r++){var o=df.getVersionForNumber(r);if(e.willFit(t,o,n))return o}throw new fp("Data too big")},e.willFit=function(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var n=8*e;if(t.getSize()>n)throw new fp("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var r=0;r<4&&t.getSize()<n;++r)t.appendBit(!1);var o=7&t.getSize();if(o>0)for(r=o;r<8;r++)t.appendBit(!1);var i=e-t.getSizeInBytes();for(r=0;r<i;++r)t.appendBits(0===(1&r)?236:17,8);if(t.getSize()!==n)throw new fp("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,r,o,i){if(r>=n)throw new fp("Block ID too large");var a=e%n,s=n-a,l=Math.floor(e/n),c=l+1,u=Math.floor(t/n),d=u+1,f=l-u,h=c-d;if(f!==h)throw new fp("EC bytes mismatch");if(n!==s+a)throw new fp("RS blocks mismatch");if(e!==(u+f)*s+(d+h)*a)throw new fp("Total bytes mismatch");r<s?(o[0]=u,i[0]=f):(o[0]=d,i[0]=h)},e.interleaveWithECBytes=function(t,n,r,o){var i,a,s,l;if(t.getSizeInBytes()!==r)throw new fp("Number of bits and data bytes does not match");for(var c=0,u=0,d=0,f=new Array,h=0;h<o;++h){var p=new Int32Array(1),g=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,r,o,h,p,g);var m=p[0],y=new Uint8Array(m);t.toBytes(8*c,y,0,m);var v=e.generateECBytes(y,g[0]);f.push(new gp(y,v)),u=Math.max(u,m),d=Math.max(d,v.length),c+=p[0]}if(r!==c)throw new fp("Data bytes does not match offset");var w=new bl;for(h=0;h<u;++h)try{for(var b=(i=void 0,mp(f)),C=b.next();!C.done;C=b.next()){h<(y=C.value.getDataBytes()).length&&w.appendBits(y[h],8)}}catch(S){i={error:S}}finally{try{C&&!C.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}for(h=0;h<d;++h)try{for(var E=(s=void 0,mp(f)),_=E.next();!_.done;_=E.next()){h<(v=_.value.getErrorCorrectionBytes()).length&&w.appendBits(v[h],8)}}catch(A){s={error:A}}finally{try{_&&!_.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}if(n!==w.getSizeInBytes())throw new fp("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},e.generateECBytes=function(e,t){for(var n=e.length,r=new Int32Array(n+t),o=0;o<n;o++)r[o]=255&e[o];new ip(dc.QR_CODE_FIELD_256).encode(r,t);var i=new Uint8Array(t);for(o=0;o<t;o++)i[o]=r[n+o];return i},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,n,r){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new fp(e+" is bigger than "+((1<<o)-1));r.appendBits(e,o)},e.appendBytes=function(t,n,r,o){switch(n){case Cf.NUMERIC:e.appendNumericBytes(t,r);break;case Cf.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case Cf.BYTE:e.append8BitBytes(t,r,o);break;case Cf.KANJI:e.appendKanjiBytes(t,r);break;default:throw new fp("Invalid mode: "+n)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var r=t.length,o=0;o<r;){var i=e.getDigit(t.charAt(o));if(o+2<r){var a=e.getDigit(t.charAt(o+1)),s=e.getDigit(t.charAt(o+2));n.appendBits(100*i+10*a+s,10),o+=3}else if(o+1<r){a=e.getDigit(t.charAt(o+1));n.appendBits(10*i+a,7),o+=2}else n.appendBits(i,4),o++}},e.appendAlphanumericBytes=function(t,n){for(var r=t.length,o=0;o<r;){var i=e.getAlphanumericCode(t.charCodeAt(o));if(-1===i)throw new fp;if(o+1<r){var a=e.getAlphanumericCode(t.charCodeAt(o+1));if(-1===a)throw new fp;n.appendBits(45*i+a,11),o+=2}else n.appendBits(i,6),o++}},e.append8BitBytes=function(e,t,n){var r;try{r=Rl.encode(e,n)}catch(s){throw new fp(s)}for(var o=0,i=r.length;o!==i;o++){var a=r[o];t.appendBits(a,8)}},e.appendKanjiBytes=function(e,t){var n;try{n=Rl.encode(e,xl.SJIS)}catch(l){throw new fp(l)}for(var r=n.length,o=0;o<r;o+=2){var i=(255&n[o])<<8&4294967295|255&n[o+1],a=-1;if(i>=33088&&i<=40956?a=i-33088:i>=57408&&i<=60351&&(a=i-49472),-1===a)throw new fp("Invalid byte sequence");var s=192*(a>>8)+(255&a);t.appendBits(s,13)}},e.appendECI=function(e,t){t.appendBits(Cf.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=xl.UTF8.getName(),e}();const vp=yp;!function(){function e(){}e.prototype.write=function(t,n,r,o){if(void 0===o&&(o=null),0===t.length)throw new il("Found empty contents");if(n<0||r<0)throw new il("Requested dimensions are too small: "+n+"x"+r);var i=Jd.L,a=e.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(op.ERROR_CORRECTION)&&(i=Jd.fromString(o.get(op.ERROR_CORRECTION).toString())),void 0!==o.get(op.MARGIN)&&(a=Number.parseInt(o.get(op.MARGIN).toString(),10)));var s=vp.encode(t,i,o);return this.renderResult(s,n,r,a)},e.prototype.writeToDom=function(e,t,n,r,o){void 0===o&&(o=null),"string"===typeof e&&(e=document.querySelector(e));var i=this.write(t,n,r,o);e&&e.appendChild(i)},e.prototype.renderResult=function(e,t,n,r){var o=e.getMatrix();if(null===o)throw new gc;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,l=a+2*r,c=Math.max(t,s),u=Math.max(n,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),f=Math.floor((c-i*d)/2),h=Math.floor((u-a*d)/2),p=this.createSVGElement(c,u),g=0,m=h;g<a;g++,m+=d)for(var y=0,v=f;y<i;y++,v+=d)if(1===o.get(y,g)){var w=this.createSvgRectElement(v,m,d,d);p.appendChild(w)}return p},e.prototype.createSVGElement=function(t,n){var r=document.createElementNS(e.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",n.toString()),r},e.prototype.createSvgRectElement=function(t,n,r,o){var i=document.createElementNS(e.SVG_NS,"rect");return i.setAttributeNS(null,"x",t.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",o.toString()),i.setAttributeNS(null,"fill","#000000"),i},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}();const wp=function(){function e(){}return e.prototype.encode=function(t,n,r,o,i){if(0===t.length)throw new il("Found empty contents");if(n!==ec.QR_CODE)throw new il("Can only encode QR_CODE, but got "+n);if(r<0||o<0)throw new il("Requested dimensions are too small: "+r+"x"+o);var a=Jd.L,s=e.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(op.ERROR_CORRECTION)&&(a=Jd.fromString(i.get(op.ERROR_CORRECTION).toString())),void 0!==i.get(op.MARGIN)&&(s=Number.parseInt(i.get(op.MARGIN).toString(),10)));var l=vp.encode(t,a,i);return e.renderResult(l,r,o,s)},e.renderResult=function(e,t,n,r){var o=e.getMatrix();if(null===o)throw new gc;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,l=a+2*r,c=Math.max(t,s),u=Math.max(n,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),f=Math.floor((c-i*d)/2),h=Math.floor((u-a*d)/2),p=new jl(c,u),g=0,m=h;g<a;g++,m+=d)for(var y=0,v=f;y<i;y++,v+=d)1===o.get(y,g)&&p.setRegion(v,m,d,d);return p},e.QUIET_ZONE_SIZE=4,e}();!function(){function e(){}e.prototype.encode=function(e,t,n,r,o){if(t!==ec.QR_CODE)throw new il("No encoder available for format "+t);return(new wp).encode(e,t,n,r,o)}}();var bp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t,n,r,o,i,a,s,l){var c=e.call(this,a,s)||this;if(c.yuvData=t,c.dataWidth=n,c.dataHeight=r,c.left=o,c.top=i,o+a>n||i+s>r)throw new il("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(a,s),c}bp(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new il("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return ul.arraycopy(this.yuvData,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var n=e*t,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return ul.arraycopy(this.yuvData,o,r,0,n),r;for(var i=0;i<t;i++){var a=i*e;ul.arraycopy(this.yuvData,o,r,a,e),o+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,o){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,o,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),o=this.yuvData,i=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var s=a*e,l=0;l<e;l++){var c=255&o[i+l*t.THUMBNAIL_SCALE_FACTOR];r[s+l]=4278190080|65793*c}i+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return r},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var n=this.yuvData,r=0,o=this.top*this.dataWidth+this.left;r<t;r++,o+=this.dataWidth)for(var i=o+e/2,a=o,s=o+e-1;a<i;a++,s--){var l=n[a];n[a]=n[s],n[s]=l}},t.prototype.invert=function(){return new Wl(this)},t.THUMBNAIL_SCALE_FACTOR=2}(Vl);var Cp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t,n,r,o,i,a,s){var l=e.call(this,n,r)||this;if(l.dataWidth=o,l.dataHeight=i,l.left=a,l.top=s,4===t.BYTES_PER_ELEMENT){for(var c=n*r,u=new Uint8ClampedArray(c),d=0;d<c;d++){var f=t[d],h=f>>16&255,p=f>>7&510,g=255&f;u[d]=(h+p+g)/4&255}l.luminances=u}else l.luminances=t;if(void 0===o&&(l.dataWidth=n),void 0===i&&(l.dataHeight=r),void 0===a&&(l.left=0),void 0===s&&(l.top=0),l.left+n>l.dataWidth||l.top+r>l.dataHeight)throw new il("Crop rectangle does not fit within image data.");return l}Cp(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new il("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return ul.arraycopy(this.luminances,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var n=e*t,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return ul.arraycopy(this.luminances,o,r,0,n),r;for(var i=0;i<t;i++){var a=i*e;ul.arraycopy(this.luminances,o,r,a,e),o+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,o){return new t(this.luminances,r,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)},t.prototype.invert=function(){return new Wl(this)}}(Vl);var Ep=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ep(t,e),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(xl);const Sp=function(){function e(){}return e.ISO_8859_1=xl.ISO8859_1,e}();const Ap=function(){function e(e,t,n){this.codewords=e,this.numcols=t,this.numrows=n,this.bits=new Uint8Array(t*n),yl.fill(this.bits,2)}return e.prototype.getNumrows=function(){return this.numrows},e.prototype.getNumcols=function(){return this.numcols},e.prototype.getBits=function(){return this.bits},e.prototype.getBit=function(e,t){return 1===this.bits[t*this.numcols+e]},e.prototype.setBit=function(e,t,n){this.bits[t*this.numcols+e]=n?1:0},e.prototype.noBit=function(e,t){return 2===this.bits[t*this.numcols+e]},e.prototype.place=function(){var e=0,t=4,n=0;do{t===this.numrows&&0===n&&this.corner1(e++),t===this.numrows-2&&0===n&&this.numcols%4!==0&&this.corner2(e++),t===this.numrows-2&&0===n&&this.numcols%8===4&&this.corner3(e++),t===this.numrows+4&&2===n&&this.numcols%8===0&&this.corner4(e++);do{t<this.numrows&&n>=0&&this.noBit(n,t)&&this.utah(t,n,e++),t-=2,n+=2}while(t>=0&&n<this.numcols);t++,n+=3;do{t>=0&&n<this.numcols&&this.noBit(n,t)&&this.utah(t,n,e++),t+=2,n-=2}while(t<this.numrows&&n>=0);t+=3,n++}while(t<this.numrows||n<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},e.prototype.module=function(e,t,n,r){e<0&&(e+=this.numrows,t+=4-(this.numrows+4)%8),t<0&&(t+=this.numcols,e+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(n);o&=1<<8-r,this.setBit(t,e,0!==o)},e.prototype.utah=function(e,t,n){this.module(e-2,t-2,n,1),this.module(e-2,t-1,n,2),this.module(e-1,t-2,n,3),this.module(e-1,t-1,n,4),this.module(e-1,t,n,5),this.module(e,t-2,n,6),this.module(e,t-1,n,7),this.module(e,t,n,8)},e.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},e.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},e}();var Ip,Np,xp=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],Op=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],Tp=(Ip=function(e,t){for(var n=1,r=0;r<255;r++)t[r]=n,e[n]=r,(n*=2)>=256&&(n^=301);return{LOG:e,ALOG:t}}([],[]),Ip.LOG),Rp=Ip.ALOG;!function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"}(Np||(Np={}));var Pp="[)>\x1e05\x1d",kp="[)>\x1e06\x1d",Dp="\x1e\x04",jp=function(){function e(){}return e.encodeECC200=function(e,t){if(e.length!==t.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var n=new Dl;n.append(e);var r=t.getInterleavedBlockCount();if(1===r){var o=this.createECCBlock(e,t.getErrorCodewords());n.append(o)}else{for(var i=[],a=[],s=0;s<r;s++)i[s]=t.getDataLengthForInterleavedBlock(s+1),a[s]=t.getErrorLengthForInterleavedBlock(s+1);for(var l=0;l<r;l++){for(var c=new Dl,u=l;u<t.getDataCapacity();u+=r)c.append(e.charAt(u));o=this.createECCBlock(c.toString(),a[l]);for(var d=0,f=l;f<a[l]*r;f+=r)n.setCharAt(t.getDataCapacity()+f,o.charAt(d++))}}return n.toString()},e.createECCBlock=function(e,t){for(var n=-1,r=0;r<xp.length;r++)if(xp[r]===t){n=r;break}if(n<0)throw new Error("Illegal number of error correction codewords specified: "+t);var o=Op[n],i=[];for(r=0;r<t;r++)i[r]=0;for(r=0;r<e.length;r++){for(var a=i[t-1]^e.charAt(r).charCodeAt(0),s=t-1;s>0;s--)0!==a&&0!==o[s]?i[s]=i[s-1]^Rp[(Tp[a]+Tp[o[s]])%255]:i[s]=i[s-1];0!==a&&0!==o[0]?i[0]=Rp[(Tp[a]+Tp[o[0]])%255]:i[0]=0}var l=[];for(r=0;r<t;r++)l[r]=i[t-r-1];return l.map(function(e){return String.fromCharCode(e)}).join("")},e}();const Mp=jp;var Lp=function(){function e(){}return e.prototype.getEncodingMode=function(){return 0},e.prototype.encode=function(e){if(Jp.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var t=e.getCurrentChar(),n=Jp.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(n!==this.getEncodingMode())switch(n){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+n)}else Jp.isExtendedASCII(t)?(e.writeCodeword(235),e.writeCodeword(t-128+1),e.pos++):(e.writeCodeword(t+1),e.pos++)}},e.prototype.encodeASCIIDigits=function(e,t){if(Jp.isDigit(e)&&Jp.isDigit(t))return 10*(e-48)+(t-48)+130;throw new Error("not digits: "+e+t)},e}(),Bp=function(){function e(){}return e.prototype.getEncodingMode=function(){return 5},e.prototype.encode=function(e){var t=new Dl;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();if(t.append(n),e.pos++,Jp.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var r=t.length()-1,o=e.getCodewordCount()+r+1;e.updateSymbolInfo(o);var i=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||i)if(r<=249)t.setCharAt(0,kl.getCharAt(r));else{if(!(r<=1555))throw new Error("Message length not in valid ranges: "+r);t.setCharAt(0,kl.getCharAt(Math.floor(r/250)+249)),t.insert(1,kl.getCharAt(r%250))}var a=0;for(n=t.length();a<n;a++)e.writeCodeword(this.randomize255State(t.charAt(a).charCodeAt(0),e.getCodewordCount()+1))},e.prototype.randomize255State=function(e,t){var n=e+(149*t%255+1);return n<=255?n:n-256},e}(),Fp=function(){function e(){}return e.prototype.getEncodingMode=function(){return 1},e.prototype.encodeMaximal=function(e){for(var t=new Dl,n=0,r=e.pos,o=0;e.hasMoreCharacters();){var i=e.getCurrentChar();e.pos++,n=this.encodeChar(i,t),t.length()%3===0&&(r=e.pos,o=t.length())}if(o!==t.length()){var a=Math.floor(t.length()/3*2),s=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s,c=Math.floor(t.length()%3);(2===c&&2!==l||1===c&&(n>3||1!==l))&&(e.pos=r)}t.length()>0&&e.writeCodeword(230),this.handleEOD(e,t)},e.prototype.encode=function(e){for(var t=new Dl;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var r=this.encodeChar(n,t),o=2*Math.floor(t.length()/3),i=e.getCodewordCount()+o;e.updateSymbolInfo(i);var a=e.getSymbolInfo().getDataCapacity()-i;if(!e.hasMoreCharacters()){var s=new Dl;for(t.length()%3===2&&2!==a&&(r=this.backtrackOneCharacter(e,t,s,r));t.length()%3===1&&(r>3||1!==a);)r=this.backtrackOneCharacter(e,t,s,r);break}if(t.length()%3===0)if(Jp.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},e.prototype.backtrackOneCharacter=function(e,t,n,r){var o=t.length(),i=t.toString().substring(0,o-r);t.setLengthToZero(),t.append(i),e.pos--;var a=e.getCurrentChar();return r=this.encodeChar(a,n),e.resetSymbolInfo(),r},e.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},e.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),r=t.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var i=e.getSymbolInfo().getDataCapacity()-o;if(2===r){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(1===i&&1===r){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(0!==r)throw new Error("Unexpected case. Please report!");for(;t.length()>=3;)this.writeNextTriplet(e,t);(i>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},e.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return t.append(e-65+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1\x1e");var n=2;return n+=this.encodeChar(e-128,t)},e.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,r=t%256,o=new Dl;return o.append(n),o.append(r),o.toString()},e}(),Up=function(){function e(){}return e.prototype.getEncodingMode=function(){return 4},e.prototype.encode=function(e){for(var t=new Dl;e.hasMoreCharacters();){var n=e.getCurrentChar();if(this.encodeChar(n,t),e.pos++,t.length()>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(4);if(t.setLengthToZero(),t.append(r),Jp.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}t.append(kl.getCharAt(31)),this.handleEOD(e,t)},e.prototype.handleEOD=function(e,t){try{var n=t.length();if(0===n)return;if(1===n){e.updateSymbolInfo();var r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>r&&(e.updateSymbolInfo(e.getCodewordCount()+1),r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=r&&r<=2)return}if(n>4)throw new Error("Count must not exceed 4");var i=n-1,a=this.encodeToCodewords(t.toString()),s=!e.hasMoreCharacters()&&i<=2;if(i<=2)e.updateSymbolInfo(e.getCodewordCount()+i),(r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(s=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length));s?(e.resetSymbolInfo(),e.pos-=i):e.writeCodewords(a)}finally{e.signalEncoderChange(0)}},e.prototype.encodeChar=function(e,t){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?t.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?t.append(kl.getCharAt(e-64)):Jp.illegalCharacter(kl.getCharAt(e))},e.prototype.encodeToCodewords=function(e){var t=e.length;if(0===t)throw new Error("StringBuilder must not be empty");var n=(e.charAt(0).charCodeAt(0)<<18)+((t>=2?e.charAt(1).charCodeAt(0):0)<<12)+((t>=3?e.charAt(2).charCodeAt(0):0)<<6)+(t>=4?e.charAt(3).charCodeAt(0):0),r=n>>16&255,o=n>>8&255,i=255&n,a=new Dl;return a.append(r),t>=2&&a.append(o),t>=3&&a.append(i),a.toString()},e}(),zp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hp=function(){function e(e,t,n,r,o,i,a,s){void 0===a&&(a=0),void 0===s&&(s=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=r,this.matrixHeight=o,this.dataRegions=i,this.rsBlockData=a,this.rsBlockError=s}return e.lookup=function(e,t,n,r,o){var i,a;void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!0);try{for(var s=Vp(Xp),l=s.next();!l.done;l=s.next()){var c=l.value;if((1!==t||!c.rectangular)&&((2!==t||c.rectangular)&&(null==n||!(c.getSymbolWidth()<n.getWidth()||c.getSymbolHeight()<n.getHeight()))&&(null==r||!(c.getSymbolWidth()>r.getWidth()||c.getSymbolHeight()>r.getHeight()))&&e<=c.dataCapacity))return c}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},e}();const Wp=Hp;var Gp=function(e){function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return zp(t,e),t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(e){return e<=8?156:155},t}(Hp),Xp=[new Hp(!1,3,5,8,8,1),new Hp(!1,5,7,10,10,1),new Hp(!0,5,7,16,6,1),new Hp(!1,8,10,12,12,1),new Hp(!0,10,11,14,6,2),new Hp(!1,12,12,14,14,1),new Hp(!0,16,14,24,10,1),new Hp(!1,18,14,16,16,1),new Hp(!1,22,18,18,18,1),new Hp(!0,22,18,16,10,2),new Hp(!1,30,20,20,20,1),new Hp(!0,32,24,16,14,2),new Hp(!1,36,24,22,22,1),new Hp(!1,44,28,24,24,1),new Hp(!0,49,28,22,14,2),new Hp(!1,62,36,14,14,4),new Hp(!1,86,42,16,16,4),new Hp(!1,114,48,18,18,4),new Hp(!1,144,56,20,20,4),new Hp(!1,174,68,22,22,4),new Hp(!1,204,84,24,24,4,102,42),new Hp(!1,280,112,14,14,16,140,56),new Hp(!1,368,144,16,16,16,92,36),new Hp(!1,456,192,18,18,16,114,48),new Hp(!1,576,224,20,20,16,144,56),new Hp(!1,696,272,22,22,16,174,68),new Hp(!1,816,336,24,24,16,136,56),new Hp(!1,1050,408,18,18,36,175,68),new Hp(!1,1304,496,20,20,36,163,62),new Gp],Yp=function(){function e(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(e){return e.charCodeAt(0)}),n=new Dl,r=0,o=t.length;r<o;r++){var i=String.fromCharCode(255&t[r]);if("?"===i&&"?"!==e.charAt(r))throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(i)}this.msg=n.toString(),this.shape=0,this.codewords=new Dl,this.newEncoding=-1}return e.prototype.setSymbolShape=function(e){this.shape=e},e.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(e){this.codewords.append(e)},e.prototype.writeCodeword=function(e){this.codewords.append(e)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(e){this.newEncoding=e},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(e){void 0===e&&(e=this.getCodewordCount()),(null==this.symbolInfo||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Wp.lookup(e,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),Kp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kp(t,e),t.prototype.getEncodingMode=function(){return 3},t.prototype.encode=function(e){for(var t=new Dl;e.hasMoreCharacters();){var n=e.getCurrentChar();if(e.pos++,this.encodeChar(n,t),t.length()%3===0)if(this.writeNextTriplet(e,t),Jp.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},t.prototype.encodeChar=function(e,t){switch(e){case 13:t.append(0);break;case"*".charCodeAt(0):t.append(1);break;case">".charCodeAt(0):t.append(2);break;case" ".charCodeAt(0):t.append(3);break;default:e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?t.append(e-48+4):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?t.append(e-65+14):Jp.illegalCharacter(kl.getCharAt(e))}return 1},t.prototype.handleEOD=function(e,t){e.updateSymbolInfo();var n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),r=t.length();e.pos-=r,(e.getRemainingCharacters()>1||n>1||e.getRemainingCharacters()!==n)&&e.writeCodeword(254),e.getNewEncoding()<0&&e.signalEncoderChange(0)},t}(Fp),Zp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zp(t,e),t.prototype.getEncodingMode=function(){return 2},t.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="a".charCodeAt(0)&&e<="z".charCodeAt(0))return t.append(e-97+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e>="[".charCodeAt(0)&&e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e==="`".charCodeAt(0))return t.append(2),t.append(0),2;if(e<="Z".charCodeAt(0))return t.append(2),t.append(e-65+1),2;if(e<=127)return t.append(2),t.append(e-123+27),2;t.append("1\x1e");var n=2;return n+=this.encodeChar(e-128,t)},t}(Fp),Qp=function(){function e(){}return e.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.encodeHighLevel=function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i=new Fp,a=[new Lp,i,new $p,new qp,new Up,new Bp],s=new Yp(e);s.setSymbolShape(t),s.setSizeConstraints(n,r),e.startsWith(Pp)&&e.endsWith(Dp)?(s.writeCodeword(236),s.setSkipAtEnd(2),s.pos+=7):e.startsWith(kp)&&e.endsWith(Dp)&&(s.writeCodeword(237),s.setSkipAtEnd(2),s.pos+=7);var l=0;for(o&&(i.encodeMaximal(s),l=s.getNewEncoding(),s.resetEncoderSignal());s.hasMoreCharacters();)a[l].encode(s),s.getNewEncoding()>=0&&(l=s.getNewEncoding(),s.resetEncoderSignal());var c=s.getCodewordCount();s.updateSymbolInfo();var u=s.getSymbolInfo().getDataCapacity();c<u&&0!==l&&5!==l&&4!==l&&s.writeCodeword("\xfe");var d=s.getCodewords();for(d.length()<u&&d.append(129);d.length()<u;)d.append(this.randomize253State(d.length()+1));return s.getCodewords().toString()},e.lookAheadTest=function(e,t,n){var r=this.lookAheadTestIntern(e,t,n);if(3===n&&3===r){for(var o=Math.min(t+3,e.length),i=t;i<o;i++)if(!this.isNativeX12(e.charCodeAt(i)))return 0}else if(4===n&&4===r)for(o=Math.min(t+4,e.length),i=t;i<o;i++)if(!this.isNativeEDIFACT(e.charCodeAt(i)))return 0;return r},e.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var r;0===n?r=[0,1,1,1,1,1.25]:(r=[1,2,2,2,2,2.25])[n]=0;for(var o=0,i=new Uint8Array(6),a=[];;){if(t+o===e.length){yl.fill(i,0),yl.fill(a,0);var s=this.findMinimums(r,a,vl.MAX_VALUE,i),l=this.getMinimumCount(i);if(a[0]===s)return 0;if(1===l){if(i[5]>0)return 5;if(i[4]>0)return 4;if(i[2]>0)return 2;if(i[3]>0)return 3}return 1}var c=e.charCodeAt(t+o);if(o++,this.isDigit(c)?r[0]+=.5:this.isExtendedASCII(c)?(r[0]=Math.ceil(r[0]),r[0]+=2):(r[0]=Math.ceil(r[0]),r[0]++),this.isNativeC40(c)?r[1]+=2/3:this.isExtendedASCII(c)?r[1]+=8/3:r[1]+=4/3,this.isNativeText(c)?r[2]+=2/3:this.isExtendedASCII(c)?r[2]+=8/3:r[2]+=4/3,this.isNativeX12(c)?r[3]+=2/3:this.isExtendedASCII(c)?r[3]+=13/3:r[3]+=10/3,this.isNativeEDIFACT(c)?r[4]+=3/4:this.isExtendedASCII(c)?r[4]+=4.25:r[4]+=3.25,this.isSpecialB256(c)?r[5]+=4:r[5]++,o>=4){if(yl.fill(i,0),yl.fill(a,0),this.findMinimums(r,a,vl.MAX_VALUE,i),a[0]<this.min(a[5],a[1],a[2],a[3],a[4]))return 0;if(a[5]<a[0]||a[5]+1<this.min(a[1],a[2],a[3],a[4]))return 5;if(a[4]+1<this.min(a[5],a[1],a[2],a[3],a[0]))return 4;if(a[2]+1<this.min(a[5],a[1],a[4],a[3],a[0]))return 2;if(a[3]+1<this.min(a[5],a[1],a[4],a[2],a[0]))return 3;if(a[1]+1<this.min(a[0],a[5],a[4],a[2])){if(a[1]<a[3])return 1;if(a[1]===a[3]){for(var u=t+o+1;u<e.length;){var d=e.charCodeAt(u);if(this.isX12TermSep(d))return 3;if(!this.isNativeX12(d))break;u++}return 1}}}}},e.min=function(e,t,n,r,o){var i=Math.min(e,Math.min(t,Math.min(n,r)));return void 0===o?i:Math.min(i,o)},e.findMinimums=function(e,t,n,r){for(var o=0;o<6;o++){var i=t[o]=Math.ceil(e[o]);n>i&&(n=i,yl.fill(r,0)),n===i&&(r[o]=r[o]+1)}return n},e.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},e.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},e.isExtendedASCII=function(e){return e>=128&&e<=255},e.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},e.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isX12TermSep=function(e){return 13===e||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},e.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},e.isSpecialB256=function(e){return!1},e.determineConsecutiveDigitCount=function(e,t){void 0===t&&(t=0);for(var n=e.length,r=t;r<n&&this.isDigit(e.charCodeAt(r));)r++;return r-t},e.illegalCharacter=function(e){var t=vl.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},e}();const Jp=Qp;var eg,tg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ng=function(){function e(e){this.charset=e,this.name=e.name}return e.prototype.canEncode=function(e){try{return null!=Rl.encode(e,this.charset)}catch(t){return!1}},e}(),rg=function(){function e(e,t,n){var r,o,i,a,s,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(e){return new ng(_p.forName(e))}),this.encoders=[];var c=[];c.push(new ng(Sp.ISO_8859_1));for(var u=null!=t&&t.name.startsWith("UTF"),d=0;d<e.length;d++){var f=!1;try{for(var h=(r=void 0,tg(c)),p=h.next();!p.done;p=h.next()){var g=p.value,m=e.charAt(d);if(m.charCodeAt(0)===n||g.canEncode(m)){f=!0;break}}}catch(_){r={error:_}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}if(!f)try{for(var y=(i=void 0,tg(this.ENCODERS)),v=y.next();!v.done;v=y.next()){if((g=v.value).canEncode(e.charAt(d))){c.push(g),f=!0;break}}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}f||(u=!0)}if(1!==c.length||u){this.encoders=[];var w=0;try{for(var b=tg(c),C=b.next();!C.done;C=b.next()){g=C.value;this.encoders[w++]=g}}catch(A){s={error:A}}finally{try{C&&!C.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}}else this.encoders=[c[0]];var E=-1;if(null!=t)for(d=0;d<this.encoders.length;d++)if(null!=this.encoders[d]&&t.name===this.encoders[d].name){E=d;break}this.priorityEncoderIndex=E}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},e.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},e.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Rl.encode(kl.getCharAt(e),this.encoders[t].name)},e}(),og=function(){function e(e,t,n){this.fnc1=n;var r=new rg(e,t,n);if(1===r.length())for(var o=0;o<this.bytes.length;o++){var i=e.charAt(o).charCodeAt(0);this.bytes[o]=i===n?1e3:i}else this.bytes=this.encodeMinimally(e,r,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},e.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},e.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new Dl,r=e;r<t;r++){if(this.isECI(r))throw new Error("value at "+r+" is not a character but an ECI");n.append(this.charAt(r))}return n.toString()},e.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},e.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return 1e3===this.bytes[e]},e.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},e.prototype.addEdge=function(e,t,n){(null==e[t][n.encoderIndex]||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},e.prototype.addEdges=function(e,t,n,r,o,i){var a=e.charAt(r).charCodeAt(0),s=0,l=t.length();t.getPriorityEncoderIndex()>=0&&(a===i||t.canEncode(a,t.getPriorityEncoderIndex()))&&(l=(s=t.getPriorityEncoderIndex())+1);for(var c=s;c<l;c++)(a===i||t.canEncode(a,c))&&this.addEdge(n,r+1,new ig(a,t,c,o,i))},e.prototype.encodeMinimally=function(e,t,n){var r=e.length,o=new(ig[r+1][t.length()]);this.addEdges(e,t,o,0,null,n);for(var i=1;i<=r;i++){for(var a=0;a<t.length();a++)null!=o[i][a]&&i<r&&this.addEdges(e,t,o,i,o[i][a],n);for(a=0;a<t.length();a++)o[i-1][a]=null}var s=-1,l=vl.MAX_VALUE;for(a=0;a<t.length();a++)if(null!=o[r][a]){var c=o[r][a];c.cachedTotalSize<l&&(l=c.cachedTotalSize,s=a)}if(s<0)throw new Error('Failed to encode "'+e+'"');for(var u=[],d=o[r][s];null!=d;){if(d.isFNC1())u.unshift(1e3);else{var f=t.encode(d.c,d.encoderIndex);for(i=f.length-1;i>=0;i--)u.unshift(255&f[i])}(null===d.previous?0:d.previous.encoderIndex)!==d.encoderIndex&&u.unshift(256+t.getECIValue(d.encoderIndex)),d=d.previous}var h=[];for(i=0;i<h.length;i++)h[i]=u[i];return h},e}(),ig=function(){function e(e,t,n,r,o){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=r,this.fnc1=o,this.c=e===o?1e3:e;var i=this.isFNC1()?1:t.encode(e,n).length;(null===r?0:r.encoderIndex)!==n&&(i+=3),null!=r&&(i+=r.cachedTotalSize),this.cachedTotalSize=i}return e.prototype.isFNC1=function(){return 1e3===this.c},e}(),ag=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lg=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},cg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lg(arguments[t]));return e};!function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"}(eg||(eg={}));var ug=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],dg=function(){function e(){}return e.isExtendedASCII=function(e,t){return e!==t&&e>=128&&e<=255},e.isInC40Shift1Set=function(e){return e<=31},e.isInC40Shift2Set=function(e,t){var n,r;try{for(var o=sg(ug),i=o.next();!i.done;i=o.next()){if(i.value.charCodeAt(0)===e)return!0}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e===t},e.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},e.isInTextShift2Set=function(e,t){return this.isInC40Shift2Set(e,t)},e.encodeHighLevel=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=-1),void 0===r&&(r=0);var o=0;return e.startsWith(Pp)&&e.endsWith(Dp)?(o=5,e=e.substring(7,e.length-2)):e.startsWith(kp)&&e.endsWith(Dp)&&(o=6,e=e.substring(7,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,cg(this.encode(e,t,n,r,o)))))},e.encode=function(e,t,n,r,o){return this.encodeMinimally(new pg(e,t,n,r,o)).getBytes()},e.addEdge=function(e,t){var n=t.fromPosition+t.characterLength;(null===e[n][t.getEndMode()]||e[n][t.getEndMode()].cachedTotalSize>t.cachedTotalSize)&&(e[n][t.getEndMode()]=t)},e.getNumberOfC40Words=function(t,n,r,o){for(var i=0,a=n;a<t.length();a++){if(t.isECI(a))return o[0]=0,0;var s=t.charAt(a);if(r&&Jp.isNativeC40(s)||!r&&Jp.isNativeText(s))i++;else if(e.isExtendedASCII(s,t.getFNC1Character())){var l=255&s;l>=128&&(r&&Jp.isNativeC40(l-128)||!r&&Jp.isNativeText(l-128))?i+=3:i+=4}else i+=2;if(i%3===0||(i-2)%3===0&&a+1===t.length())return o[0]=a-n+1,Math.ceil(i/3)}return o[0]=0,0},e.addEdges=function(t,n,r,o){var i,a;if(t.isECI(r))this.addEdge(n,new hg(t,eg.ASCII,r,1,o));else{var s,l=t.charAt(r);if(null===o||o.getEndMode()!==eg.EDF){Jp.isDigit(l)&&t.haveNCharacters(r,2)&&Jp.isDigit(t.charAt(r+1))?this.addEdge(n,new hg(t,eg.ASCII,r,2,o)):this.addEdge(n,new hg(t,eg.ASCII,r,1,o));var c=[eg.C40,eg.TEXT];try{for(var u=sg(c),d=u.next();!d.done;d=u.next()){var f=d.value,h=[];e.getNumberOfC40Words(t,r,f===eg.C40,h)>0&&this.addEdge(n,new hg(t,f,r,h[0],o))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}t.haveNCharacters(r,3)&&Jp.isNativeX12(t.charAt(r))&&Jp.isNativeX12(t.charAt(r+1))&&Jp.isNativeX12(t.charAt(r+2))&&this.addEdge(n,new hg(t,eg.X12,r,3,o)),this.addEdge(n,new hg(t,eg.B256,r,1,o))}for(s=0;s<3;s++){var p=r+s;if(!t.haveNCharacters(p,1)||!Jp.isNativeEDIFACT(t.charAt(p)))break;this.addEdge(n,new hg(t,eg.EDF,r,s+1,o))}3===s&&t.haveNCharacters(r,4)&&Jp.isNativeEDIFACT(t.charAt(r+3))&&this.addEdge(n,new hg(t,eg.EDF,r,4,o))}},e.encodeMinimally=function(e){var t=e.length(),n=Array(t+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,n,0,null);for(var r=1;r<=t;r++){for(var o=0;o<6;o++)null!==n[r][o]&&r<t&&this.addEdges(e,n,r,n[r][o]);for(o=0;o<6;o++)n[r-1][o]=null}var i=-1,a=vl.MAX_VALUE;for(o=0;o<6;o++)if(null!==n[t][o]){var s=n[t][o],l=o>=1&&o<=3?s.cachedTotalSize+1:s.cachedTotalSize;l<a&&(a=l,i=o)}if(i<0)throw new Error('Failed to encode "'+e+'"');return new fg(n[t][i])},e}(),fg=function(){function e(e){var t=e.input,n=0,r=[],o=[],i=[];e.mode!==eg.C40&&e.mode!==eg.TEXT&&e.mode!==eg.X12||e.getEndMode()===eg.ASCII||(n+=this.prepend(hg.getBytes(254),r));for(var a=e;null!==a;)n+=this.prepend(a.getDataBytes(),r),null!==a.previous&&a.getPreviousStartMode()===a.getMode()||(a.getMode()===eg.B256&&(n<=249?(r.unshift(n),n++):(r.unshift(n%250),r.unshift(n/250+249),n+=2),o.push(r.length),i.push(n)),this.prepend(a.getLatchBytes(),r),n=0),a=a.previous;5===t.getMacroId()?n+=this.prepend(hg.getBytes(236),r):6===t.getMacroId()&&(n+=this.prepend(hg.getBytes(237),r)),t.getFNC1Character()>0&&(n+=this.prepend(hg.getBytes(232),r));for(var s=0;s<o.length;s++)this.applyRandomPattern(r,r.length-o[s],i[s]);var l=e.getMinSymbolSize(r.length);for(r.length<l&&r.push(129);r.length<l;)r.push(this.randomize253State(r.length+1));this.bytes=new Uint8Array(r.length);for(s=0;s<this.bytes.length;s++)this.bytes[s]=r[s]}return e.prototype.prepend=function(e,t){for(var n=e.length-1;n>=0;n--)t.unshift(e[n]);return e.length},e.prototype.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.prototype.applyRandomPattern=function(e,t,n){for(var r=0;r<n;r++){var o=t+r,i=(255&e[o])+(149*(o+1)%255+1);e[o]=i<=255?i:i-256}},e.prototype.getBytes=function(){return this.bytes},e}(),hg=function(){function e(e,t,n,r,o){if(this.input=e,this.mode=t,this.fromPosition=n,this.characterLength=r,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(n+r<=e.length()))throw new Error("Invalid edge");var i=null!==o?o.cachedTotalSize:0,a=this.getPreviousMode();switch(t){case eg.ASCII:i++,(e.isECI(n)||dg.isExtendedASCII(e.charAt(n),e.getFNC1Character()))&&i++,a!==eg.C40&&a!==eg.TEXT&&a!==eg.X12||i++;break;case eg.B256:i++,(a!==eg.B256||250===this.getB256Size())&&i++,a===eg.ASCII?i++:a!==eg.C40&&a!==eg.TEXT&&a!==eg.X12||(i+=2);break;case eg.C40:case eg.TEXT:case eg.X12:if(t===eg.X12)i+=2;else{i+=2*dg.getNumberOfC40Words(e,n,t===eg.C40,[])}a===eg.ASCII||a===eg.B256?i++:a===t||a!==eg.C40&&a!==eg.TEXT&&a!==eg.X12||(i+=2);break;case eg.EDF:i+=3,a===eg.ASCII||a===eg.B256?i++:a!==eg.C40&&a!==eg.TEXT&&a!==eg.X12||(i+=2)}this.cachedTotalSize=i}return e.prototype.getB256Size=function(){for(var e=0,t=this;null!==t&&t.mode===eg.B256&&e<=250;)e++,t=t.previous;return e},e.prototype.getPreviousStartMode=function(){return null===this.previous?eg.ASCII:this.previous.mode},e.prototype.getPreviousMode=function(){return null===this.previous?eg.ASCII:this.previous.getEndMode()},e.prototype.getEndMode=function(){if(this.mode===eg.EDF){if(this.characterLength<4)return eg.ASCII;if((e=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return eg.ASCII}if(this.mode===eg.C40||this.mode===eg.TEXT||this.mode===eg.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return eg.ASCII;var e;if(1===(e=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return eg.ASCII}return this.mode},e.prototype.getMode=function(){return this.mode},e.prototype.getLastASCII=function(){var e=this.input.length(),t=this.fromPosition+this.characterLength;return e-t>4||t>=e?0:e-t===1?dg.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?0:1:e-t===2?dg.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())||dg.isExtendedASCII(this.input.charAt(t+1),this.input.getFNC1Character())?0:Jp.isDigit(this.input.charAt(t))&&Jp.isDigit(this.input.charAt(t+1))?1:2:e-t===3?Jp.isDigit(this.input.charAt(t))&&Jp.isDigit(this.input.charAt(t+1))&&!dg.isExtendedASCII(this.input.charAt(t+2),this.input.getFNC1Character())||Jp.isDigit(this.input.charAt(t+1))&&Jp.isDigit(this.input.charAt(t+2))&&!dg.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?2:0:Jp.isDigit(this.input.charAt(t))&&Jp.isDigit(this.input.charAt(t+1))&&Jp.isDigit(this.input.charAt(t+2))&&Jp.isDigit(this.input.charAt(t+3))?2:0},e.prototype.getMinSymbolSize=function(e){var t,n,r,o,i,a;switch(this.input.getShapeHint()){case 1:try{for(var s=sg(this.squareCodewordCapacities),l=s.next();!l.done;l=s.next()){if((h=l.value)>=e)return h}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}break;case 2:try{for(var c=sg(this.rectangularCodewordCapacities),u=c.next();!u.done;u=c.next()){if((h=u.value)>=e)return h}}catch(g){r={error:g}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}try{for(var d=sg(this.allCodewordCapacities),f=d.next();!f.done;f=d.next()){var h;if((h=f.value)>=e)return h}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},e.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},e.getBytes=function(e,t){var n=new Uint8Array(t?2:1);return n[0]=e,t&&(n[1]=t),n},e.prototype.setC40Word=function(e,t,n,r,o){var i=1600*(255&n)+40*(255&r)+(255&o)+1;e[t]=i/256,e[t+1]=i%256},e.prototype.getX12Value=function(e){return 13===e?0:42===e?1:62===e?2:32===e?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},e.prototype.getX12Words=function(){if(this.characterLength%3!==0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),t=0;t<e.length;t+=2)this.setC40Word(e,t,this.getX12Value(this.input.charAt(this.fromPosition+t/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+2)));return e},e.prototype.getShiftValue=function(e,t,n){return t&&dg.isInC40Shift1Set(e)||!t&&dg.isInTextShift1Set(e)?0:t&&dg.isInC40Shift2Set(e,n)||!t&&dg.isInTextShift2Set(e,n)?1:2},e.prototype.getC40Value=function(e,t,n,r){if(n===r){if(2!==t)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?n<=31?n:32===n?3:n<=47?n-33:n<=57?n-44:n<=64?n-43:n<=90?n-51:n<=95?n-69:n<=127?n-96:n:0===n?0:0===t&&n<=3?n-1:1===t&&n<=31?n:32===n?3:n>=33&&n<=47?n-33:n>=48&&n<=57?n-44:n>=58&&n<=64?n-43:n>=65&&n<=90?n-64:n>=91&&n<=95?n-69:96===n?0:n>=97&&n<=122?n-83:n>=123&&n<=127?n-96:n},e.prototype.getC40Words=function(e,t){for(var n=[],r=0;r<this.characterLength;r++){var o=this.input.charAt(this.fromPosition+r);if(e&&Jp.isNativeC40(o)||!e&&Jp.isNativeText(o))n.push(this.getC40Value(e,0,o,t));else if(dg.isExtendedASCII(o,t)){var i=(255&o)-128;if(e&&Jp.isNativeC40(i)||!e&&Jp.isNativeText(i))n.push(1),n.push(30),n.push(this.getC40Value(e,0,i,t));else{n.push(1),n.push(30);a=this.getShiftValue(i,e,t);n.push(a),n.push(this.getC40Value(e,a,i,t))}}else{var a=this.getShiftValue(o,e,t);n.push(a),n.push(this.getC40Value(e,a,o,t))}}if(n.length%3!==0){if((n.length-2)%3!==0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");n.push(0)}var s=new Uint8Array(n.length/3*2),l=0;for(r=0;r<n.length;r+=3)this.setC40Word(s,l,255&n[r],255&n[r+1],255&n[r+2]),l+=2;return s},e.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),t=new Uint8Array(3*e),n=this.fromPosition,r=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<e;o+=3){for(var i=[],a=0;a<4;a++)i[a]=n<=r?63&this.input.charAt(n++):n===r+1?31:0;var s=i[0]<<18;s|=i[1]<<12,s|=i[2]<<6,s|=i[3],t[o]=s>>16&255,t[o+1]=s>>8&255,t[o+2]=255&s}return t},e.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case eg.ASCII:case eg.B256:switch(this.mode){case eg.B256:return e.getBytes(231);case eg.C40:return e.getBytes(230);case eg.TEXT:return e.getBytes(239);case eg.X12:return e.getBytes(238);case eg.EDF:return e.getBytes(240)}break;case eg.C40:case eg.TEXT:case eg.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case eg.ASCII:return e.getBytes(254);case eg.B256:return e.getBytes(254,231);case eg.C40:return e.getBytes(254,230);case eg.TEXT:return e.getBytes(254,239);case eg.X12:return e.getBytes(254,238);case eg.EDF:return e.getBytes(254,240)}break;case eg.EDF:if(this.mode!==eg.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},e.prototype.getDataBytes=function(){switch(this.mode){case eg.ASCII:return this.input.isECI(this.fromPosition)?e.getBytes(241,this.input.getECIValue(this.fromPosition)+1):dg.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?e.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?e.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?e.getBytes(232):e.getBytes(this.input.charAt(this.fromPosition)+1);case eg.B256:return e.getBytes(this.input.charAt(this.fromPosition));case eg.C40:return this.getC40Words(!0,this.input.getFNC1Character());case eg.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case eg.X12:return this.getX12Words();case eg.EDF:return this.getEDFBytes()}},e}(),pg=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.shape=o,a.macroId=i,a}return ag(t,e),t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t}(og);!function(){function e(){}e.prototype.encode=function(e,t,n,r,o){if(void 0===o&&(o=null),""===e.trim())throw new Error("Found empty contents");if(t!==ec.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+t);if(n<0||r<0)throw new Error("Requested dimensions can't be negative: "+n+"x"+r);var i,a=0,s=null,l=null;if(null!=o){var c=o.get(op.DATA_MATRIX_SHAPE);null!=c&&(a=c);var u=o.get(op.MIN_SIZE);null!=u&&(s=u);var d=o.get(op.MAX_SIZE);null!=d&&(l=d)}if(null!=o&&o.has(op.DATA_MATRIX_COMPACT)&&Boolean(o.get(op.DATA_MATRIX_COMPACT).toString())){var f=o.has(op.GS1_FORMAT)&&Boolean(o.get(op.GS1_FORMAT).toString()),h=null;o.has(op.CHARACTER_SET)&&(h=_p.forName(o.get(op.CHARACTER_SET).toString())),i=dg.encodeHighLevel(e,h,f?29:-1,a)}else{var p=null!=o&&o.has(op.FORCE_C40)&&Boolean(o.get(op.FORCE_C40).toString());i=Jp.encodeHighLevel(e,a,s,l,p)}var g=Wp.lookup(i.length,a,s,l,!0),m=Mp.encodeECC200(i,g),y=new Ap(m,g.getSymbolDataWidth(),g.getSymbolDataHeight());return y.place(),this.encodeLowLevel(y,g,n,r)},e.prototype.encodeLowLevel=function(e,t,n,r){for(var o=t.getSymbolDataWidth(),i=t.getSymbolDataHeight(),a=new cp(t.getSymbolWidth(),t.getSymbolHeight()),s=0,l=0;l<i;l++){var c=void 0;if(l%t.matrixHeight===0){c=0;for(var u=0;u<t.getSymbolWidth();u++)a.setBoolean(c,s,u%2===0),c++;s++}c=0;for(u=0;u<o;u++)u%t.matrixWidth===0&&(a.setBoolean(c,s,!0),c++),a.setBoolean(c,s,e.getBit(u,l)),c++,u%t.matrixWidth===t.matrixWidth-1&&(a.setBoolean(c,s,l%2===0),c++);if(s++,l%t.matrixHeight===t.matrixHeight-1){c=0;for(u=0;u<t.getSymbolWidth();u++)a.setBoolean(c,s,!0),c++;s++}}return this.convertByteMatrixToBitMatrix(a,n,r)},e.prototype.convertByteMatrixToBitMatrix=function(e,t,n){var r,o=e.getWidth(),i=e.getHeight(),a=Math.max(t,o),s=Math.max(n,i),l=Math.min(a/o,s/i),c=(a-o*l)/2,u=(s-i*l)/2;n<i||t<o?(c=0,u=0,r=new jl(o,i)):r=new jl(t,n),r.clear();for(var d=0,f=u;d<i;d++,f+=l)for(var h=0,p=c;h<o;h++,p+=l)1===e.get(h,d)&&r.setRegion(p,f,l,l);return r}}();var gg=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(e){this.compact=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(e){this.layers=e},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(e){this.codeWords=e},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(e){this.matrix=e},e}();const mg=gg;const yg=function(){function e(){}return e.singletonList=function(e){return[e]},e.min=function(e,t){return e.sort(t)[0]},e}();const vg=function(){function e(e){this.previous=e}return e.prototype.getPrevious=function(){return this.previous},e}();var wg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const bg=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.value=n,o.bitCount=r,o}return wg(t,e),t.prototype.appendTo=function(e,t){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,n){return new t(this,e,n)},t.prototype.addBinaryShift=function(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,n)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+vl.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t}(vg);var Cg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Eg=function(e){function t(t,n,r){var o=e.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=r,o}return Cg(t,e),t.prototype.appendTo=function(e,t){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)},t.prototype.addBinaryShift=function(e,n){return new t(this,e,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(bg);function _g(e,t,n){return new bg(e,t,n)}var Sg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ag=new bg(null,0,0),Ig=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],Ng=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var xg=function(e){var t,n;try{for(var r=Ng(e),o=r.next();!o.done;o=r.next()){var i=o.value;yl.fill(i,-1)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}(yl.createInt32Array(6,6)),Og=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tg=function(){function e(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var r=this.bitCount,o=this.token;if(t!==this.mode){var i=Ig[this.mode][t];o=_g(o,65535&i,i>>16),r+=i>>16}var a=2===t?4:5;return new e(o=_g(o,n,a),t,0,r+a)},e.prototype.shiftAndAppend=function(t,n){var r=this.token,o=2===this.mode?4:5;return r=_g(r,xg[this.mode][t],o),new e(r=_g(r,n,5),this.mode,0,this.bitCount+o+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,r=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){var i=Ig[r][0];n=_g(n,65535&i,i>>16),o+=i>>16,r=0}var a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new e(n,r,this.binaryShiftByteCount+1,o+a);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new e(n=function(e,t,n){return new Eg(e,t,n)}(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(Ig[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(e){for(var t,n,r=[],o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())r.unshift(o);var i=new bl;try{for(var a=Og(r),s=a.next();!s.done;s=a.next()){s.value.appendTo(i,e)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e.prototype.toString=function(){return kl.format("%s bits=%d bytes=%d",Sg[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(Ag,0,0,0),e}();const Rg=Tg;var Pg=function(e){var t=kl.getCharCode(" "),n=kl.getCharCode("."),r=kl.getCharCode(",");e[0][t]=1;for(var o=kl.getCharCode("Z"),i=kl.getCharCode("A"),a=i;a<=o;a++)e[0][a]=a-i+2;e[1][t]=1;var s=kl.getCharCode("z"),l=kl.getCharCode("a");for(a=l;a<=s;a++)e[1][a]=a-l+2;e[2][t]=1;var c=kl.getCharCode("9"),u=kl.getCharCode("0");for(a=u;a<=c;a++)e[2][a]=a-u+2;e[2][r]=12,e[2][n]=13;for(var d=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],f=0;f<d.length;f++)e[3][kl.getCharCode(d[f])]=f;var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(f=0;f<h.length;f++)kl.getCharCode(h[f])>0&&(e[4][kl.getCharCode(h[f])]=f);return e}(yl.createInt32Array(5,256)),kg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dg=function(){function e(e){this.text=e}return e.prototype.encode=function(){for(var t=kl.getCharCode(" "),n=kl.getCharCode("\n"),r=yg.singletonList(Rg.INITIAL_STATE),o=0;o<this.text.length;o++){var i=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case kl.getCharCode("\r"):i=a===n?2:0;break;case kl.getCharCode("."):i=a===t?3:0;break;case kl.getCharCode(","):i=a===t?4:0;break;case kl.getCharCode(":"):i=a===t?5:0;break;default:i=0}i>0?(r=e.updateStateListForPair(r,o,i),o++):r=this.updateStateListForChar(r,o)}return yg.min(r,function(e,t){return e.getBitCount()-t.getBitCount()}).toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var r,o,i=[];try{for(var a=kg(t),s=a.next();!s.done;s=a.next()){var l=s.value;this.updateStateForChar(l,n,i)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(e,t,n){for(var r=255&this.text[t],o=Pg[e.getMode()][r]>0,i=null,a=0;a<=4;a++){var s=Pg[a][r];if(s>0){if(null==i&&(i=e.endBinaryShift(t)),!o||a===e.getMode()||2===a){var l=i.latchAndAppend(a,s);n.push(l)}if(!o&&xg[e.getMode()][a]>=0){var c=i.shiftAndAppend(a,s);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||0===Pg[e.getMode()][r]){var u=e.addBinaryShiftChar(t);n.push(u)}},e.updateStateListForPair=function(e,t,n){var r,o,i=[];try{for(var a=kg(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.updateStateForPair(l,t,n,i)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this.simplifyStates(i)},e.updateStateForPair=function(e,t,n,r){var o=e.endBinaryShift(t);if(r.push(o.latchAndAppend(4,n)),4!==e.getMode()&&r.push(o.shiftAndAppend(4,n)),3===n||4===n){var i=o.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(i)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(a)}},e.simplifyStates=function(e){var t,n,r,o,i=[];try{for(var a=kg(e),s=a.next();!s.done;s=a.next()){var l=s.value,c=!0,u=function(e){if(e.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(e)&&(i=i.filter(function(t){return t!==e}))};try{for(var d=(r=void 0,kg(i)),f=d.next();!f.done;f=d.next()){if("break"===u(f.value))break}}catch(h){r={error:h}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}c&&i.push(l)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e}();const jg=Dg;var Mg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lg=function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,r){var o,i,a,s,l,c=new jg(t).encode(),u=vl.truncDivision(c.getSize()*n,100)+11,d=c.getSize()+u;if(r!==e.DEFAULT_AZTEC_LAYERS){if(o=r<0,(i=Math.abs(r))>(o?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new il(kl.format("Illegal value %s for layers",r));var f=(a=e.totalBitsInLayer(i,o))-a%(s=e.WORD_SIZE[i]);if((l=e.stuffBits(c,s)).getSize()+u>f)throw new il("Data to large for user specified layer");if(o&&l.getSize()>64*s)throw new il("Data to large for user specified layer")}else{s=0,l=null;for(var h=0;;h++){if(h>e.MAX_NB_BITS)throw new il("Data too large for an Aztec code");if(i=(o=h<=3)?h+1:h,!(d>(a=e.totalBitsInLayer(i,o)))){null!=l&&s===e.WORD_SIZE[i]||(s=e.WORD_SIZE[i],l=e.stuffBits(c,s));f=a-a%s;if(!(o&&l.getSize()>64*s)&&l.getSize()+u<=f)break}}}var p,g=e.generateCheckWords(l,a,s),m=l.getSize()/s,y=e.generateModeMessage(o,i,m),v=(o?11:14)+4*i,w=new Int32Array(v);if(o){p=v;for(h=0;h<w.length;h++)w[h]=h}else{p=v+1+2*vl.truncDivision(vl.truncDivision(v,2)-1,15);var b=vl.truncDivision(v,2),C=vl.truncDivision(p,2);for(h=0;h<b;h++){var E=h+vl.truncDivision(h,15);w[b-h-1]=C-E-1,w[b+h]=C+E+1}}for(var _=new jl(p),S=(h=0,0);h<i;h++){for(var A=4*(i-h)+(o?9:12),I=0;I<A;I++)for(var N=2*I,x=0;x<2;x++)g.get(S+N+x)&&_.set(w[2*h+x],w[2*h+I]),g.get(S+2*A+N+x)&&_.set(w[2*h+I],w[v-1-2*h-x]),g.get(S+4*A+N+x)&&_.set(w[v-1-2*h-x],w[v-1-2*h-I]),g.get(S+6*A+N+x)&&_.set(w[v-1-2*h-I],w[2*h+x]);S+=8*A}if(e.drawModeMessage(_,o,p,y),o)e.drawBullsEye(_,vl.truncDivision(p,2),5);else{e.drawBullsEye(_,vl.truncDivision(p,2),7);for(h=0,I=0;h<vl.truncDivision(v,2)-1;h+=15,I+=16)for(x=1&vl.truncDivision(p,2);x<p;x+=2)_.set(vl.truncDivision(p,2)-I,x),_.set(vl.truncDivision(p,2)+I,x),_.set(x,vl.truncDivision(p,2)-I),_.set(x,vl.truncDivision(p,2)+I)}var O=new mg;return O.setCompact(o),O.setSize(p),O.setLayers(i),O.setCodeWords(m),O.setMatrix(_),O},e.drawBullsEye=function(e,t,n){for(var r=0;r<n;r+=2)for(var o=t-r;o<=t+r;o++)e.set(o,t-r),e.set(o,t+r),e.set(t-r,o),e.set(t+r,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},e.generateModeMessage=function(t,n,r){var o=new bl;return t?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=e.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=e.generateCheckWords(o,40,4)),o},e.drawModeMessage=function(e,t,n,r){var o=vl.truncDivision(n,2);if(t)for(var i=0;i<7;i++){var a=o-3+i;r.get(i)&&e.set(a,o-5),r.get(i+7)&&e.set(o+5,a),r.get(20-i)&&e.set(a,o+5),r.get(27-i)&&e.set(o-5,a)}else for(i=0;i<10;i++){a=o-5+i+vl.truncDivision(i,5);r.get(i)&&e.set(a,o-7),r.get(i+10)&&e.set(o+7,a),r.get(29-i)&&e.set(a,o+7),r.get(39-i)&&e.set(o-7,a)}},e.generateCheckWords=function(t,n,r){var o,i,a=t.getSize()/r,s=new ip(e.getGF(r)),l=vl.truncDivision(n,r),c=e.bitsToWords(t,r,l);s.encode(c,l-a);var u=n%r,d=new bl;d.appendBits(0,u);try{for(var f=Mg(Array.from(c)),h=f.next();!h.done;h=f.next()){var p=h.value;d.appendBits(p,r)}}catch(g){o={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return d},e.bitsToWords=function(e,t,n){var r,o,i=new Int32Array(n);for(r=0,o=e.getSize()/t;r<o;r++){for(var a=0,s=0;s<t;s++)a|=e.get(r*t+s)?1<<t-s-1:0;i[r]=a}return i},e.getGF=function(e){switch(e){case 4:return dc.AZTEC_PARAM;case 6:return dc.AZTEC_DATA_6;case 8:return dc.AZTEC_DATA_8;case 10:return dc.AZTEC_DATA_10;case 12:return dc.AZTEC_DATA_12;default:throw new il("Unsupported word size "+e)}},e.stuffBits=function(e,t){for(var n=new bl,r=e.getSize(),o=(1<<t)-2,i=0;i<r;i+=t){for(var a=0,s=0;s<t;s++)(i+s>=r||e.get(i+s))&&(a|=1<<t-1-s);(a&o)===o?(n.appendBits(a&o,t),i--):0===(a&o)?(n.appendBits(1|a,t),i--):n.appendBits(a,t)}return n},e.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e}();const Bg=Lg;!function(){function e(){}e.prototype.encode=function(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)},e.prototype.encodeWithHints=function(t,n,r,o,i){var a=Sp.ISO_8859_1,s=Bg.DEFAULT_EC_PERCENT,l=Bg.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(op.CHARACTER_SET)&&(a=_p.forName(i.get(op.CHARACTER_SET).toString())),i.has(op.ERROR_CORRECTION)&&(s=vl.parseInt(i.get(op.ERROR_CORRECTION).toString())),i.has(op.AZTEC_LAYERS)&&(l=vl.parseInt(i.get(op.AZTEC_LAYERS).toString()))),e.encodeLayers(t,n,r,o,a,s,l)},e.encodeLayers=function(t,n,r,o,i,a,s){if(n!==ec.AZTEC)throw new il("Can only encode AZTEC, but got "+n);var l=Bg.encode(kl.getBytes(t,i),a,s);return e.renderResult(l,r,o)},e.renderResult=function(e,t,n){var r=e.getMatrix();if(null==r)throw new gc;for(var o=r.getWidth(),i=r.getHeight(),a=Math.max(t,o),s=Math.max(n,i),l=Math.min(a/o,s/i),c=(a-o*l)/2,u=(s-i*l)/2,d=new jl(a,s),f=0,h=u;f<i;f++,h+=l)for(var p=0,g=c;p<o;p++,g+=l)r.get(p,f)&&d.setRegion(g,h,l,l);return d}}();function Fg(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ug=0;function zg(e){return"__private_"+Ug+++"_"+e}class Vg{constructor(e){let{name:t,strength:n}=e;this.name=t,this.strength=n}}class Hg{constructor(e){let{package_ndc:t,description:n,marketing_start_date:r,sample:o}=e;this.package_ndc=t,this.description=n,this.marketing_start_date=r,this.sample=o}}class Wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.manufacturer_name=e.manufacturer_name||[],this.rxcui=e.rxcui||[],this.spl_set_id=e.spl_set_id||[],this.is_original_packager=e.is_original_packager||[],this.upc=e.upc||[],this.unii=e.unii||[]}}var Gg=zg("isDigitsOnly"),Xg=zg("expandUndashed10ToAll11"),Yg=zg("generateNdc11Candidates");class Kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,Yg,{value:qg});const t=e||{};this.product_ndc=t.product_ndc||"",this.generic_name=t.generic_name||"",this.labeler_name=t.labeler_name||"",this.brand_name=t.brand_name||"",this.active_ingredients=(t.active_ingredients||[]).map(e=>new Vg(e)),this.finished=t.finished,this.packaging=(t.packaging||[]).map(e=>new Hg(e)),this.listing_expiration_date=t.listing_expiration_date,this.openfda=new Wg(t.openfda),this.marketing_category=t.marketing_category||"",this.dosage_form=t.dosage_form||"",this.spl_id=t.spl_id||"",this.product_type=t.product_type||"",this.route=t.route||[],this.marketing_start_date=t.marketing_start_date||"",this.product_id=t.product_id||"",this.application_number=t.application_number||"",this.brand_name_base=t.brand_name_base||"",this.pharm_class=t.pharm_class||[],this.dea_schedule=t.dea_schedule||null}isControlled(){return!!this.dea_schedule}isScheduleII(){return"CII"===this.dea_schedule}requiresForm222(){return"CI"===this.dea_schedule||"CII"===this.dea_schedule}getScheduleDisplay(){return this.dea_schedule?this.dea_schedule:"Non-Controlled"}getScheduleBadgeColor(){switch(this.dea_schedule){case"CI":case"CII":return"danger";case"CIII":return"warning";case"CIV":case"CV":return"info";default:return"secondary"}}getScheduleDescription(){switch(this.dea_schedule){case"CI":return"Schedule I - No accepted medical use";case"CII":return"Schedule II - High potential for abuse";case"CIII":return"Schedule III - Moderate potential for abuse";case"CIV":return"Schedule IV - Low potential for abuse";case"CV":return"Schedule V - Lowest potential for abuse";default:return"Non-controlled substance"}}normalizeNdcTo11(e){if(!e)return null;if((e=String(e).replace(/[^0-9-]/g,"")).includes("-")){const t=e.split("-");if(3!==t.length&&2!==t.length)return null;if(2===t.length)return null;const n=t.map(e=>e.length);return(4===n[0]||5===n[0])&&(3===n[1]||4===n[1])&&(1===n[2]||2===n[2])?t[0].padStart(5,"0")+t[1].padStart(4,"0")+t[2].padStart(2,"0"):null}return Fg(Kg,Gg)[Gg](e,11)?e:Fg(Kg,Gg)[Gg](e,10)?"0"===e[0]?"0"+e:e.slice(0,5)+"0"+e.slice(5):null}findMatchingPackage(e){if(!e||!Array.isArray(this.packaging))return null;const t=this.normalizeNdcTo11(e);if(!t)return null;for(const n of this.packaging){if(null===n||void 0===n||!n.package_ndc)continue;if(this.normalizeNdcTo11(n.package_ndc)===t)return n}return null}async getPrice(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],o=Fg(this,Yg)[Yg](t);for(const i of o){r.push(i);try{const t=await e.getLatestPrice(i,n);if(t&&t.ok)return c(c({ok:!0,ndc11:i},t),{},{source:"candidate-match",tried:r})}catch(Sv){}}return{ok:!1,reason:o.length?"No price found for any candidate NDC-11":"Could not derive any valid NDC-11 candidates from input",tried:r}}buildLineDraftFromInput(e){var t,n,r;const o=this.findMatchingPackage(e),i=function(e){var t,n,r,o,i;const a=(null===(t=e.brand_name_base)||void 0===t?void 0:t.trim())||(null===(n=e.brand_name)||void 0===n?void 0:n.trim())||(null===(r=e.generic_name)||void 0===r?void 0:r.trim())||"Unknown drug",s=((null===(o=e.active_ingredients)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.strength)||"").trim(),l=(e.dosage_form||"").toLowerCase(),c=[a];s&&c.push(s);l&&c.push(l);return c.join(" ").replace(/\s+/g," ").trim()}(this);let a="1 unit";null!==o&&void 0!==o&&o.description?a=Zg(o.description):null!==(t=this.packaging)&&void 0!==t&&t.length&&(a=Zg(this.packaging[0].description||""));const s=(null===o||void 0===o?void 0:o.package_ndc)&&this.normalizeNdcTo11(o.package_ndc)||this.normalizeNdcTo11(String(e));return{ok:!!s,ndc11:s,packageSize:a,itemName:i,labeler_name:this.labeler_name||"Unknown Labeler",package_ndc:(null===o||void 0===o?void 0:o.package_ndc)||null,package_description:(null===o||void 0===o?void 0:o.description)||null,labeler:this.labeler_name||null,dosage_form:this.dosage_form||null,dosageForm:this.dosage_form||null,strength:(null===(n=this.active_ingredients)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.strength)||null,finished:void 0!==this.finished?this.finished:null,dea_schedule:this.dea_schedule||null,brandName:this.brand_name||null,genericName:this.generic_name||null,productName:this.generic_name||this.brand_name||i,route:this.route||[],manufacturer:this.labeler_name||null}}}function qg(e){const t=new Set,n=e=>{e&&Fg(Kg,Gg)[Gg](e,11)&&t.add(e)},r=(null!==e&&void 0!==e?e:"").toString().trim();if(!r)return[];const o=this.findMatchingPackage(r);if(null!==o&&void 0!==o&&o.package_ndc){n(this.normalizeNdcTo11(o.package_ndc))}n(this.normalizeNdcTo11(r));const i=r.replace(/\D+/g,"");Fg(Kg,Gg)[Gg](i,10)&&Fg(Kg,Xg)[Xg](i).forEach(n);for(const a of this.packaging||[]){n(this.normalizeNdcTo11(null===a||void 0===a?void 0:a.package_ndc))}if(r.includes("-")&&2===r.split("-").length){const[e,t]=r.split("-");for(const r of this.packaging||[])if(null!==r&&void 0!==r&&r.package_ndc&&r.package_ndc.startsWith("".concat(e,"-").concat(t,"-"))){n(this.normalizeNdcTo11(r.package_ndc))}}return Array.from(t)}function Zg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/\b(\d+(?:\.\d+)?)\s*([a-zA-Z\u03bcu]+)\b/);if(!e)return"1 unit";let[,t,n]=e;return n=n.toLowerCase().replace(/^capsules?$/i,"capsules").replace(/^tablet(s)?$/i,"tablets").replace(/^tab(s)?$/i,"tablets").replace(/^cap(s)?$/i,"capsules").replace(/^ml$/i,"mL").replace(/^mcg$/i,"mcg"),"".concat(t," ").concat(n)}Object.defineProperty(Kg,Xg,{value:function(e){return Fg(Kg,Gg)[Gg](e,10)?["0"+e,e.slice(0,5)+"0"+e.slice(5),e.slice(0,9)+"0"+e.slice(9)]:[]}}),Object.defineProperty(Kg,Gg,{value:function(e,t){return"string"===typeof e&&e.length===t&&/^[0-9]+$/.test(e)}});const $g=(e,t)=>"string"===typeof e&&e.length===t&&/^[0-9]+$/.test(e),Qg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;const t=new Map;return{get:e=>t.get(e),set:(n,r)=>{t.has(n)&&t.delete(n),t.set(n,r),t.size>e&&t.delete(t.keys().next().value)},has:e=>t.has(e),delete:e=>t.delete(e),clear:()=>t.clear(),get size(){return t.size},keys:()=>t.keys(),values:()=>t.values(),entries:()=>t.entries()}};let Jg;try{const e=n(734);Jg=e||window.parseBarcode}catch(Sv){Jg=void 0}const em=e=>{if(!$g(e,6))return null;const t=+e.slice(0,2),n=+e.slice(2,4);let r=+e.slice(4,6);if(n<1||n>12)return null;const o=t>=80?1900+t:2e3+t;return 0===r&&(r=new Date(o,n,0).getDate()),new Date(Date.UTC(o,n-1,r)).toISOString().slice(0,10)},tm=e=>{if(!e)return null;try{const t="function"===typeof Jg?Jg(e):null;if(t&&t.parsedCodeItems&&t.parsedCodeItems.length>0){const e={};return t.ai01&&(e["01"]=t.ai01),t.ai17&&(e[17]=t.ai17),t.ai10&&(e[10]=t.ai10),t.ai21&&(e[21]=t.ai21),t.ai11&&(e[11]=t.ai11),t.ai30&&(e[30]=t.ai30),e._raw=t,e}}catch(Sv){console.debug("GS1 library parse failed, using bare parser:",Sv.message)}return(e=>{if(!e||"string"!==typeof e)return null;const t={};let n=e;n=n.replace(/\x1D/g,"").replace(/\]C1/gi,"");const r=[{ai:"01",pattern:/01(\d{14})/,fixed:!0,length:14},{ai:"17",pattern:/17(\d{6})/,fixed:!0,length:6},{ai:"10",pattern:/10([0-9A-Za-z]{1,20})/,fixed:!1,maxLength:20},{ai:"21",pattern:/21([0-9A-Za-z]{1,20})/,fixed:!1,maxLength:20},{ai:"11",pattern:/11(\d{6})/,fixed:!0,length:6},{ai:"30",pattern:/30(\d{1,8})/,fixed:!1,maxLength:8},{ai:"310",pattern:/310(\d)(\d{6})/,fixed:!0,length:7},{ai:"320",pattern:/320(\d)(\d{6})/,fixed:!0,length:7}];for(const{ai:o,pattern:i}of r){const e=n.match(i);e&&(t[o]=e[1],n=n.replace(e[0],""))}return t["01"]?t:null})(e)},nm=e=>{if(!$g(e,13))return-1;let t=0;for(let r=0;r<13;r++){t+=(e.charCodeAt(12-r)-48)*(r%2===0?3:1)}const n=t%10;return 0===n?0:10-n},rm=e=>{if(!$g(e,14))return!1;if(parseInt(e[0])>9)return!1;return nm(e.slice(0,13))===parseInt(e[13])},om=e=>{if(!$g(e,11))return-1;let t=0,n=0;for(let r=0;r<11;r++){const o=e.charCodeAt(r)-48;(r+1)%2?t+=o:n+=o}return(10-(3*t+n)%10)%10},im=e=>{if(!$g(e,12))return!1;if("3"!==e[0]&&"0"!==e[0])return!1;return om(e.slice(0,11))===parseInt(e[11])},am=e=>{const t=e.replace(/\D/g,"");return $g(t,14)&&rm(t)?"gtin14":$g(t,12)&&im(t)?"upca":$g(t,11)?"ndc11":$g(t,10)?"ndc10":null},sm=e=>{if(!$g(e,10))return[];const t=new Set;return t.add("0"+e),t.add(e.slice(0,5)+"0"+e.slice(5)),t.add(e.slice(0,9)+"0"+e.slice(9)),"0"!==e[0]&&t.add(e.slice(0,6)+"0"+e.slice(6)),[...t].filter(e=>$g(e,11))},lm=e=>{if(!e||"string"!==typeof e)return!1;const t=e.split("-");if(3!==t.length&&2!==t.length)return!1;if(2===t.length){const[e,n]=t;return(4===e.length||5===e.length||6===e.length)&&(3===n.length||4===n.length)&&$g(e,e.length)&&$g(n,n.length)}const[n,r,o]=t;return(4===n.length&&4===r.length&&2===o.length||5===n.length&&3===r.length&&2===o.length||5===n.length&&4===r.length&&1===o.length||6===n.length&&3===r.length&&2===o.length||6===n.length&&4===r.length&&1===o.length)&&$g(n,n.length)&&$g(r,r.length)&&$g(o,o.length)},cm=e=>{if(!$g(e,14))return[];if(!rm(e))return[];if("03"!==e.slice(1,3))return[];const t=e.slice(3,13);return sm(t)},um=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<0||t>8)return null;const n=e.replace(/\D/g,"");let r;if(11===n.length){r=[n.slice(1),n.slice(0,5)+n.slice(6),n.slice(0,9)+n.slice(10)].find(e=>$g(e,10))}else{if(10!==n.length)return null;r=n}if(!r)return null;const o=String(t)+"03"+r,i=nm(o);return-1===i?null:o+i},dm=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.replace(/\D/g,"");let r;if(11===n.length){r=[n.slice(1),n.slice(0,5)+n.slice(6),n.slice(0,9)+n.slice(10)].find(e=>$g(e,10))}else{if(10!==n.length)return null;r=n}if(!r)return null;const o=(t?"3":"0")+r,i=om(o);return-1===i?null:o+i},fm=e=>{if(!$g(e,11))return[];const t=e.slice(0,5),n=e.slice(1,5),r=e.slice(5,9),o=e.slice(5,8),i=e.slice(9,11),a=e.slice(10,11),s=e.slice(8,10),l="0"===e[5]?r.slice(1):o,c=new Set;if(c.add("".concat(t,"-").concat(r,"-").concat(i)),c.add("".concat(n,"-").concat(r,"-").concat(i)),c.add("".concat(t,"-").concat(l,"-").concat(i)),c.add("".concat(t,"-").concat(r,"-").concat(a)),c.add("".concat(t,"-").concat(l,"-").concat(s)),"0"===e[0]){const t=e.slice(1,6),n=e.slice(6,10),r=e.slice(10,11);c.add("".concat(t,"-").concat(n,"-").concat(r))}return[...c]},hm=e=>{if(!$g(e,11))return[];const t=e.slice(0,5),n=e.slice(1,5),r=e.slice(5,9),o=e.slice(5,8),i="0"===e[5]?r.slice(1):o,a=new Set(["".concat(t,"-").concat(r),"".concat(n,"-").concat(r),"".concat(t,"-").concat(i)]);if("0"===e[0]){const t=e.slice(1,6),n=e.slice(6,10);a.add("".concat(t,"-").concat(n))}return[...a]},pm=async(e,t,n)=>{const r=await t(e,{signal:n});if(!r.ok)throw new Error("OpenFDA ".concat(r.status," ").concat(r.statusText));return r.json()},gm=e=>String(e).replace(/\]C1|\]d2|\]e0|\]E0/gi,"").replace(/[\x1D]/g,"").replace(/^[\x00-\x1F]+/,"").trim(),mm=e=>{const t=(new Date).toISOString();if(console.debug("[NDC Service ".concat(t,"] ========== NORMALIZE SCAN START ==========")),console.debug("[NDC Service ".concat(t,'] Raw input: "').concat(e,'"')),null==e||""===e)return console.debug("[NDC Service ".concat(t,"] Empty input, returning failure")),{ok:!1,reason:"Empty scan"};const n=gm(e);if(console.debug("[NDC Service ".concat(t,'] After stripping symbology: "').concat(n,'"')),lm(n)){console.debug("[NDC Service ".concat(t,'] \u2192 Detected NDC format with dashes: "').concat(n,'"'));const e=n.replace(/\D/g,"");if(console.debug("[NDC Service ".concat(t,'] NDC digits extracted: "').concat(e,'" (length: ').concat(e.length,")")),$g(e,10)){console.debug("[NDC Service ".concat(t,"] \u2192 Processing as 10-digit NDC from dashed format"));const n=sm(e);if(console.debug("[NDC Service ".concat(t,"] 10-digit expansion candidates: ").concat(n.join(", "))),n.length)return console.debug("[NDC Service ".concat(t,"] \u2705 SUCCESS: 10-digit NDC from dashed format processed")),{ok:!0,source:"ndc10-dashed",barcodeType:"ndc10",ndc11:n[0],ndc11_candidates:n,ndc10:e,lot:null,expiry:null,serial:null,note:"10-digit NDC with dashes expanded to 11-digit candidates"}}else if($g(e,11))return console.debug("[NDC Service ".concat(t,"] \u2192 Processing as 11-digit NDC from dashed format")),console.debug("[NDC Service ".concat(t,"] \u2705 SUCCESS: 11-digit NDC from dashed format processed")),{ok:!0,source:"ndc11-dashed",barcodeType:"ndc11",ndc11:e,ndc11_candidates:[e],lot:null,expiry:null,serial:null,note:"11-digit NDC with dashes processed directly"}}const r=n.replace(/\D/g,"");console.debug("[NDC Service ".concat(t,'] Extracted digits: "').concat(r,'" (length: ').concat(r.length,")"));const o=am(r);if(console.debug("[NDC Service ".concat(t,"] Detected barcode type: ").concat(o," for digits: ").concat(r)),$g(r,10)){console.debug("[NDC Service ".concat(t,"] \u2192 Taking Strategy 1: 10-digit NDC processing"));const e=sm(r);if(console.debug("[NDC Service ".concat(t,"] 10-digit expansion candidates: ").concat(e.join(", "))),e.length){console.debug("[NDC Service ".concat(t,"] \u2705 Strategy 1 SUCCESS: 10-digit NDC processed"));const n={ok:!0,source:"ndc10-expanded",barcodeType:"ndc10",ndc11:e[0],ndc11_candidates:e,ndc10:r,lot:null,expiry:null,serial:null,note:"10-digit NDC expanded to 11-digit candidates"};return console.debug("[NDC Service ".concat(t,"] ========== NORMALIZE SCAN END (Strategy 1) ==========")),n}}if($g(r,11)&&!r.startsWith("3")){console.debug("[NDC Service ".concat(t,"] \u2192 Taking Strategy 1b: 11-digit NDC direct processing")),console.debug("[NDC Service ".concat(t,"] \u2705 Strategy 1b SUCCESS: 11-digit NDC processed"));const e={ok:!0,source:"ndc11-direct",barcodeType:"ndc11",ndc11:r,ndc11_candidates:[r],lot:null,expiry:null,serial:null};return console.debug("[NDC Service ".concat(t,"] ========== NORMALIZE SCAN END (Strategy 1b) ==========")),e}if($g(r,14)){if(console.debug("[NDC Service] Processing as GTIN-14: ".concat(r)),rm(r)){const e=cm(r);return e.length?{ok:!0,source:"gs1-gtin14",barcodeType:"gtin14",ndc11:e[0],ndc11_candidates:e,gtin14:r,lot:null,expiry:null,serial:null}:{ok:!1,reason:"GTIN-14 detected but not pharmaceutical (missing 003 prefix)",detectedType:"gtin14",gtin14:r,suggestion:"This appears to be a non-pharmaceutical GTIN-14. Try manual entry or scan a pharmaceutical barcode."}}return{ok:!1,reason:"Invalid GTIN-14 check digit",detectedType:"gtin14",raw:r,suggestion:"Check digit validation failed. Verify the complete barcode was scanned."}}let i=null;try{i=tm(n)}catch(Sv){console.debug("GS1 parsing failed:",Sv.message)}if(i&&i["01"]){const e=i["01"];if(rm(e)){const t=cm(e);return t.length?{ok:!0,source:"gs1-gtin14",barcodeType:"gtin14",ndc11:t[0],ndc11_candidates:t,gtin14:e,lot:i[10]||null,expiry:i[17]?em(i[17]):null,serial:i[21]||null,productionDate:i[11]?em(i[11]):null,metadata:i}:{ok:!1,reason:"GTIN-14 detected but not pharmaceutical (missing 003 prefix)",detectedType:"gtin14",gtin14:e}}return{ok:!1,reason:"Invalid GTIN-14 check digit",detectedType:"gtin14",raw:e}}if(12===r.length||11===r.length){console.debug("[NDC Service ".concat(t,"] \u2192 Taking Strategy 4: UPC-A processing (").concat(r.length," digits)"));let e=r;if(11===r.length&&("3"===r[0]||"0"===r[0])){const t=om(r);-1!==t&&(e=r+t)}if(console.debug("[NDC Service ".concat(t,"] UPC-A validation for: ").concat(e)),im(e)){console.debug("[NDC Service ".concat(t,"] UPC-A validation passed, extracting NDCs"));const n=(e=>{if(!$g(e,12))return[];if(!im(e))return[];if("3"!==e[0]&&"0"!==e[0])return[];const t=e.slice(1,11);return sm(t)})(e);if(console.debug("[NDC Service ".concat(t,"] UPC-A NDC candidates: ").concat(n.join(", "))),n.length){console.debug("[NDC Service ".concat(t,"] \u2705 Strategy 4 SUCCESS: UPC-A processed"));const r={ok:!0,source:"upc-a",barcodeType:"upca",ndc11:n[0],ndc11_candidates:n,upc12:e,lot:null,expiry:null,serial:null};return console.debug("[NDC Service ".concat(t,"] ========== NORMALIZE SCAN END (Strategy 4) ==========")),r}}else console.debug("[NDC Service ".concat(t,"] UPC-A validation failed for: ").concat(e));if(12===r.length){const e=om(r.slice(0,11));return{ok:!1,reason:"Invalid UPC-A check digit (expected ".concat(e,", got ").concat(r[11],")"),detectedType:"upca",raw:r}}}if(n.includes("-")&&lm(n)){const e=n.split("-");if(3===e.length){const t=e[0].padStart(5,"0")+e[1].padStart(4,"0")+e[2].padStart(2,"0");if($g(t,11))return{ok:!0,source:"ndc-dashed",barcodeType:"ndc-dashed",ndc11:t,ndc11_candidates:[t],ndcFormatted:n,lot:null,expiry:null,serial:null}}}let a="Unrecognized barcode format",s=[];return 13===r.length?(a="13-digit code detected (possibly EAN-13, not supported for pharmaceuticals)",s.push("Use UPC-A (12 digits) or GTIN-14 (14 digits) for pharmaceutical products")):8===r.length?(a="8-digit code detected (possibly EAN-8 or truncated)",s.push("Ensure complete barcode is scanned")):r.length>0&&r.length<10?n.match(/[a-zA-Z]/)?(a="Unrecognized barcode format",s.push("Pharmaceutical barcodes should contain only numeric digits")):(a="Incomplete code (".concat(r.length," digits)"),s.push("NDC codes should be 10 or 11 digits")):r.length>14&&(a="Code too long for standard pharmaceutical barcodes",s.push("Check if multiple barcodes were scanned together")),{ok:!1,reason:a,suggestions:s,detectedLength:r.length,raw:n}};function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.fetch||("undefined"!==typeof fetch?fetch:null);if(!t)throw new Error("No fetch available; pass { fetch } in Node <18.");const n=Qg(e.cacheSize||200),r=e.debug||!1;if(console.debug("[NDC Service] \ud83d\uddc3\ufe0f Cache initialized. Cache size: ".concat(n.size)),n.size>0){const e=Array.from(n.keys());console.debug("[NDC Service] \ud83d\uddc3\ufe0f Current cache keys:",e.slice(0,10)),console.debug("[NDC Service] \ud83d\uddc3\ufe0f Sample cache entries:",e.slice(0,5).map(e=>{var t,r,o;return{key:e,value:{ok:null===(t=n.get(e))||void 0===t?void 0:t.ok,brand_name:null===(r=n.get(e))||void 0===r?void 0:r.brand_name,ndc11:null===(o=n.get(e))||void 0===o?void 0:o.ndc11}}}))}const o=async function(e){let{signal:r,requestId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(new Date).toISOString(),a=o?"[".concat(o,"]"):"";console.debug("[NDC Service ".concat(i,"] ").concat(a,' \ud83d\udd0d verify() called for NDC: "').concat(e,'"'));const s="openfda:".concat(e);console.debug("[NDC Service ".concat(i,"] ").concat(a,' \ud83d\udddd\ufe0f Cache key: "').concat(s,'"'));const l=n.get(s);if(l){var c,u;const t=(l.ndc11||l.ndc10)===e||(null===(c=l.ndc11_candidates)||void 0===c?void 0:c.includes(e))||(null===(u=l.ndc10_candidates)||void 0===u?void 0:u.includes(e));return console.debug("[NDC Service ".concat(i,"] ").concat(a,' \ud83d\udcbe Cache hit for key "').concat(s,'":'),{requestedNdc:e,cachedNdc11:l.ndc11,cachedNdc10:l.ndc10,cachedBrandName:l.brand_name,isCorrectCache:t,ok:l.ok,reason:l.reason}),!t&&l.ok&&console.error("[NDC Service ".concat(i,"] ").concat(a," \u274c CACHE COLLISION DETECTED!"),{requestedNdc:e,cacheKey:s,cachedResult:{ndc11:l.ndc11,ndc10:l.ndc10,brand_name:l.brand_name,ndc11_candidates:l.ndc11_candidates,ndc10_candidates:l.ndc10_candidates}}),l}console.debug("[NDC Service ".concat(i,"] ").concat(a," \ud83c\udf10 Cache miss - making FDA API call for ").concat(e));try{const o=await(async(e,t,n)=>{const r=(new Date).toISOString();if(console.debug("[NDC Service ".concat(r,'] \ud83d\ude80 verifyWithOpenFda() called for NDC-11: "').concat(e,'"')),!$g(e,11))return{ok:!1,reason:"Input must be 11 digits",ndc11:e};const o=fm(e),i=hm(e);console.debug("[NDC Service ".concat(r,"] \ud83d\udce6 Package candidates: ").concat(o.join(", "))),console.debug("[NDC Service ".concat(r,"] \ud83c\udfed Product candidates: ").concat(i.join(", ")));for(const l of o){const o='https://api.fda.gov/drug/ndc.json?search=packaging.package_ndc:"'.concat(encodeURIComponent(l),'"&limit=1');console.debug("[NDC Service ".concat(r,"] \ud83d\udd0e Trying package lookup: ").concat(l," -> ").concat(o));try{var a;const i=await pm(o,t,n),s=null===i||void 0===i||null===(a=i.results)||void 0===a?void 0:a[0];if(s){console.debug("[NDC Service ".concat(r,"] \u2705 Found package match for ").concat(l,": ").concat(s.brand_name||s.generic_name));const t=(s.packaging||[]).find(e=>e.package_ndc===l)||null,n=new Kg(s),o={ok:!0,confidence:"package-exact",ndc11:e,ndc10:l,product_ndc:n.product_ndc,brand_name:n.brand_name,generic_name:n.generic_name,labeler_name:n.labeler_name,dosage_form:n.dosage_form,route:n.route,dea_schedule:n.dea_schedule,package:t,raw:n};return console.debug("[NDC Service ".concat(r,"] \ud83c\udfaf Returning package-exact result:"),{ndc11:o.ndc11,ndc10:o.ndc10,brand_name:o.brand_name}),o}console.debug("[NDC Service ".concat(r,"] \u274c No package match for ").concat(l))}catch(Sv){console.warn("[NDC Service ".concat(r,"] \u26a0\ufe0f OpenFDA package-exact error for ").concat(l,":"),Sv.message)}}for(const l of i){const r='https://api.fda.gov/drug/ndc.json?search=product_ndc:"'.concat(encodeURIComponent(l),'"&limit=1');console.debug("[NDC Service] Trying product lookup: ".concat(l));try{var s;const i=await pm(r,t,n);if(null!==i&&void 0!==i&&null!==(s=i.results)&&void 0!==s&&s.length)return console.debug("[NDC Service] \u2713 Found product match for ".concat(l,": ").concat(i.results[0].brand_name||i.results[0].generic_name)),{ok:!0,confidence:"product-level",ndc11:e,ndc10_candidates:o,product_ndc:l,matches:i.results.map(e=>new Kg(e))};console.debug("[NDC Service] \u2717 No product match for ".concat(l))}catch(Sv){console.warn("[NDC Service] OpenFDA product-level error for ".concat(l,":"),Sv.message)}}return console.debug("[NDC Service] No FDA matches found for NDC-11: ".concat(e)),{ok:!1,reason:"No OpenFDA match found after trying all candidates",ndc11:e,ndc10_candidates:o,product_candidates_tried:i}})(e,t,r);return console.debug("[NDC Service ".concat(i,"] ").concat(a," \u2705 FDA API response for ").concat(e,":"),{ok:o.ok,brand_name:o.brand_name,ndc11:o.ndc11,ndc10:o.ndc10||"undefined",reason:o.reason,confidence:o.confidence}),console.debug("[NDC Service ".concat(i,"] ").concat(a,' \ud83d\udcbe Caching result with key "').concat(s,'"')),n.set(s,o),o}catch(d){console.debug("[NDC Service ".concat(i,"] ").concat(a," \u274c FDA API error for ").concat(e,":"),d.message);return{ok:!1,reason:"OpenFDA verification failed: ".concat(d.message),ndc11:e,error:d}}},i={validateGtin14:rm,validateUpcA:im,validateNdcFormat:lm,detectBarcodeType:am,ndcToGtin14:um,ndcToUpcA:dm,expandNdc10To11All:sm,expandNdc11ToPackageCandidates:fm,expandNdc11ToProductCandidates:hm,isCustomCode:e=>{if(!e)return!1;const t=e.replace(/\D/g,"");return!/^\d{10,11}$/.test(t)||!1===e.includes("-")&&t.length<10},validateStandardNDC:e=>{if(!e||""===e.trim())return{isValid:!1,message:"NDC number is required"};const t=mm(e.trim());return{isValid:t.ok,message:t.ok?"":t.reason||"Invalid NDC format"}},validateManualCode:e=>{if(!e||0===e.trim().length)return{isValid:!1,message:"Code is required"};const t=e.trim();return t.length<1?{isValid:!1,message:"Code too short"}:/^[a-zA-Z0-9\-.]+$/.test(t)?{isValid:!0,message:""}:{isValid:!1,message:"Code contains invalid characters"}}};return{normalizeScan:mm,ndc11ToNdc10Candidates:fm,verify:o,scanAndVerify:async function(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="req_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),i=(new Date).toISOString();console.debug("[NDC Service ".concat(i,"] \ud83d\ude80 scanAndVerify [").concat(n,'] called with: "').concat(e,'"'));const a=mm(e);if(r&&console.log("[NDC Service ".concat(i,"] [").concat(n,"] Normalized scan result:"),a),!a.ok)return console.debug("[NDC Service ".concat(i,"] [").concat(n,"] Normalization failed: ").concat(a.reason)),c(c({ok:!1},a),{},{allowManualEntry:!0,requestId:n});if(!a.ndc11)return console.debug("[NDC Service ".concat(i,"] [").concat(n,"] No NDC11 extracted from normalized result")),c(c({ok:!1,reason:"No NDC could be extracted"},a),{},{requestId:n});const s=a.ndc11_candidates||[a.ndc11];console.debug("[NDC Service ".concat(i,"] [").concat(n,"] Will verify ").concat(s.length," NDC-11 candidate(s): ").concat(s.join(", ")));const l=[];let u=null;for(const r of s){console.debug("[NDC Service ".concat(i,"] [").concat(n,"] Verifying candidate: ").concat(r));const e=await o(r,{signal:t,requestId:n});if(console.debug("[NDC Service ".concat(i,"] [").concat(n,"] Verification result for ").concat(r,":"),{ok:e.ok,brand_name:e.brand_name,ndc11:e.ndc11,ndc10:e.ndc10}),l.push({ndc11:r,result:e}),e.ok){if("package-exact"===e.confidence){u={ok:!0,source:a.source,barcodeType:a.barcodeType,ndc11:r,ndc10:e.ndc10,product_ndc:e.product_ndc,brand_name:e.brand_name,generic_name:e.generic_name,labeler_name:e.labeler_name,dosage_form:e.dosage_form,route:e.route,dea_schedule:e.dea_schedule,package:e.package,lot:a.lot,expiry:a.expiry,serial:a.serial,productionDate:a.productionDate,confidence:"high"};break}"product-level"!==e.confidence||u||(u={ok:!0,source:a.source,barcodeType:a.barcodeType,ndc11:r,ndc10_candidates:e.ndc10_candidates||fm(r),product_ndc:e.product_ndc,matches:e.matches,lot:a.lot,expiry:a.expiry,serial:a.serial,productionDate:a.productionDate,note:"Product found; package ambiguous.",confidence:"medium"})}}return u?(console.debug("[NDC Service ".concat(i,"] [").concat(n,"] \u2705 Returning best result:"),{ok:u.ok,confidence:u.confidence,brand_name:u.brand_name,ndc11:u.ndc11,ndc10:u.ndc10}),c(c({},u),{},{requestId:n})):(console.debug("[NDC Service ".concat(i,"] [").concat(n,"] \u274c No match found for any candidate")),{ok:!1,source:a.source,barcodeType:a.barcodeType,ndc11:a.ndc11,ndc11_candidates:s,ndc10_candidates:fm(a.ndc11),lot:a.lot,expiry:a.expiry,serial:a.serial,reason:"No OpenFDA match found",verificationAttempts:l,allowManualEntry:!0,requestId:n})},utils:i,parseGS1:tm,stripSymbology:gm,clearCache:()=>{const e=n.size;return n.clear(),console.debug("[NDC Service] \ud83d\uddd1\ufe0f Cache cleared. Removed ".concat(e," entries.")),e},inspectCache:()=>{const e=Array.from(n.keys());return console.debug("[NDC Service] \ud83d\udd0d Cache inspection - ".concat(n.size," entries:"),e.slice(0,10).map(e=>{var t,r,o;return{key:e,ok:null===(t=n.get(e))||void 0===t?void 0:t.ok,brand_name:null===(r=n.get(e))||void 0===r?void 0:r.brand_name,ndc11:null===(o=n.get(e))||void 0===o?void 0:o.ndc11}})),{size:n.size,keys:e}}}}function vm(e){if(!e||"string"!==typeof e)return null;const t=e.trim().match(/^(\d+(?:\.\d+)?)\s*([a-zA-Z\u03bcu]+)(?:\s|$)/i);if(!t)return null;const[,n,r]=t,o=parseFloat(n);if(isNaN(o)||o<=0)return null;return{count:o,unit:r.toLowerCase().replace(/^capsules?$/i,"capsules").replace(/^tablet(s)?$/i,"tablets").replace(/^tab(s)?$/i,"tablets").replace(/^cap(s)?$/i,"capsules").replace(/^patch(es)?$/i,"patches").replace(/^ml$/i,"mL").replace(/^gram(s)?$/i,"grams").replace(/^mg$/i,"mg").replace(/^mcg$/i,"mcg")}}function wm(e,t,n){return e&&t&&n?e*t*n:0}function bm(e,t){return e&&t?e*t:0}function Cm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.packageSize||"1 unit",i=vm(o),a=(null===t||void 0===t?void 0:t.pricePerUnit)||0,s=(null===t||void 0===t?void 0:t.pricingUnit)||"EA",l=(null===i||void 0===i?void 0:i.count)||1,c=(null===i||void 0===i?void 0:i.unit)||"units";return{lineNo:n,packages:r,packageSize:o,itemName:e.brandName||e.itemName||"Unknown item",productName:e.itemName||e.brandName||"Unknown item",ndc11:e.ndcNumber||e.ndc11||void 0,labeler_name:e.labeler_name||"Default Labeler",manufacturer:e.labeler_name||"Default Labeler",pricePerUnit:a,pricingUnit:s,unitsPerPackage:l,packageUnit:c,pricePerPackage:bm(a,l),totalPrice:wm(a,l,r),dea_schedule:e.dea_schedule||null,strength:e.strength||"",dosageForm:e.dosage_form||e.dosageForm||"",form:e.dosage_form||e.dosageForm||"",finished:void 0!==e.finished?e.finished:null,brandName:e.brandName||"",genericName:e.genericName||e.itemName||"",route:e.route||[]}}function Em(e){const t=[];return e?(e.itemName&&""!==e.itemName.trim()&&"Unknown item"!==e.itemName||t.push("Item name is required and cannot be 'Unknown item'"),e.packageSize&&""!==e.packageSize.trim()&&"UNKNOWN"!==e.packageSize||t.push("Package size is required. Please specify the package size (e.g., '1 tablet', '100 capsules', '10 mL')"),e.ndc11&&""!==e.ndc11.trim()||t.push("NDC-11 code is required"),(!e.packages||"number"!==typeof e.packages||e.packages<=0)&&t.push("Quantity (packages) must be a positive number"),e.labeler_name&&""!==e.labeler_name.trim()||t.push("Labeler name is required"),void 0!==e.pricePerUnit&&null!==e.pricePerUnit&&("number"!==typeof e.pricePerUnit||e.pricePerUnit<0)&&t.push("Price per unit must be a non-negative number"),void 0!==e.unitsPerPackage&&null!==e.unitsPerPackage&&("number"!==typeof e.unitsPerPackage||e.unitsPerPackage<=0)&&t.push("Units per package must be a positive number"),void 0!==e.lineNo&&null!==e.lineNo&&("number"!==typeof e.lineNo||e.lineNo<1||e.lineNo>10)&&t.push("Line number must be between 1 and 10"),{isValid:0===t.length,errors:t}):(t.push("Line item is required"),{isValid:!1,errors:t})}const _m=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],Sm=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,striped:o,bordered:i,borderless:a,hover:s,size:l,variant:u,responsive:f}=e,p=d(e,_m);const g=L(n,"table"),m=h()(r,g,u&&"".concat(g,"-").concat(u),l&&"".concat(g,"-").concat(l),o&&"".concat(g,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),i&&"".concat(g,"-bordered"),a&&"".concat(g,"-borderless"),s&&"".concat(g,"-hover")),y=(0,S.jsx)("table",c(c({},p),{},{className:m,ref:t}));if(f){let e="".concat(g,"-responsive");return"string"===typeof f&&(e="".concat(e,"-").concat(f)),(0,S.jsx)("div",{className:e,children:y})}return y}),Am=Sm,Im=e=>{let{selectedClient:n}=e;const{currentReport:r,updateLineItem:o,deleteLineItem:i}=(0,t.useContext)(So);(0,t.useEffect)(()=>{var e;console.log("\ud83d\udd0d CurrentItemsTable currentReport changed:",r),console.log("\ud83d\udd0d CurrentItemsTable items count:",(null===r||void 0===r||null===(e=r.items)||void 0===e?void 0:e.length)||0)},[r]),(0,t.useEffect)(()=>{console.log("\ud83d\udd04 CurrentItemsTable component re-rendered")});const[a,s]=(0,t.useState)(!1),[l,u]=(0,t.useState)(null),[d,f]=(0,t.useState)([]),[h,p]=(0,t.useState)({isValid:!0,message:""}),g=ym(),m=n&&"object"===typeof n?n.id:n;(0,t.useEffect)(()=>{if(l&&l.pricePerUnit&&l.unitsPerPackage&&l.packages){const e=bm(l.pricePerUnit,l.unitsPerPackage),t=wm(l.pricePerUnit,l.unitsPerPackage,l.packages);l.pricePerPackage===e&&l.totalPrice===t||u(n=>c(c({},n),{},{pricePerPackage:e,totalPrice:t}))}},[l]);const y=()=>(null===n||void 0===n?void 0:n.returnInstructions)||"",v=(e,t)=>{let r,o;if(console.log("\ud83d\udd0d handleEditItem called with item:",e),e.packageCount&&e.packageUnit)r=e.packageCount,o=e.packageUnit,console.log("\u2705 Using existing packageCount and packageUnit:",{packageCount:r,packageUnit:o});else{const t=vm(e.packageSize);r=(null===t||void 0===t?void 0:t.count)||1,o=(null===t||void 0===t?void 0:t.unit)||"units",console.log("\u26a0\ufe0f Parsed packageSize:",{packageSize:e.packageSize,parsed:t,packageCount:r,packageUnit:o})}const i=c(c({},e),{},{labeler_name:(null===n||void 0===n?void 0:n.labelerName)||"N/A",return_instructions:y(),packageCount:r,packageUnit:o});console.log("\ud83d\udcdd Setting editingItem:",i),u(i),s(!0),f([])},w=async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{const t=r.items[e];if(console.log("\ud83d\uddd1\ufe0f Attempting to delete item:",{index:e,item:t,itemId:null===t||void 0===t?void 0:t.id}),!t||!t.id)return console.error("Cannot delete item: item or item.id is missing",{item:t}),void alert("Cannot delete this item: missing ID. Please refresh the page and try again.");console.log("\ud83d\udce1 Calling deleteLineItem with:",{clientId:m,reportId:r.id,itemId:t.id}),await i(m,r.id,t.id)}catch(t){console.error("Failed to delete item:",t.message||t),alert("Failed to delete item. Please try again.")}},b=()=>{s(!1),u(null),f([])};return null!==r&&void 0!==r&&r.items&&0!==r.items.length?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(vs,{className:"mb-4 current-items-card",children:[(0,S.jsx)(vs.Header,{children:(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,S.jsxs)("h5",{className:"mb-0",children:["Current Items in Report (",r.items.length,")"]}),r.id&&m&&r.items.length>0&&(0,S.jsxs)("div",{className:"d-flex gap-2",children:[(0,S.jsx)(zs,{clientId:m,reportId:r.id,report:{id:r.id,lineItems:r.items,client:n},variant:"outline-success",size:"sm"}),(0,S.jsx)(js,{clientId:m,reportId:r.id,report:{id:r.id,lineItems:r.items,client:n},variant:"outline-danger",size:"sm"})]})]})}),(0,S.jsxs)(vs.Body,{className:"p-0",children:[(0,S.jsx)("div",{className:"table-responsive d-none d-lg-block",children:(0,S.jsxs)(Am,{striped:!0,hover:!0,className:"current-items-table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Line #"}),(0,S.jsx)("th",{children:"Item Name"}),(0,S.jsx)("th",{children:"NDC-11"}),(0,S.jsx)("th",{children:"Package Details"}),(0,S.jsx)("th",{children:"Qty"}),(0,S.jsx)("th",{children:"Pricing"}),(0,S.jsx)("th",{children:"Total Price"}),(0,S.jsx)("th",{children:"DEA"}),(0,S.jsx)("th",{children:"Labeler"}),(0,S.jsx)("th",{children:"Notes for Return"}),(0,S.jsx)("th",{children:"Actions"})]})}),(0,S.jsx)("tbody",{children:r.items.map((e,t)=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"fw-bold",children:t+1}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{className:"item-name-truncate-table",title:e.itemName,children:[e.itemName,e.isManualEntry&&(0,S.jsx)("span",{className:"manual-entry-badge-table",title:"Manual Entry",children:"\ud83d\udd27 Manual"}),e.hasFDAData&&(0,S.jsx)("span",{className:"fda-verified-badge-table",title:"FDA Verified Data",children:"\u2705 FDA"})]})}),(0,S.jsx)("td",{children:(0,S.jsx)("code",{className:"small",children:e.ndc11})}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units/pkg"]})]})}),(0,S.jsx)("td",{className:"text-center",children:(0,S.jsx)("span",{className:"badge bg-secondary",children:e.packages})}),(0,S.jsxs)("td",{className:"text-end",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("strong",{children:["$",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"]}),(0,S.jsxs)("small",{className:"text-muted d-block",children:["per ",e.pricingUnit||"unit"]})]}),(0,S.jsxs)("div",{className:"mt-1",children:[(0,S.jsxs)("span",{className:"text-info",children:["$",e.pricePerPackage?e.pricePerPackage.toFixed(2):"0.00"]}),(0,S.jsx)("small",{className:"text-muted d-block",children:"per package"})]})]}),(0,S.jsx)("td",{className:"text-end",children:(0,S.jsxs)("strong",{className:"text-success",children:["$",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]})}),(0,S.jsx)("td",{className:"text-center",children:e.dea_schedule?(0,S.jsx)(Ss,{bg:"CI"===e.dea_schedule||"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",title:"CI"===e.dea_schedule||"CII"===e.dea_schedule?"Requires Form 222":"Schedule ".concat(e.dea_schedule.substring(1)," Controlled Substance"),children:e.dea_schedule}):(0,S.jsx)("span",{className:"text-muted",children:"-"})}),(0,S.jsx)("td",{children:(0,S.jsx)("div",{className:"labeler-name-truncate",title:(null===n||void 0===n?void 0:n.labelerName)||"N/A",children:(null===n||void 0===n?void 0:n.labelerName)||"N/A"})}),(0,S.jsx)("td",{children:(0,S.jsx)("div",{className:"return-instructions-truncate",title:y(),children:y()||"N/A"})}),(0,S.jsx)("td",{children:(0,S.jsxs)("div",{className:"d-flex gap-1 item-actions",children:[(0,S.jsx)(We,{variant:"outline-primary",size:"sm",onClick:()=>v(e),children:"Edit"}),(0,S.jsx)(We,{variant:"outline-danger",size:"sm",onClick:()=>w(t),children:"Delete"})]})})]},t))})]})}),(0,S.jsx)("div",{className:"d-block d-lg-none",children:r.items.map((e,t)=>(0,S.jsxs)("div",{className:"border-bottom p-3",children:[(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsxs)("span",{className:"badge bg-primary me-2",children:["#",t+1]}),(0,S.jsxs)("h6",{className:"item-header-title",children:[e.itemName,e.isManualEntry&&(0,S.jsx)("span",{className:"manual-entry-badge-mobile",title:"Manual Entry",children:"\ud83d\udd27 Manual"}),e.hasFDAData&&(0,S.jsx)("span",{className:"fda-verified-badge-mobile",title:"FDA Verified Data",children:"\u2705 FDA"})]})]}),(0,S.jsxs)("div",{className:"d-flex gap-1",children:[(0,S.jsx)(We,{variant:"outline-primary",size:"sm",onClick:()=>v(e),className:"btn-table-small",children:"Edit"}),(0,S.jsx)(We,{variant:"outline-danger",size:"sm",onClick:()=>w(t),className:"btn-table-small",children:"Del"})]})]}),(0,S.jsxs)("div",{className:"row g-2 small",children:[(0,S.jsxs)("div",{className:"col-6",children:[(0,S.jsx)("strong",{children:"NDC:"})," ",(0,S.jsx)("code",{className:"small",children:e.ndc11})]}),(0,S.jsxs)("div",{className:"col-6",children:[(0,S.jsx)("strong",{children:"Qty:"})," ",(0,S.jsx)("span",{className:"badge bg-secondary",children:e.packages})]}),(0,S.jsxs)("div",{className:"col-12",children:[(0,S.jsx)("strong",{children:"Package:"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{className:"text-primary",children:e.packageSize}),e.unitsPerPackage&&(0,S.jsxs)("div",{className:"small text-muted",children:[e.unitsPerPackage," units per package"]})]})]}),(0,S.jsxs)("div",{className:"col-6",children:[(0,S.jsx)("strong",{children:"Unit Price:"})," $",e.pricePerUnit?e.pricePerUnit.toFixed(4):"0.0000"," per ",e.pricingUnit||"unit"]}),(0,S.jsxs)("div",{className:"col-6",children:[(0,S.jsx)("strong",{children:"Package Price:"})," $",e.pricePerPackage?e.pricePerPackage.toFixed(2):"0.00"]}),(0,S.jsxs)("div",{className:"col-12",children:[(0,S.jsx)("strong",{children:"Total Price:"})," ",(0,S.jsxs)("span",{className:"text-success fw-bold",children:["$",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]})]}),e.dea_schedule&&(0,S.jsxs)("div",{className:"col-6",children:[(0,S.jsx)("strong",{children:"DEA:"})," ",(0,S.jsx)(Ss,{bg:"CI"===e.dea_schedule||"CII"===e.dea_schedule?"danger":"CIII"===e.dea_schedule?"warning":"CIV"===e.dea_schedule||"CV"===e.dea_schedule?"info":"secondary",title:"CI"===e.dea_schedule||"CII"===e.dea_schedule?"Requires Form 222":"Schedule ".concat(e.dea_schedule.substring(1)," Controlled Substance"),children:e.dea_schedule})]}),(0,S.jsxs)("div",{className:"col-12",children:[(0,S.jsx)("strong",{children:"Labeler:"})," ",(null===n||void 0===n?void 0:n.labelerName)||"N/A"]}),y()&&(0,S.jsxs)("div",{className:"col-12",children:[(0,S.jsx)("strong",{children:"Return Notes:"}),(0,S.jsx)("div",{className:"text-muted small mt-1",children:y()})]})]})]},t))})]})]}),(0,S.jsxs)(kt,{show:a,onHide:b,size:"lg",scrollable:!0,children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:"Edit Item"})}),(0,S.jsx)(kt.Body,{children:l&&(0,S.jsxs)(Va,{children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Item Name *"}),(0,S.jsx)(Va.Control,{type:"text",value:l.itemName||"",onChange:e=>u(c(c({},l),{},{itemName:e.target.value}))})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"NDC-11/Product Code *"}),(0,S.jsx)(Va.Control,{type:"text",value:l.ndc11||"",onChange:e=>{const t=e.target.value;if(u(c(c({},l),{},{ndc11:t})),""===t.trim())p({isValid:!0,message:""});else{let e;e=(null===l||void 0===l?void 0:l.isManualEntry)||g.utils.isCustomCode(t)?g.utils.validateManualCode(t):g.utils.validateStandardNDC(t),p(e)}},disabled:null===l||void 0===l?void 0:l.hasFDAData,isInvalid:!h.isValid}),!h.isValid&&h.message&&(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:h.message}),(null===l||void 0===l?void 0:l.hasFDAData)&&(0,S.jsx)(Va.Text,{className:"text-muted",children:"\ud83d\udd12 NDC locked - FDA verified item"})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-3",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Package Size *"}),(0,S.jsx)(Va.Control,{type:"number",value:l.packageCount||"",onChange:e=>{const t=e.target.value,n=""===t?"":parseInt(t)||0,r=""===t?"":"".concat(n||1," ").concat(l.packageUnit||"units");u(c(c({},l),{},{packageCount:n,packageSize:r,unitsPerPackage:n||1}))},min:"1",placeholder:"100"})]})}),(0,S.jsx)("div",{className:"col-md-3",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Package Unit *"}),(0,S.jsx)(Va.Control,{type:"text",value:l.packageUnit||"",onChange:e=>{const t=e.target.value,n=""===t?"":"".concat(l.packageCount||1," ").concat(t||"units");u(c(c({},l),{},{packageUnit:t,packageSize:n}))},placeholder:"tablets",list:"packageUnits"}),(0,S.jsxs)("datalist",{id:"packageUnits",children:[(0,S.jsx)("option",{value:"tablets"}),(0,S.jsx)("option",{value:"capsules"}),(0,S.jsx)("option",{value:"patches"}),(0,S.jsx)("option",{value:"mL"}),(0,S.jsx)("option",{value:"grams"}),(0,S.jsx)("option",{value:"mg"}),(0,S.jsx)("option",{value:"mcg"}),(0,S.jsx)("option",{value:"units"})]})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Quantity *"}),(0,S.jsx)(Va.Control,{type:"number",value:l.packages||1,onChange:e=>u(c(c({},l),{},{packages:parseInt(e.target.value)||1})),min:"1"})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Price per Unit"}),(0,S.jsx)(Va.Control,{type:"number",step:"0.0001",value:l.pricePerUnit||"",onChange:e=>u(c(c({},l),{},{pricePerUnit:parseFloat(e.target.value)||0})),placeholder:"0.0000"})]})}),(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Units per Package"}),(0,S.jsx)(Va.Control,{type:"number",value:l.unitsPerPackage||"",onChange:e=>u(c(c({},l),{},{unitsPerPackage:parseInt(e.target.value)||0})),placeholder:"1",min:"1"})]})}),(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Price per Package"}),(0,S.jsx)(Va.Control,{type:"text",value:l.pricePerPackage?"$".concat(l.pricePerPackage.toFixed(4)):"$0.0000",readOnly:!0,className:"bg-light"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"Calculated automatically"})]})})]}),(0,S.jsx)("div",{className:"row",children:(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Total Price"}),(0,S.jsx)(Va.Control,{type:"text",value:l.totalPrice?"$".concat(l.totalPrice.toFixed(2)):"$0.00",readOnly:!0,className:"bg-light"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"Calculated automatically (Price per Unit \xd7 Units per Package \xd7 Quantity)"})]})})}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Labeler Name *"}),(0,S.jsx)(Va.Control,{type:"text",value:l.labeler_name||"",disabled:!0,title:"Labeler is set at the client level",placeholder:"Enter labeler name"})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Notes for Return"}),(0,S.jsx)(Va.Control,{as:"textarea",rows:2,value:l.return_instructions||"",disabled:!0,title:"Return instructions are set at the client level",placeholder:"Return instructions are set at the client level"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"These notes will be saved for all items from this labeler"})]})})]}),d.length>0&&(0,S.jsxs)(ze,{variant:"danger",children:[(0,S.jsx)(ze.Heading,{children:"Validation Errors:"}),(0,S.jsx)("ul",{className:"mb-0",children:d.map((e,t)=>(0,S.jsx)("li",{children:e},t))})]})]})}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:b,children:"Cancel"}),(0,S.jsx)(We,{variant:"primary",onClick:async()=>{var e,t,n;console.log("\ud83d\ude80 SAVE BUTTON CLICKED!"),console.log("\ud83d\udcbe handleSaveEditedItem called with editingItem:",l),console.log("\ud83d\udd0d currentReport at start of save:",r);const i=""!==l.packageCount&&l.packageCount?l.packageCount:1,a=""!==l.packageUnit&&l.packageUnit?l.packageUnit:"units",d="".concat(i," ").concat(a);console.log("\ud83d\udd0d DEBUG - editingItem.packages before itemToSave:",l.packages),console.log("\ud83d\udd0d DEBUG - finalPackageCount:",i),console.log("\ud83d\udd0d DEBUG - editingItem full object:",l);const h=c(c({},l),{},{packageSize:d,packageCount:i,packageUnit:a});console.log("\ud83d\udcbe itemToSave prepared:",h),console.log("\ud83d\udd0d DEBUG - itemToSave.packages:",h.packages);const p=[];if(null!==(e=h.itemName)&&void 0!==e&&e.trim()||p.push("Item Name is required"),null!==(t=h.ndc11)&&void 0!==t&&t.trim()||p.push("NDC-11 is required"),(!i||i<1)&&p.push("Package Size count is required and must be at least 1"),null!==a&&void 0!==a&&a.trim()||p.push("Package Unit is required"),(!h.packages||h.packages<1)&&p.push("Quantity must be at least 1"),null!==(n=h.labeler_name)&&void 0!==n&&n.trim()||p.push("Labeler name is required"),p.length>0)f(p);else try{console.log("\ud83d\udce1 About to call updateLineItem with:",{clientId:m,reportId:r.id,itemId:h.id,itemToSave:h}),console.log("\ud83d\udd0d currentReport before API call:",r);const e=await o(m,r.id,h.id,h);console.log("\ud83d\udce1 updateLineItem result:",e),console.log("\ud83d\udd0d currentReport after API call:",r),console.log("\u2705 Save operation completed successfully"),s(!1),u(null),f([])}catch(g){console.error("Failed to save edited item:",g.message||g),f([g.message||"Failed to save changes. Please try again."])}},children:"Save Changes"})]})]})]}):null};function Nm(e,t){const n=t||"units";return"".concat(e||1," ").concat(n)}const xm=["tablets","capsules","patches","mL","grams","mg","mcg","units"],Om=ym(),Tm=e=>{let{show:n,onHide:r,onSubmit:o,title:i="Manual Entry - Form 222 Line",submitButtonText:a="Create Line Item",initialBarcode:s="",initialData:l=null,saveToCache:u=!0}=e;const[d,f]=(0,t.useState)({barcode:"",itemName:"",ndc11:"",packageCount:1,packageUnit:"units",packageSize:"",packages:1,pricePerUnit:0,unitsPerPackage:1,pricePerPackage:0,totalPrice:0,labeler_name:"",return_instructions:"",hasFDAData:!1,isManualEntry:!1}),[h,p]=(0,t.useState)({isValid:!0,message:""}),[g,m]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(n){if(l)f(c(c({},{barcode:"",itemName:"",ndc11:"",packageCount:1,packageUnit:"units",packageSize:"",packages:1,pricePerUnit:0,unitsPerPackage:1,pricePerPackage:0,totalPrice:0,labeler_name:"",return_instructions:"",hasFDAData:!1,isManualEntry:!1}),{},{barcode:l.barcode||"",itemName:l.itemName||"",ndc11:l.ndc11||l.ndcNumber||"",packageCount:l.packageCount||1,packageUnit:l.packageUnit||"units",packageSize:l.packageSize||"",packages:l.packages||1,pricePerUnit:l.pricePerUnit||l.pricePerEA||0,unitsPerPackage:l.unitsPerPackage||1,labeler_name:l.labeler_name||"",return_instructions:l.return_instructions||"",isManualEntry:!0}));else{const e=c(c({},{barcode:"",itemName:"",ndc11:"",packageCount:1,packageUnit:"units",packageSize:"",packages:1,pricePerUnit:0,unitsPerPackage:1,pricePerPackage:0,totalPrice:0,labeler_name:"",return_instructions:"",hasFDAData:!1,isManualEntry:!1}),{},{barcode:s||"",isManualEntry:!0});s&&/^\d{11}$/.test(s.replace(/\D/g,""))&&(e.ndc11=s),f(e)}p({isValid:!0,message:""}),m([])}},[n,s,l]),(0,t.useEffect)(()=>{const e=parseFloat(d.pricePerUnit)||0,t=parseInt(d.unitsPerPackage)||1,n=parseInt(d.packages)||1;if(e&&t&&n){const r=bm(e,t),o=wm(e,t,n);d.pricePerPackage===r&&d.totalPrice===o||f(e=>c(c({},e),{},{pricePerPackage:r,totalPrice:o}))}},[d.pricePerUnit,d.unitsPerPackage,d.packages,d.pricePerPackage,d.totalPrice]);const w=e=>e&&""!==e.trim()?Om.utils.isCustomCode(e)?Om.utils.validateManualCode(e.trim()):Om.utils.validateStandardNDC(e.trim()):{isValid:!1,message:"Code is required"},b=(e,t)=>{f(n=>c(c({},n),{},{[e]:t}))},C=()=>{f({barcode:"",itemName:"",ndc11:"",packageCount:1,packageUnit:"units",packageSize:"",packages:1,pricePerUnit:0,unitsPerPackage:1,pricePerPackage:0,totalPrice:0,labeler_name:"",return_instructions:"",hasFDAData:!1,isManualEntry:!1}),p({isValid:!0,message:""}),m([]),r()};return(0,S.jsxs)(kt,{show:n,onHide:C,size:"lg",scrollable:!0,children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:i})}),(0,S.jsx)(kt.Body,{children:(0,S.jsxs)(Va,{children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Barcode/Identifier"}),(0,S.jsx)(Va.Control,{type:"text",value:d.barcode,onChange:e=>b("barcode",e.target.value),placeholder:"Scanned barcode or unique identifier"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"The barcode/code that was scanned (used as cache key for retrieving this entry)"})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Item Name *"}),(0,S.jsx)(Va.Control,{type:"text",value:d.itemName,onChange:e=>b("itemName",e.target.value),placeholder:"Item name (brand or generic)",required:!0})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"NDC-11/Product Code *"}),(0,S.jsx)(Va.Control,{type:"text",value:d.ndc11,onChange:e=>(e=>{if(f(t=>c(c({},t),{},{ndc11:e})),""===e.trim())p({isValid:!0,message:""});else{const t=w(e);p(t)}})(e.target.value),placeholder:"NDC-11 or custom code (e.g., 12345678901 or 1231)",isInvalid:!h.isValid,required:!0}),!h.isValid&&h.message&&(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:h.message})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Labeler Name *"}),(0,S.jsx)(Va.Control,{type:"text",value:d.labeler_name,onChange:e=>b("labeler_name",e.target.value),placeholder:"Pharmaceutical manufacturer/labeler name",required:!0})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-3",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Package Size *"}),(0,S.jsx)(Va.Control,{type:"number",value:d.packageCount||"",onChange:e=>(e=>{const t=""===e?"":parseInt(e)||1,n=Nm(t,d.packageUnit);f(e=>c(c({},e),{},{packageCount:t,packageSize:n,unitsPerPackage:t||1}))})(e.target.value),min:"1",placeholder:"100"})]})}),(0,S.jsx)("div",{className:"col-md-3",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Package Unit *"}),(0,S.jsx)(Va.Control,{type:"text",value:d.packageUnit||"",onChange:e=>(e=>{const t=Nm(d.packageCount,e);f(n=>c(c({},n),{},{packageUnit:e,packageSize:t}))})(e.target.value),placeholder:"tablets",list:"packageUnits"}),(0,S.jsx)("datalist",{id:"packageUnits",children:xm.map(e=>(0,S.jsx)("option",{value:e},e))})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Quantity *"}),(0,S.jsx)(Va.Control,{type:"number",value:d.packages||1,onChange:e=>b("packages",parseInt(e.target.value)||1),min:"1"})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Price per Unit"}),(0,S.jsx)(Va.Control,{type:"number",step:"0.0001",value:d.pricePerUnit||"",onChange:e=>b("pricePerUnit",parseFloat(e.target.value)||0),placeholder:"0.0000"})]})}),(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Units per Package"}),(0,S.jsx)(Va.Control,{type:"number",value:d.unitsPerPackage||"",onChange:e=>b("unitsPerPackage",parseInt(e.target.value)||1),placeholder:"1",min:"1"})]})}),(0,S.jsx)("div",{className:"col-md-4",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Price per Package"}),(0,S.jsx)(Va.Control,{type:"text",value:d.pricePerPackage?"$".concat(d.pricePerPackage.toFixed(4)):"$0.0000",readOnly:!0,className:"bg-light"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"Calculated automatically"})]})})]}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Total Price"}),(0,S.jsx)(Va.Control,{type:"text",value:d.totalPrice?"$".concat(d.totalPrice.toFixed(2)):"$0.00",readOnly:!0,className:"bg-light"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"Calculated automatically (Price per Unit \xd7 Units per Package \xd7 Quantity)"})]})}),(0,S.jsx)("div",{className:"col-md-6",children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Notes for Return"}),(0,S.jsx)(Va.Control,{as:"textarea",rows:2,value:d.return_instructions||"",onChange:e=>b("return_instructions",e.target.value),placeholder:"Enter return instructions for this labeler"}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"These notes will be saved for all items from this labeler"})]})})]}),g.length>0&&(0,S.jsxs)(ze,{variant:"danger",children:[(0,S.jsx)(ze.Heading,{children:"Validation Errors:"}),(0,S.jsx)("ul",{className:"mb-0",children:g.map((e,t)=>(0,S.jsx)("li",{children:e},t))})]})]})}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:C,disabled:y,children:"Cancel"}),(0,S.jsx)(We,{variant:"primary",onClick:async()=>{const e=function(e){var t,n,r,o;const i=[];return null!==(t=e.itemName)&&void 0!==t&&t.trim()||i.push("Item Name is required"),null!==(n=e.ndc11)&&void 0!==n&&n.trim()||i.push("NDC-11 is required"),(!e.packageCount||e.packageCount<1)&&i.push("Package Size count must be at least 1"),null!==(r=e.packageUnit)&&void 0!==r&&r.trim()||i.push("Package Unit is required"),(!e.packages||e.packages<1)&&i.push("Quantity must be at least 1"),null!==(o=e.labeler_name)&&void 0!==o&&o.trim()||i.push("Labeler name is required"),{isValid:0===i.length,errors:i}}(d);if(!e.isValid)return void m(e.errors);const t=w(d.ndc11);t.isValid||p(t),v(!0);try{if(u)try{const e=d.barcode.trim()||d.ndc11,t={itemName:d.itemName,ndcNumber:d.ndc11,ndc11:d.ndc11,packageSize:d.packageSize,pricePerEA:d.pricePerUnit,pricePerUnit:d.pricePerUnit,price:d.pricePerUnit,labeler_name:d.labeler_name,return_instructions:d.return_instructions};await _o.saveManualEntry(e,t),console.log("Manual entry saved to cache with key:",e)}catch(n){console.error("Failed to save manual entry to cache:",n)}const e=function(e){const t=e.packageCount||1,n=e.packageUnit||"units",r=Nm(t,n);return{itemName:e.itemName,ndc11:e.ndc11,barcode:e.barcode,packageSize:r,packageCount:t,packageUnit:n,packages:e.packages||1,pricePerUnit:parseFloat(e.pricePerUnit)||0,unitsPerPackage:parseInt(e.unitsPerPackage)||1,pricePerPackage:e.pricePerPackage||0,totalPrice:e.totalPrice||0,labeler_name:e.labeler_name,return_instructions:e.return_instructions||"",hasFDAData:e.hasFDAData||!1,isManualEntry:e.isManualEntry||!1}}(d);await o(e),C()}catch(n){console.error("Failed to submit manual entry:",n),m([n.message||"Failed to save changes. Please try again."])}finally{v(!1)}},disabled:!d.itemName||!d.ndc11||!d.packageCount||!d.packageUnit||!d.labeler_name||y,children:y?"Submitting...":a})]})]})},Rm=ym(),Pm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.fetch||("undefined"!==typeof fetch?fetch:null);if(!t)throw new Error("No fetch available; pass { fetch } in Node <18.");const n=Qg(e.cacheSize||200);return{getLatestPrice:async function(e){let{signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("[PriceService] getLatestPrice called with NDC:",e),!$g(e,11))return console.log("[PriceService] Invalid NDC - not 11 digits:",e),{ok:!1,reason:"Input must be 11 digits"};const o="price:".concat(e),i=n.get(o);if(i)return console.log("[PriceService] Returning cached price data for",e,":",i),i;const a="https://data.medicaid.gov/api/1/datastore/query/".concat("99315a95-37ac-4eee-946a-3c523b4c481e","/0?")+"conditions[0][property]=ndc&conditions[0][value]=".concat(e,"&conditions[0][operator]==")+"&sorts[0][property]=effective_date&sorts[0][order]=desc&limit=1";console.log("[PriceService] Fetching from URL:",a);try{const i=await t(a,{signal:r});if(!i.ok)throw console.log("[PriceService] API returned error:",i.status,i.statusText),new Error("Medicaid API ".concat(i.status," ").concat(i.statusText));const s=await i.json();console.log("[PriceService] API response for",e,":",JSON.stringify(s,null,2));const l=Array.isArray(s.results)?s.results:[];if(0===l.length){console.log("[PriceService] No price data found for NDC:",e);const t={ok:!1,reason:"No price data found for this NDC"};return n.set(o,t),t}const c=l[0];console.log("[PriceService] Processing price row:",c);const u={ok:!0,ndc:c.ndc||c.NDC,description:c.ndc_description,pricePerUnit:parseFloat(c.nadac_per_unit),effectiveDate:c.effective_date,pricingUnit:c.pricing_unit||"EA"};return console.log("[PriceService] Calculated price result for",e,":",u),n.set(o,u),u}catch(Sv){return console.log("[PriceService] Error fetching price for",e,":",Sv.message),{ok:!1,reason:"Fetch error: ".concat(Sv.message)}}}}}(),km=()=>{const{selectedClient:e,currentReport:n,sessionReport:r,createNewReport:o,addLineItemToReport:i,clients:a,setSelectedClient:s,loadClients:l,setCurrentReport:u}=(0,t.useContext)(So),{clientId:d,reportId:f}=ji(),h=ki(),[p,g]=(0,t.useState)(""),[m,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(null),[b,C]=(0,t.useState)(null),[E,_]=(0,t.useState)(!1),[A,I]=(0,t.useState)([]),[N,x]=(0,t.useState)(!1),[O,T]=(0,t.useState)(!1),R=d||(e&&"object"===typeof e?e.id:e);(0,t.useEffect)(()=>{d&&(!e||"string"===typeof e&&e!==d)&&l().then(()=>{})},[d,e,l]),(0,t.useEffect)(()=>{if(d&&a.length>0&&(!e||"string"===typeof e&&e!==d)){const e=a.find(e=>e.id===d);e&&s(e)}},[d,a,e,s]),(0,t.useEffect)(()=>{!f||!d||n&&n.id===f||u({id:f,clientId:d,items:[]})},[f,d,n,u]),(0,t.useEffect)(()=>{},[e,n]);const{control:P,isRunning:k,error:D}=function(e,n){const[r,o]=(0,t.useState)(null),[i,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),c=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const t=document.getElementById(e);if(!t)return void l("Video element #".concat(e," not found"));const i=new tp;c.current=i;const s=new Map;return s.set(El.POSSIBLE_FORMATS,[ec.DATA_MATRIX,ec.CODE_128,ec.RSS_EXPANDED,ec.RSS_14,ec.EAN_13,ec.UPC_A]),s.set(El.TRY_HARDER,!0),i.decodeFromConstraints({audio:!1,video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},t,(e,t)=>{e&&n(e.getText(),e)},s).then(e=>{o(e),a(!0)}).catch(e=>{l((null===e||void 0===e?void 0:e.message)||"Unable to start camera."),a(!1)}),()=>{a(!1),l(null);try{var e;null===r||void 0===r||null===(e=r.stop)||void 0===e||e.call(r)}catch(t){}try{i.reset()}catch(n){}}},[e]),{control:r,isRunning:i,error:s}}("scannerVideo",e=>{var t;console.log('[ScanOut] \ud83d\udcf9 SCANNER CALLBACK triggered with: "'.concat(e,'"')),console.log('[ScanOut] \ud83d\udcf9 Current barcode state: "'.concat(p,'"')),console.log("[ScanOut] \ud83d\udcf9 IsProcessing: ".concat(O)),O?console.debug("[ScanOut] Ignoring duplicate scan while processing: ".concat(e)):(e=>{if(!e||"string"!==typeof e)return!1;const t=e.replace(/\D/g,"");return!(t.length<8)&&!/^(.)\1{7,}$/.test(t)})(e)?p!==e?(console.debug('[ScanOut] \ud83d\udcf9 Scanner setting barcode to: "'.concat(e,'"')),C(null),I([]),g(e),null===P||void 0===P||null===(t=P.stop)||void 0===t||t.call(P)):console.debug("[ScanOut] Ignoring duplicate barcode: ".concat(e)):console.warn("[ScanOut] Rejecting invalid scan input: ".concat(e))});return(0,t.useEffect)(()=>{let e=!1;return(async()=>{if(console.log('[ScanOut] \ud83d\udd04 fetchData called with barcode: "'.concat(p,'"')),!p)return console.log("[ScanOut] \ud83d\udd04 No barcode, clearing state"),y(null),w(null),C(null),I([]),void T(!1);console.log('[ScanOut] \ud83d\udd04 Processing barcode: "'.concat(p,'"')),C(null),I([]),T(!0),y({valid:!0,message:"Scanning..."});let t="";try{console.log('[ScanOut] \ud83d\udd0d About to call apiService.getManualEntry with: "'.concat(p,'"')),console.log("[ScanOut] \ud83d\udd0d Barcode type: ".concat(typeof p,", length: ").concat(null===p||void 0===p?void 0:p.length));const n=await _o.getManualEntry(p);if(n){t="\ud83d\udd27 Manual Entry (cached)",t+="\nItem: ".concat(n.itemName),n.packageSize&&(t+="\nPackage: ".concat(n.packageSize));const e=n.price||n.pricePerEA;e&&(t+="\nPrice per EA: $".concat(e)),n.labeler_name&&(t+="\nLabeler: ".concat(n.labeler_name));const r=Cm({brandName:n.itemName,genericName:"",ndcNumber:n.ndcNumber,packageSize:n.packageSize,labeler_name:n.labeler_name},e?{pricePerUnit:parseFloat(e),pricingUnit:"EA"}:null,1,1);return r.isManualEntry=!0,w(r),y({valid:!0,message:t}),void T(!1)}const r=Rm.normalizeScan(p);if(!r.ok)return y({valid:!1,message:r.reason||"Unrecognized barcode format.",allowManualEntry:!0}),w(null),void T(!1);t="Valid NDC-11: ".concat(r.ndc11);let o={ok:!1},i={ok:!1};const a=r.ndc11_candidates||[r.ndc11];console.debug("[ScanOut] \ud83d\udd0d VERIFICATION LOOP START for input: ".concat(p)),console.debug("[ScanOut] Normalized NDC11: ".concat(r.ndc11)),console.debug("[ScanOut] Will verify ".concat(a.length," NDC-11 candidate(s): ").concat(a.join(", ")));for(const e of a){console.debug("[ScanOut] \ud83e\uddea Trying candidate: ".concat(e," (from input: ").concat(p,")"));const[t,n]=await Promise.allSettled([Rm.verify(e),(async()=>{const t=await Rm.verify(e);if(t.ok){const n=t.raw instanceof Kg?t.raw:new Kg(t.raw);return await n.getPrice(Pm,e)}return{ok:!1,reason:"FDA verification failed"}})()]),a="fulfilled"===t.status?t.value:{ok:!1},s="fulfilled"===n.status?n.value:{ok:!1};if(console.debug("[ScanOut] \ud83d\udcca FDA result for ".concat(e,":"),a.ok?"SUCCESS":"FAILED"),a.ok&&console.debug("[ScanOut] \ud83d\udccb FDA data - NDC: ".concat(a.ndc10,", Product: ").concat(a.generic_name||a.brand_name)),a.ok){o=a,i=s,r.ndc11=e,console.debug("[ScanOut] \u2705 Found match with candidate: ".concat(e," for input: ").concat(p));break}console.debug("[ScanOut] \u274c No match for candidate: ".concat(e))}if(o.ok||console.debug("[ScanOut] No FDA matches found after trying all ".concat(a.length," candidates")),e)return;if(o.ok){const e=o.raw instanceof Kg?o.raw:new Kg(o.raw);if(t+=e.brand_name?"\nFDA: ".concat(e.brand_name," (").concat(e.generic_name||"",")"):"",e.dea_schedule){const n="CII"===e.dea_schedule?" \u26a0\ufe0f REQUIRES FORM 222":"";t+="\nDEA Schedule: ".concat(e.dea_schedule).concat(n)}const n=e.findMatchingPackage(r.ndc11);n&&(t+="\nPackage: ".concat(n.description)),i.ok?t+="\nPrice: $".concat(i.pricePerUnit.toFixed(4)," per ").concat(i.pricingUnit," (as of ").concat(i.effectiveDate,")"):t+="\nPrice: Not available (".concat(i.reason,")");const a=e.buildLineDraftFromInput(r.ndc11),s=Cm(a,i.ok?{pricePerUnit:i.pricePerUnit,pricingUnit:i.pricingUnit}:null,1,1);s.dea_schedule=e.dea_schedule||o.dea_schedule||null,s.hasFDAData=!0,w(s)}else t+="\nFDA: Not found or not recognized.",w(null);y({valid:!0,message:t,allowManualEntry:!o.ok}),T(!1)}catch(Sv){e||(t+="\nError: ".concat(Sv.message),y({valid:!1,message:t,allowManualEntry:!0}),w(null),T(!1))}})(),()=>{e=!0,T(!1)}},[p]),(0,t.useEffect)(()=>{const e=parseFloat(null===v||void 0===v?void 0:v.pricePerUnit)||0,t=parseInt(null===v||void 0===v?void 0:v.unitsPerPackage)||1,n=parseInt(null===v||void 0===v?void 0:v.packages)||1,r=(null===v||void 0===v?void 0:v.pricePerPackage)||0,o=(null===v||void 0===v?void 0:v.totalPrice)||0;if(e&&t&&n){const i=bm(e,t),a=wm(e,t,n);r===i&&o===a||w(e=>c(c({},e),{},{pricePerPackage:i,totalPrice:a}))}},[null===v||void 0===v?void 0:v.pricePerUnit,null===v||void 0===v?void 0:v.unitsPerPackage,null===v||void 0===v?void 0:v.packages,null===v||void 0===v?void 0:v.pricePerPackage,null===v||void 0===v?void 0:v.totalPrice]),(0,S.jsx)(qi,{centerText:!1,children:(0,S.jsxs)("div",{className:"scan-out-container",children:[D&&(0,S.jsxs)(ze,{variant:"danger",className:"text-center mb-3",children:[(0,S.jsx)("strong",{children:"Camera Error:"})," ",D]}),(0,S.jsx)("h1",{className:"scan-out-header",children:"Scan Barcode"}),!R&&(0,S.jsxs)(ze,{variant:"warning",className:"text-center mb-3",children:[(0,S.jsx)("strong",{children:"No client selected."})," Please select a client from the main page first.",(0,S.jsx)("div",{className:"mt-2",children:(0,S.jsx)(We,{variant:"outline-primary",onClick:()=>h("/"),children:"Back to Client Selection"})})]}),R&&(null===n||void 0===n?void 0:n.id)&&(0,S.jsxs)(ze,{variant:"info",className:"text-center mb-3",children:[(0,S.jsx)("strong",{children:"Adding items to existing report:"})," ",n.id]}),R&&r&&!(null!==n&&void 0!==n&&n.id)&&(0,S.jsxs)(ze,{variant:"success",className:"text-center mb-3",children:[(0,S.jsx)("strong",{children:"New session report created:"})," ",r.id]}),R&&(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"camera-controls-container",children:[(0,S.jsx)("video",{id:"scannerVideo",muted:!0,autoPlay:!0,playsInline:!0,className:"scan-video-player"}),(0,S.jsxs)("div",{className:"scan-control-buttons",children:[(0,S.jsx)(We,{variant:"secondary",size:"sm",onClick:()=>{var e;return null===P||void 0===P||null===(e=P.stop)||void 0===e?void 0:e.call(P)},disabled:!k||!P,className:"scan-control-btn",children:"Stop"}),(0,S.jsx)(We,{variant:"outline-warning",size:"sm",onClick:()=>{console.debug("[ScanOut] Clearing scan state"),g(""),y(null),w(null),C(null),T(!1)},disabled:!p&&!m,className:"scan-control-btn",children:"Clear Scan"}),(0,S.jsx)(We,{variant:"outline-secondary",size:"sm",onClick:()=>window.location.reload(),className:"scan-control-btn",children:"Reset"})]}),(0,S.jsx)("form",{onSubmit:e=>e.preventDefault(),className:"barcode-input-form",children:(0,S.jsx)("input",{type:"text",placeholder:"Scan or enter NDC-11",value:p,onChange:e=>{console.log('[ScanOut] \ud83d\udcdd Input onChange - Raw value: "'.concat(e.target.value,'"')),console.log('[ScanOut] \ud83d\udcdd Input onChange - Previous barcode: "'.concat(p,'"')),g(e.target.value)},autoFocus:!0,className:"barcode-input-field"})}),p&&(0,S.jsxs)(ze,{variant:"dark",className:"scan-alert-container",children:[(0,S.jsx)(ze.Heading,{children:"Barcode"}),(0,S.jsx)("p",{className:"barcode-display",children:p})]}),m&&(0,S.jsxs)(ze,{variant:m.valid?"success":"danger",className:"error-alert-container",children:[m.message,m.allowManualEntry&&!N&&(0,S.jsx)("div",{className:"error-details",children:(0,S.jsx)(We,{variant:"outline-primary",size:"sm",onClick:()=>x(!0),children:"Enter Manually"})})]}),(0,S.jsx)(Tm,{show:N,onHide:()=>x(!1),onSubmit:async e=>{const t=c(c({},e),{},{isManualEntry:!0});w(t)},initialBarcode:p,title:"Manual Entry - Form 222 Line",submitButtonText:"Create Line Item"}),v&&(0,S.jsxs)("div",{className:"manual-entry-container",children:[(0,S.jsxs)(ze,{variant:"info",className:"text-center",children:[(0,S.jsx)(ze.Heading,{children:"Add Inventory Line"}),(0,S.jsx)("form",{className:"manual-entry-form",children:Object.entries(v).filter(e=>{let[t]=e;return"lineNo"!==t&&"packageUnit"!==t&&"hasFDAData"!==t}).map(e=>{let[t,n]=e;const r={packages:"Quantity",packageSize:"Package Size",itemName:"Item Name",ndc11:"NDC-11",labeler_name:"Labeler",dea_schedule:"DEA Schedule",pricePerUnit:"Price per Unit",pricingUnit:"Pricing Unit",unitsPerPackage:"Units per Package",packageUnit:"Package Unit",pricePerPackage:"Price per Package",totalPrice:"Total Price",isManualEntry:"Manual Entry"}[t]||t,o="pricePerUnit"===t&&(!n||0===n),i=["pricingUnit","pricePerPackage","totalPrice"];"ndc11"===t&&null!==v&&void 0!==v&&v.hasFDAData&&i.push("ndc11");const a=i.includes(t);if("packageSize"===t){const e=vm(n),r=(null===e||void 0===e?void 0:e.count)||1,o=(null===e||void 0===e?void 0:e.unit)||"units";return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"form-field-row",children:[(0,S.jsx)("label",{htmlFor:"edit-".concat(t,"-count"),className:"form-label-fixed",children:"Package Size *:"}),(0,S.jsx)("input",{id:"edit-".concat(t,"-count"),type:"number",value:r,onChange:e=>{const t=e.target.value,n=""===t?"":parseInt(t)||0,r=""===t?"":"".concat(n||1," ").concat(o);w(e=>c(c({},e),{},{packageSize:r,unitsPerPackage:n||1,packageUnit:o}))},className:"scan-input-flex",min:"1"})]}),(0,S.jsxs)("div",{className:"form-field-row-with-margin",children:[(0,S.jsx)("label",{htmlFor:"edit-".concat(t,"-unit"),className:"form-label-fixed",children:"Package Unit *:"}),(0,S.jsx)("input",{id:"edit-".concat(t,"-unit"),type:"text",value:o,onChange:e=>{const t=e.target.value,n=""===t?"":"".concat(r||1," ").concat(t||"units");w(e=>c(c({},e),{},{packageSize:n,packageUnit:t}))},className:"scan-input-flex",placeholder:"tablets"})]})]},t)}return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"form-field-row",children:[(0,S.jsxs)("label",{htmlFor:"edit-".concat(t),className:"form-label-fixed",children:[r,o&&" *",":"]}),(0,S.jsx)("input",{id:"edit-".concat(t),type:"number"===typeof n?"number":"text",value:null!==n&&void 0!==n?n:"",onChange:e=>{if(!a){const r="number"===typeof n?Number(e.target.value):e.target.value;if("ndc11"===t){const e=null===v||void 0===v?void 0:v.isManualEntry;let n;n=e||Rm.utils.isCustomCode(r)?Rm.utils.validateManualCode(r):Rm.utils.validateStandardNDC(r),w(e=>c(c({},e),{},{[t]:r,["".concat(t,"_validation")]:n}))}else w(e=>c(c({},e),{},{[t]:r}))}},readOnly:a,className:"ndc11"===t&&null!==v&&void 0!==v&&v["".concat(t,"_validation")]&&!v["".concat(t,"_validation")].isValid?"scan-input-error":a?"scan-input-readonly":o?"scan-input-required":"scan-input-optional",placeholder:o?"Enter price per unit":""})]}),"ndc11"===t&&(null===v||void 0===v?void 0:v["".concat(t,"_validation")])&&!v["".concat(t,"_validation")].isValid&&(0,S.jsx)("div",{className:"validation-error-message",children:v["".concat(t,"_validation")].message}),"ndc11"===t&&(null===v||void 0===v?void 0:v.hasFDAData)&&(0,S.jsx)(Va.Text,{className:"text-muted form-text-spacing",children:"\ud83d\udd12 NDC locked - FDA verified item"})]},t)})})]}),(0,S.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!v||!R)return void C({ok:!1,msg:"No item to submit or no client selected."});const t=Em(v);if(!t.isValid)return I(t.errors),void C({ok:!1,msg:"Validation failed: ".concat(t.errors.join(", "))});_(!0),C(null),I([]);try{let e=(null===r||void 0===r?void 0:r.id)||(null===n||void 0===n?void 0:n.id);const t=R;if(!e){console.log("Creating new report for session");const n=await o(t);e=n.id,console.log("New report created with ID:",e),console.log("New report structure:",n)}console.log("Adding line item to report:",e);const a=await i(t,v,e);console.log("Line item add result:",a),console.log("Current report after add:",n),a&&a.lineItem?(C({ok:!0,msg:"Item added to the report successfully."}),w(null),g(""),console.log("Item successfully added and form cleared"),console.log("Final current report state:",n)):(console.log("No valid result received:",a),C({ok:!1,msg:"Item was not added to the report. Please try again."}))}catch(a){console.error("Submit error:",a.message||a),a.errors&&a.errors.length>0?(I(a.errors),C({ok:!1,msg:"Server validation failed: ".concat(a.errors.join(", "))})):C({ok:!1,msg:a.message||"Failed to add item to report."})}finally{_(!1)}},className:"main-form",children:[(0,S.jsx)(We,{type:"submit",variant:"primary",disabled:E,className:"submit-button-container",children:E?"Adding to Report...":"Add to Report"}),b&&(0,S.jsx)(ze,{variant:b.ok?"success":"danger",className:"alert-spacing-top",children:b.msg}),A.length>0&&(0,S.jsxs)(ze,{variant:"warning",className:"alert-spacing-top",children:[(0,S.jsx)(ze.Heading,{children:"Validation Errors:"}),(0,S.jsx)("ul",{className:"mb-0",children:A.map((e,t)=>(0,S.jsx)("li",{children:e},t))})]})]})]}),(0,S.jsx)(Im,{selectedClient:e})]})})]})})},Dm=["bsPrefix","fluid","as","className"],jm=t.forwardRef((e,t)=>{let{bsPrefix:n,fluid:r,as:o="div",className:i}=e,a=d(e,Dm);const s=L(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,S.jsx)(o,c(c({ref:t},a),{},{className:h()(i,r?"".concat(s).concat(l):s)}))});jm.displayName="Container",jm.defaultProps={fluid:!1};const Mm=jm,Lm={prefix:String(Math.round(1e10*Math.random())),current:0},Bm=t.createContext(Lm);let Fm=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);const Um=t.createContext(null),zm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Vm=t.createContext(null);const Hm=function(e){let{children:n,in:r,mountOnEnter:o,unmountOnExit:i}=e;const a=(0,t.useRef)(r);return(0,t.useEffect)(()=>{r&&(a.current=!0)},[r]),r?n:i||!a.current&&o?null:n},Wm=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Gm=["activeKey","getControlledId","getControllerId"],Xm=["as"];function Ym(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Km(e){let{active:n,eventKey:r,mountOnEnter:o,transition:i,unmountOnExit:a,role:s="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:f,onExited:h}=e,p=Ym(e,Wm);const g=(0,t.useContext)(Um);if(!g)return[Object.assign({},p,{role:s}),{eventKey:r,isActive:n,mountOnEnter:o,transition:i,unmountOnExit:a,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:f,onExited:h}];const{activeKey:m,getControlledId:y,getControllerId:v}=g,w=Ym(g,Gm),b=zm(r);return[Object.assign({},p,{role:s,id:y(r),"aria-labelledby":v(r)}),{eventKey:r,isActive:null==n&&null!=b?zm(m)===b:n,transition:i||w.transition,mountOnEnter:null!=o?o:w.mountOnEnter,unmountOnExit:null!=a?a:w.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:f,onExited:h}]}const qm=t.forwardRef((e,t)=>{let{as:n="div"}=e,r=Ym(e,Xm);const[o,{isActive:i,onEnter:a,onEntering:s,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:f,unmountOnExit:h,transition:p=Hm}]=Km(r);return(0,S.jsx)(Um.Provider,{value:null,children:(0,S.jsx)(Vm.Provider,{value:null,children:(0,S.jsx)(p,{in:i,onEnter:a,onEntering:s,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:f,unmountOnExit:h,children:(0,S.jsx)(n,Object.assign({},o,{ref:t,hidden:!i,"aria-hidden":!i}))})})})});qm.displayName="TabPanel";const Zm=e=>{const{id:n,generateChildId:r,onSelect:o,activeKey:i,defaultActiveKey:a,transition:s,mountOnEnter:l,unmountOnExit:c,children:u}=e,[d,f]=y(i,a,o),h=function(e){let n=(0,t.useContext)(Bm);return n!==Lm||Fm||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)(()=>e||"react-aria".concat(n.prefix,"-").concat(++n.current),[e])}(n),p=(0,t.useMemo)(()=>r||((e,t)=>h?"".concat(h,"-").concat(t,"-").concat(e):null),[h,r]),g=(0,t.useMemo)(()=>({onSelect:f,activeKey:d,transition:s,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")}),[f,d,s,l,c,p]);return(0,S.jsx)(Um.Provider,{value:g,children:(0,S.jsx)(Vm.Provider,{value:f||null,children:u})})};Zm.Panel=qm;const $m=Zm;n(197);const Qm=t.createContext(null);Qm.displayName="NavContext";const Jm=Qm,ey=["as","active","eventKey"];function ty(e){let{key:n,onClick:r,active:o,id:i,role:a,disabled:s}=e;const l=(0,t.useContext)(Vm),c=(0,t.useContext)(Jm),u=(0,t.useContext)(Um);let d=o;const f={role:a};if(c){a||"tablist"!==c.role||(f.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);f[Ze("event-key")]=n,f.id=e||i,d=null==o&&null!=n?c.activeKey===n:o,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(f["aria-controls"]=t)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=_(e=>{s||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))}),[f,{isActive:d}]}const ny=t.forwardRef((e,t)=>{let{as:n=x,active:r,eventKey:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,ey);const[a,s]=ty(Object.assign({key:zm(o,i.href),active:r},i));return a[Ze("active")]=s.isActive,(0,S.jsx)(n,Object.assign({},i,a,{ref:t}))});ny.displayName="NavItem";const ry=ny,oy=["as","onSelect","activeKey","role","onKeyDown"];const iy=()=>{},ay=Ze("event-key"),sy=t.forwardRef((e,n)=>{let{as:r="div",onSelect:o,activeKey:i,role:a,onKeyDown:s}=e,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,oy);const c=(0,t.useReducer)(function(e){return!e},!1)[1],u=(0,t.useRef)(!1),d=(0,t.useContext)(Vm),f=(0,t.useContext)(Um);let h,p;f&&(a=a||"tablist",i=f.activeKey,h=f.getControlledId,p=f.getControllerId);const g=(0,t.useRef)(null),m=e=>{const t=g.current;if(!t)return null;const n=lt(t,"[".concat(ay,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const o=n.indexOf(r);if(-1===o)return null;let i=o+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},y=(e,t)=>{null!=e&&(null==o||o(e,t),null==d||d(e,t))};(0,t.useEffect)(()=>{if(g.current&&u.current){const e=g.current.querySelector("[".concat(ay,"][aria-selected=true]"));null==e||e.focus()}u.current=!1});const v=ye(n,g);return(0,S.jsx)(Vm.Provider,{value:y,children:(0,S.jsx)(Jm.Provider,{value:{role:a,activeKey:zm(i),getControlledId:h||iy,getControllerId:p||iy},children:(0,S.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==s||s(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,c())},ref:v,role:a}))})})});sy.displayName="Nav";const ly=Object.assign(sy,{Item:ry}),cy=t.createContext(null);cy.displayName="NavbarContext";const uy=cy,dy=De("nav-item"),fy=["bsPrefix","className","as","active","eventKey"],hy=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o=R,active:i,eventKey:a}=e,s=d(e,fy);n=L(n,"nav-link");const[l,u]=ty(c({key:zm(a,s.href),active:i},s));return(0,S.jsx)(o,c(c(c({},s),l),{},{ref:t,className:h()(r,n,s.disabled&&"disabled",u.isActive&&"active")}))});hy.displayName="NavLink",hy.defaultProps={disabled:!1};const py=hy,gy=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],my=t.forwardRef((e,n)=>{const r=v(e,{activeKey:"onSelect"}),{as:o="div",bsPrefix:i,variant:a,fill:s,justify:l,navbar:u,navbarScroll:f,className:p,activeKey:g}=r,m=d(r,gy),y=L(i,"nav");let w,b,C=!1;const E=(0,t.useContext)(uy),_=(0,t.useContext)(rs);return E?(w=E.bsPrefix,C=null==u||u):_&&({cardHeaderBsPrefix:b}=_),(0,S.jsx)(ly,c({as:o,ref:n,activeKey:g,className:h()(p,{[y]:!C,["".concat(w,"-nav")]:C,["".concat(w,"-nav-scroll")]:C&&f,["".concat(b,"-").concat(a)]:!!b,["".concat(y,"-").concat(a)]:!!a,["".concat(y,"-fill")]:s,["".concat(y,"-justified")]:l})},m))});my.displayName="Nav",my.defaultProps={justify:!1,fill:!1};const yy=Object.assign(my,{Item:dy,Link:py}),vy=De("tab-content");function wy(e){return"boolean"===typeof e?e?_e:Hm:e}const by=["bsPrefix","transition"],Cy=["className","as"],Ey=t.forwardRef((e,t)=>{let{bsPrefix:n,transition:r}=e,o=d(e,by);const[i,{isActive:a,onEnter:s,onEntering:l,onEntered:u,onExit:f,onExiting:p,onExited:g,mountOnEnter:m,unmountOnExit:y,transition:v=_e}]=Km(c(c({},o),{},{transition:wy(r)})),{className:w,as:b="div"}=i,C=d(i,Cy),E=L(n,"tab-pane");return(0,S.jsx)(Um.Provider,{value:null,children:(0,S.jsx)(Vm.Provider,{value:null,children:(0,S.jsx)(v,{in:a,onEnter:s,onEntering:l,onEntered:u,onExit:f,onExiting:p,onExited:g,mountOnEnter:m,unmountOnExit:y,children:(0,S.jsx)(b,c(c({},C),{},{ref:t,className:h()(w,E,a&&"active")}))})})})});Ey.displayName="TabPane";const _y=Ey,Sy=["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"];function Ay(e){let n;return function(e,n){let r=0;t.Children.forEach(e,e=>{t.isValidElement(e)&&n(e,r++)})}(e,e=>{null==n&&(n=e.props.eventKey)}),n}function Iy(e){const{title:t,eventKey:n,disabled:r,tabClassName:o,tabAttrs:i,id:a}=e.props;return null==t?null:(0,S.jsx)(dy,{as:"li",role:"presentation",children:(0,S.jsx)(py,c(c({as:"button",type:"button",eventKey:n,disabled:r,id:a,className:o},i),{},{children:t}))})}const Ny=e=>{const t=v(e,{activeKey:"onSelect"}),{id:n,onSelect:r,transition:o,mountOnEnter:i,unmountOnExit:a,children:s,activeKey:l=Ay(s)}=t,u=d(t,Sy);return(0,S.jsxs)($m,{id:n,activeKey:l,onSelect:r,transition:wy(o),mountOnEnter:i,unmountOnExit:a,children:[(0,S.jsx)(yy,c(c({},u),{},{role:"tablist",as:"ul",children:sa(s,Iy)})),(0,S.jsx)(vy,{children:sa(s,e=>{const t=c({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,S.jsx)(_y,c({},t))})})]})};Ny.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},Ny.displayName="Tabs";const xy=Ny,Oy=["transition"],Ty=e=>{let{transition:t}=e,n=d(e,Oy);return(0,S.jsx)($m,c(c({},n),{},{transition:wy(t)}))};Ty.displayName="TabContainer";const Ry=Ty,Py={eventKey:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().node.isRequired,disabled:Ae().bool,tabClassName:Ae().string,tabAttrs:Ae().object},ky=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};ky.propTypes=Py;const Dy=Object.assign(ky,{Container:Ry,Content:vy,Pane:_y});var jy=["color","size","title"];function My(){return My=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(this,arguments)}function Ly(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var By=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Ly(e,jy);return t.createElement("svg",My({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),t.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}))});By.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},By.defaultProps={color:"currentColor",size:"1em",title:null};const Fy=By;var Uy=["color","size","title"];function zy(){return zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(this,arguments)}function Vy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Hy=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Vy(e,Uy);return t.createElement("svg",zy({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"}),t.createElement("path",{d:"M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"}))});Hy.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Hy.defaultProps={color:"currentColor",size:"1em",title:null};const Wy=Hy;var Gy=["color","size","title"];function Xy(){return Xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xy.apply(this,arguments)}function Yy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ky=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Yy(e,Gy);return t.createElement("svg",Xy({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}))});Ky.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Ky.defaultProps={color:"currentColor",size:"1em",title:null};const qy=Ky;var Zy=["color","size","title"];function $y(){return $y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(this,arguments)}function Qy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Jy=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=Qy(e,Zy);return t.createElement("svg",$y({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{fillRule:"evenodd",d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"}),t.createElement("path",{d:"M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"}))});Jy.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},Jy.defaultProps={color:"currentColor",size:"1em",title:null};const ev=Jy,tv=e=>{let{client:t,showContact:n=!1,placeholder:r="Unnamed Business"}=e;return(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:(0,S.jsx)(Ks,{client:t,placeholder:r})}),n&&(null===t||void 0===t?void 0:t.contactName)&&(0,S.jsxs)("div",{className:"text-muted small",children:["Contact: ",t.contactName]})]})};var nv=["color","size","title"];function rv(){return rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function ov(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var iv=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=ov(e,nv);return t.createElement("svg",rv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}))});iv.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},iv.defaultProps={color:"currentColor",size:"1em",title:null};const av=iv;var sv=["color","size","title"];function lv(){return lv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(this,arguments)}function cv(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var uv=(0,t.forwardRef)(function(e,n){var r=e.color,o=e.size,i=e.title,a=cv(e,sv);return t.createElement("svg",lv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r},a),i?t.createElement("title",null,i):null,t.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),t.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))});uv.propTypes={color:Ae().string,size:Ae().oneOfType([Ae().string,Ae().number]),title:Ae().string},uv.defaultProps={color:"currentColor",size:"1em",title:null};const dv=uv,fv=e=>{let{show:t,onHide:n,onConfirm:r,entityName:o="item",item:i=null,customMessage:a=null,customWarning:s=null,displayField:l=null}=e;return(0,S.jsxs)(kt,{show:t,onHide:n,children:[(0,S.jsx)(kt.Header,{closeButton:!0,children:(0,S.jsx)(kt.Title,{children:"Confirm Delete"})}),(0,S.jsxs)(kt.Body,{children:[(0,S.jsx)("p",{className:"mb-3",children:a||(()=>{const e=(()=>{if(!i)return"this item";if(l&&i[l])return i[l];const e=["businessName","name","labeler_name","title","itemName"];for(const t of e)if(i[t])return i[t];return Object.values(i).find(e=>"string"===typeof e&&""!==e.trim())||"this item"})();return"Are you sure you want to delete ".concat(e,"?")})()}),(0,S.jsxs)("p",{className:"text-danger mb-0",children:[(0,S.jsx)("strong",{children:"Warning:"})," ",s||(i&&i.reports&&Array.isArray(i.reports)&&i.reports.length>0?"This action cannot be undone. All associated reports (".concat(i.reports.length," reports) will also be deleted."):"This action cannot be undone.")]})]}),(0,S.jsxs)(kt.Footer,{children:[(0,S.jsx)(We,{variant:"secondary",onClick:n,children:"Cancel"}),(0,S.jsxs)(We,{variant:"danger",onClick:r,children:["Delete ",o]})]})]})},hv=e=>{let{title:n,entityName:r="item",columns:o=[],formFields:i=[],api:a={},features:s={search:!1,add:!0,edit:!0,delete:!0,deleteConfirmation:"alert"},customModals:l={},searchFields:c=[],emptyMessage:u="No ".concat(r,"s found."),addButtonText:d="Add ".concat(r),dataKey:f=null,itemIdField:h="id",onRowClick:p=null}=e;const[g,m]=(0,t.useState)([]),[y,v]=(0,t.useState)(!0),[w,b]=(0,t.useState)(null),[C,E]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),[I,N]=(0,t.useState)(!1),[x,O]=(0,t.useState)(null),[T,R]=(0,t.useState)(null),[P,k]=(0,t.useState)("");(0,t.useEffect)(()=>{D()},[]);const D=async()=>{if(!a.load)return console.error("DataTable: No load function provided in api prop"),b("No data loading function provided"),void v(!1);try{v(!0),b(null),console.log("[DataTable] Loading ".concat(r," data..."));const e=await a.load();let t=e;f&&e[f]&&(t=e[f]),Array.isArray(t)?m(t):m("object"===typeof t&&null!==t?Object.entries(t):[]),console.log("[DataTable] Loaded ".concat(Array.isArray(t)?t.length:Object.keys(t||{}).length," ").concat(r,"s"))}catch(w){console.error("[DataTable] Error loading ".concat(r," data:"),w),b("Failed to load ".concat(r,"s: ").concat(w.message)),m([])}finally{v(!1)}},j=async e=>{if(a.delete)try{b(null);const t=Array.isArray(e)?e[0]:e[h];await a.delete(t),await D(),"modal"===s.deleteConfirmation&&(N(!1),R(null))}catch(w){console.error("Failed to delete ".concat(r,":"),w),b("Failed to delete ".concat(r))}else b("Delete function not available")},M=async e=>{try{if(b(null),x){if(!a.update)return void b("Update function not available");const t=x[h];await a.update(t,e)}else{if(!a.create)return void b("Create function not available");await a.create(e)}await D(),E(!1),A(!1),O(null)}catch(w){console.error("Failed to save ".concat(r,":"),w),b("Failed to save ".concat(r,": ").concat(w.message||w))}},L=s.search&&P?g.filter(e=>(c.length>0?c:o.map(e=>e.key).filter(e=>e)).some(t=>{const n=e[t];return n&&n.toString().toLowerCase().includes(P.toLowerCase())})):g,B=(e,t)=>{if(t.render)return t.render(e);const n=e[t.key];return null===n||void 0===n?"-":n.toString()},F=l.add||Ga,U=l.edit||Ga;return(0,S.jsx)(qi,{children:(0,S.jsxs)(Mm,{className:"mt-4",children:[(0,S.jsxs)(vs,{children:[(0,S.jsx)(vs.Header,{children:(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,S.jsx)("h3",{children:n}),s.add&&(0,S.jsxs)(We,{variant:"primary",onClick:()=>{O(null),E(!0)},children:[(0,S.jsx)(av,{className:"me-2"}),d]})]})}),(0,S.jsxs)(vs.Body,{children:[w&&(0,S.jsxs)(ze,{variant:"danger",className:"mb-3",dismissible:!0,onClose:()=>b(null),children:[(0,S.jsx)(ze.Heading,{children:"Error"}),w]}),s.search&&(0,S.jsx)("div",{className:"mb-3",children:(0,S.jsx)(Va.Control,{type:"text",placeholder:"Search ".concat(r,"s..."),value:P,onChange:e=>k(e.target.value),className:"w-100 w-md-50"})}),y?(0,S.jsxs)("div",{className:"text-center py-5",children:[(0,S.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h5",{children:["Loading ",n,"..."]}),(0,S.jsx)("p",{className:"text-muted",children:"Please wait while we fetch your data"})]})]}):0===L.length?(0,S.jsx)(ze,{variant:"info",className:"text-center",children:s.search&&P?"No ".concat(r,"s found matching your search."):u}):(0,S.jsxs)(Am,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[o.map((e,t)=>(0,S.jsx)("th",{children:e.label},t)),(s.edit||s.delete)&&(0,S.jsx)("th",{children:"Actions"})]})}),(0,S.jsx)("tbody",{children:L.map((e,t)=>(0,S.jsxs)("tr",{onClick:p?()=>p(e):void 0,className:p?"table-row-clickable":"",children:[o.map((t,n)=>(0,S.jsx)("td",{children:B(e,t)},n)),(s.edit||s.delete)&&(0,S.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,S.jsxs)("div",{className:"d-flex gap-2",children:[s.edit&&(0,S.jsxs)(We,{variant:"outline-primary",size:"sm",onClick:()=>(e=>{O(e),A(!0),b(null)})(e),"aria-label":"Edit ".concat(r),children:[(0,S.jsx)(Fy,{}),(0,S.jsx)("span",{className:"d-none d-md-inline ms-1",children:"Edit"})]}),s.delete&&(0,S.jsxs)(We,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{if(R(e),"modal"===s.deleteConfirmation)N(!0);else{const t="Are you sure you want to delete this ".concat(r,"?");window.confirm(t)&&j(e)}})(e),"aria-label":"Delete ".concat(r),children:[(0,S.jsx)(dv,{}),(0,S.jsx)("span",{className:"d-none d-md-inline ms-1",children:"Delete"})]})]})})]},Array.isArray(e)?e[0]:e[h]||t))})]})]})]}),s.add&&(0,S.jsx)(F,{show:C,onHide:()=>{E(!1),O(null),b(null)},onSave:M,title:"Add New ".concat(r),formFields:i,error:w}),s.edit&&(0,S.jsx)(U,{show:_,onHide:()=>{A(!1),O(null),b(null)},onSave:M,title:"Edit ".concat(r),formFields:i,initialData:x,error:w}),s.delete&&"modal"===s.deleteConfirmation&&(0,S.jsx)(fv,{show:I,onHide:()=>{N(!1),R(null)},onConfirm:()=>j(T),entityName:r,item:T})]})})},pv=()=>{const e=ki(),{loadClients:n,createClient:r,updateClient:o,deleteClient:i}=(0,t.useContext)(So),[a,s]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{var e;const t=await _o.getWholesalers();console.log("[ClientManagement] Wholesalers API response:",t),console.log("[ClientManagement] Wholesalers array:",t.wholesalers),console.log("[ClientManagement] Wholesalers count:",(null===(e=t.wholesalers)||void 0===e?void 0:e.length)||0),s(t.wholesalers||[])}catch(t){console.error("Failed to load wholesalers:",t),s([])}})()},[]);const l=t.useMemo(()=>({title:"Client Management",entityName:"client",columns:[{key:"businessName",label:"Business Name",render:e=>(0,S.jsx)(tv,{client:e,showContact:!0})},{key:"stateLicenseNumber",label:"State License",render:e=>e.stateLicenseNumber||"-"},{key:"address",label:"Address",render:e=>(0,S.jsxs)("div",{children:[e.streetAddress,(0,S.jsx)("br",{}),e.city,", ",e.state," ",e.zipCode]})},{key:"phoneNumber",label:"Phone"},{key:"invoicePercentage",label:"Invoice %",render:e=>e.invoicePercentage?"".concat(e.invoicePercentage,"%"):"-"},{key:"reports",label:"Reports",render:e=>(0,S.jsxs)(Ss,{bg:"info",children:[e.reports?e.reports.length:0," reports"]})}],formFields:Xa(a),api:{load:()=>n(),create:e=>r(e),update:(e,t)=>o(e,t),delete:e=>i(e)},features:{search:!0,add:!0,edit:!0,delete:!0,deleteConfirmation:"modal"},searchFields:["businessName","stateLicenseNumber"],emptyMessage:"No clients available.",addButtonText:"Add New Client",itemIdField:"id",onRowClick:t=>e("/reports/client/".concat(t.id))}),[a,n,r,o,i,e]);return(0,S.jsx)(hv,c({},l))},gv=()=>{const e={title:"Wholesalers & Return Instructions Management",entityName:"wholesaler",columns:[{key:"labeler_name",label:"Wholesaler Name",render:e=>(0,S.jsx)("strong",{children:e.labeler_name})},{key:"address",label:"Address",render:e=>(0,S.jsxs)("div",{className:"wholesaler-address",children:[e.address&&(0,S.jsxs)(S.Fragment,{children:[e.address,(0,S.jsx)("br",{}),e.city&&e.state&&"".concat(e.city,", ").concat(e.state),e.zipCode&&" ".concat(e.zipCode)]}),!e.address&&"-"]})},{key:"return_instructions",label:"Return Instructions",render:e=>(0,S.jsx)("div",{className:"labeler-return-instructions",children:e.return_instructions})}],formFields:[{name:"labeler_name",label:"Wholesaler Name",type:"text",required:!0,placeholder:"e.g., McKesson, Cardinal Health, AmerisourceBergen",disableOnEdit:!0,helpText:"Wholesaler name cannot be changed for existing entries"},{name:"address",label:"Street Address",type:"text",required:!1,placeholder:"123 Pharmacy Blvd"},{name:"city",label:"City",type:"text",required:!1,placeholder:"Springfield"},{name:"state",label:"State",type:"text",required:!1,placeholder:"CA"},{name:"zipCode",label:"ZIP Code",type:"text",required:!1,placeholder:"90210"},{name:"return_instructions",label:"Return Instructions",type:"textarea",rows:4,required:!0,placeholder:"Detailed instructions for returning products to this wholesaler...",helpText:"Include phone numbers, addresses, special procedures, or portal information"}],api:{load:()=>_o.getLabelers(),create:async e=>_o.saveLabeler(e.labeler_name,e.return_instructions,e.address,e.city,e.state,e.zipCode),update:async(e,t)=>_o.saveLabeler(t.labeler_name,t.return_instructions,t.address,t.city,t.state,t.zipCode),delete:e=>_o.deleteLabeler(e)},features:{search:!0,add:!0,edit:!0,delete:!0,deleteConfirmation:"alert"},searchFields:["labeler_name","return_instructions","address","city"],emptyMessage:"No wholesalers found. Click 'Add Wholesaler' to create your first entry.",addButtonText:"Add Wholesaler",dataKey:"labelers",itemIdField:"labeler_name"};return(0,S.jsx)(hv,c({},e))};const mv=class{static prepareManualEntryBarcode(e){const t=null===e||void 0===e?void 0:e.trim();return t?t.startsWith("manual_")?t:"manual_".concat(t):"manual_".concat(Date.now())}static async checkDuplicateEntry(e){try{return!!await _o.getManualEntry(e)}catch(t){return console.warn("Error checking for duplicate entry:",t),!1}}static mapFormDataToApi(e){return{ndcNumber:e.ndc11||e.ndcNumber,itemName:e.itemName,packageSize:e.packageSize,pricePerEA:e.pricePerUnit||e.pricePerEA||0,labeler_name:e.labeler_name}}static async saveManualEntry(e){console.log("[ManualEntryService] Saving entry with formData:",e);const t=this.prepareManualEntryBarcode(e.barcode),n=await this.checkDuplicateEntry(t);n&&console.log('[ManualEntryService] Entry with barcode "'.concat(t,'" already exists, will update'));const r=this.mapFormDataToApi(e);console.log("[ManualEntryService] Mapped API data:",{barcode:t,apiFormData:r});const o=await _o.saveManualEntry(t,r);return console.log("[ManualEntryService] Entry saved successfully"),c(c({},o),{},{barcode:t,isDuplicate:n})}},yv=()=>{const e=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch(t){return"Invalid date"}},t=e=>{let{show:t,onHide:n,onSave:r,title:o,initialData:i,error:a}=e;return(0,S.jsx)(Tm,{show:t,onHide:n,onSubmit:async e=>{try{const t=await mv.saveManualEntry(e);t.isDuplicate&&console.log("[ManualEntries] Updated existing entry: ".concat(t.barcode)),r(e)}catch(a){throw console.error("Failed to save manual entry:",a),a}},title:o,submitButtonText:i?"Save Changes":"Add Entry",initialData:i,saveToCache:!1})},n={title:"Manual Entries Management",entityName:"manual entry",columns:[{key:"barcode",label:"Barcode/Key",render:e=>{let[t,n]=e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("code",{children:t}),n.isManualEntry&&(0,S.jsx)(Ss,{bg:"secondary",className:"ms-2",children:"Manual"})]})}},{key:"itemName",label:"Item Name",render:e=>{let[t,n]=e;return n.itemName||"N/A"}},{key:"ndcNumber",label:"NDC Number",render:e=>{let[t,n]=e;return(0,S.jsx)("code",{children:n.ndcNumber||"N/A"})}},{key:"packageSize",label:"Package Size",render:e=>{let[t,n]=e;return n.packageSize||"N/A"}},{key:"labeler_name",label:"Labeler Name",render:e=>{let[t,n]=e;return n.labeler_name||"N/A"}},{key:"return_instructions",label:"Return Instructions",render:e=>{let[t,n]=e;return(0,S.jsx)("div",{className:"manual-entry-return-instructions",children:n.return_instructions||"Contact manufacturer for return instructions"})}},{key:"pricePerEA",label:"Price per EA",render:e=>{let[t,n]=e;return n.pricePerEA?"$".concat(parseFloat(n.pricePerEA).toFixed(2)):"N/A"}},{key:"createdAt",label:"Created",render:t=>{let[n,r]=t;return e(r.createdAt)}},{key:"lastUsed",label:"Last Used",render:t=>{let[n,r]=t;return e(r.lastUsed)}}],api:{load:async()=>{const[e,t]=await Promise.all([_o.getAllManualEntries(),_o.getLabelers()]),n=(null===e||void 0===e?void 0:e.entries)||{},r=Object.entries(n),o=(null===t||void 0===t?void 0:t.labelers)||[];return r.map(e=>{let[t,n]=e;const r=o.find(e=>e.labeler_name===n.labeler_name);return[t,c(c({},n),{},{return_instructions:null===r||void 0===r?void 0:r.return_instructions})]})},create:async e=>e,update:async(e,t)=>t,delete:e=>_o.deleteManualEntry(e)},features:{search:!1,add:!0,edit:!0,delete:!0,deleteConfirmation:"alert"},customModals:{add:t,edit:t},emptyMessage:"No manual entries found. Click 'Add Manual Entry' to create your first entry.",addButtonText:"Add Manual Entry",itemIdField:"0"};return(0,S.jsx)(hv,c({},n))},vv=["bsPrefix","variant","animation","size","as","className"],wv=t.forwardRef((e,t)=>{let{bsPrefix:n,variant:r,animation:o="border",size:i,as:a="div",className:s}=e,l=d(e,vv);n=L(n,"spinner");const u="".concat(n,"-").concat(o);return(0,S.jsx)(a,c(c({ref:t},l),{},{className:h()(s,u,i&&"".concat(u,"-").concat(i),r&&"text-".concat(r))}))});wv.displayName="Spinner";const bv=wv,Cv=()=>{const[e,n]=(0,t.useState)({companyName:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",deaNumber:""}),[r,o]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[f,h]=(0,t.useState)({});(0,t.useEffect)(()=>{p()},[]);const p=async()=>{try{o(!0),l(null);const e=await _o.getCompanySettings();n(e)}catch(e){l(e.message||"Failed to load company settings"),console.error("Error loading company settings:",e)}finally{o(!1)}},g=(e,t)=>{n(n=>c(c({},n),{},{[e]:t})),f[e]&&h(t=>{const n=c({},t);return delete n[e],n}),u&&d(!1)};return r?(0,S.jsx)("div",{className:"text-center py-5",children:(0,S.jsx)(bv,{animation:"border",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,S.jsx)("div",{className:"p-4",children:(0,S.jsxs)(vs,{className:"shadow-sm",children:[(0,S.jsxs)(vs.Header,{className:"bg-white border-bottom",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)(ev,{size:24,className:"me-2 text-primary"}),(0,S.jsx)("h5",{className:"mb-0",children:"Company Settings"})]}),(0,S.jsx)("p",{className:"text-muted mb-0 mt-2 small",children:"This information will be used in Form 222 PDFs and other documents"})]}),(0,S.jsxs)(vs.Body,{children:[s&&(0,S.jsx)(ze,{variant:"danger",dismissible:!0,onClose:()=>l(null),children:s}),u&&(0,S.jsx)(ze,{variant:"success",dismissible:!0,onClose:()=>d(!1),children:"Company settings updated successfully!"}),(0,S.jsxs)(Va,{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};if(e.companyName&&""!==e.companyName.trim()||(t.companyName="Company name is required"),e.zipCode&&!/^\d{5}(-\d{4})?$/.test(e.zipCode)&&(t.zipCode="ZIP code must be in format 12345 or 12345-6789"),e.state&&e.state.length>2&&(t.state="State must be a 2-letter code (e.g., CA)"),e.deaNumber){const r=(n=e.deaNumber)?9!==n.toString().trim().length?{isValid:!1,error:"DEA number must be exactly 9 characters"}:{isValid:!0,error:null}:{isValid:!1,error:"DEA number is required"};r.isValid||(t.deaNumber=r.error),/^[A-Z]{2}\d{7}$/.test(e.deaNumber)||(t.deaNumber="DEA number must be 2 letters followed by 7 digits (e.g., AB1234567)")}var n;return h(t),0===Object.keys(t).length})())try{a(!0),l(null),d(!1);const t=await _o.updateCompanySettings(e);n(t),d(!0),setTimeout(()=>{d(!1)},3e3)}catch(r){l(r.message||"Failed to update company settings"),console.error("Error updating company settings:",r)}finally{a(!1)}},children:[(0,S.jsx)(Cs,{children:(0,S.jsx)(Ca,{md:12,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsxs)(Va.Label,{children:["Company Name ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(Va.Control,{type:"text",value:e.companyName,onChange:e=>g("companyName",e.target.value),isInvalid:!!f.companyName,placeholder:"Enter company name"}),(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:f.companyName})]})})}),(0,S.jsx)(Cs,{children:(0,S.jsx)(Ca,{md:12,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Address Line 1"}),(0,S.jsx)(Va.Control,{type:"text",value:e.addressLine1,onChange:e=>g("addressLine1",e.target.value),placeholder:"Street address"})]})})}),(0,S.jsx)(Cs,{children:(0,S.jsx)(Ca,{md:12,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"Address Line 2"}),(0,S.jsx)(Va.Control,{type:"text",value:e.addressLine2,onChange:e=>g("addressLine2",e.target.value),placeholder:"Suite, unit, building, floor, etc. (optional)"})]})})}),(0,S.jsxs)(Cs,{children:[(0,S.jsx)(Ca,{md:5,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"City"}),(0,S.jsx)(Va.Control,{type:"text",value:e.city,onChange:e=>g("city",e.target.value),placeholder:"City"})]})}),(0,S.jsx)(Ca,{md:3,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"State"}),(0,S.jsx)(Va.Control,{type:"text",value:e.state,onChange:e=>g("state",e.target.value.toUpperCase()),isInvalid:!!f.state,placeholder:"CA",maxLength:2}),(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:f.state})]})}),(0,S.jsx)(Ca,{md:4,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"ZIP Code"}),(0,S.jsx)(Va.Control,{type:"text",value:e.zipCode,onChange:e=>g("zipCode",e.target.value),isInvalid:!!f.zipCode,placeholder:"12345"}),(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:f.zipCode})]})})]}),(0,S.jsx)(Cs,{children:(0,S.jsx)(Ca,{md:12,children:(0,S.jsxs)(Va.Group,{className:"mb-3",children:[(0,S.jsx)(Va.Label,{children:"DEA Number"}),(0,S.jsx)(Va.Control,{type:"text",value:e.deaNumber,onChange:e=>g("deaNumber",e.target.value.toUpperCase()),isInvalid:!!f.deaNumber,placeholder:"AB1234567 (2 letters + 7 digits)",maxLength:9}),(0,S.jsx)(Va.Control.Feedback,{type:"invalid",children:f.deaNumber}),(0,S.jsx)(Va.Text,{className:"text-muted",children:"Format: 2 letters followed by 7 digits (e.g., AB1234567)"})]})})}),(0,S.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,S.jsx)(We,{variant:"secondary",onClick:p,disabled:i,children:"Reset"}),(0,S.jsx)(We,{variant:"primary",type:"submit",disabled:i,children:i?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(bv,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Saving..."]}):"Save Settings"})]})]})]})]})})},Ev=()=>{const[e,n]=(0,t.useState)("clients");return(0,S.jsx)(qi,{children:(0,S.jsx)(Mm,{fluid:!0,className:"admin-panel-container py-4",children:(0,S.jsxs)(vs,{className:"shadow-sm",children:[(0,S.jsxs)(vs.Header,{className:"bg-primary text-white",children:[(0,S.jsxs)("h3",{className:"mb-0",children:[(0,S.jsx)(Fy,{className:"me-2"}),"Admin Panel - Edit Selection"]}),(0,S.jsx)("p",{className:"mb-0 mt-2 opacity-75",children:"Manage clients, wholesalers, manual entries, and company settings"})]}),(0,S.jsx)(vs.Body,{className:"p-0",children:(0,S.jsxs)(xy,{activeKey:e,onSelect:e=>n(e),className:"admin-tabs",justify:!0,children:[(0,S.jsx)(Dy,{eventKey:"clients",title:(0,S.jsxs)("span",{children:[(0,S.jsx)(Wy,{className:"me-2"}),"Clients"]}),children:(0,S.jsx)("div",{className:"tab-content-wrapper",children:(0,S.jsx)(pv,{})})}),(0,S.jsx)(Dy,{eventKey:"wholesalers",title:(0,S.jsxs)("span",{children:[(0,S.jsx)(qy,{className:"me-2"}),"Wholesalers"]}),children:(0,S.jsx)("div",{className:"tab-content-wrapper",children:(0,S.jsx)(gv,{})})}),(0,S.jsx)(Dy,{eventKey:"manual-entries",title:(0,S.jsxs)("span",{children:[(0,S.jsx)(Fy,{className:"me-2"}),"Manual Entries"]}),children:(0,S.jsx)("div",{className:"tab-content-wrapper",children:(0,S.jsx)(yv,{})})}),(0,S.jsx)(Dy,{eventKey:"company-settings",title:(0,S.jsxs)("span",{children:[(0,S.jsx)(ev,{className:"me-2"}),"Company Settings"]}),children:(0,S.jsx)("div",{className:"tab-content-wrapper",children:(0,S.jsx)(Cv,{})})})]})})]})})})},_v=()=>(0,S.jsx)(Za,{children:(0,S.jsx)(Xi,{children:(0,S.jsxs)(Wi,{path:"/",element:(0,S.jsx)(qa,{}),children:[(0,S.jsx)(Wi,{index:!0,element:(0,S.jsx)(Ka,{})}),(0,S.jsx)(Wi,{path:"reports",element:(0,S.jsx)(Zs,{})}),(0,S.jsx)(Wi,{path:"reports/client/:clientId",element:(0,S.jsx)(Zs,{})}),(0,S.jsx)(Wi,{path:"scanning",element:(0,S.jsx)(km,{})}),(0,S.jsx)(Wi,{path:"scanning/client/:clientId",element:(0,S.jsx)(km,{})}),(0,S.jsx)(Wi,{path:"scanning/client/:clientId/report/:reportId",element:(0,S.jsx)(km,{})}),(0,S.jsx)(Wi,{path:"admin",element:(0,S.jsx)(Ev,{})})]})})});o.createRoot(document.getElementById("root")).render((0,S.jsx)(ko,{children:(0,S.jsx)(_v,{})}))})()})();
//# sourceMappingURL=main.7619c91b.js.map